/*!
 * EasyData.JS Demo
 * Copyright 2024 Korzh.com
 * Licensed under MIT
 !*/
var easydata=function(t){"use strict";function e(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}e('.keg-container *{outline:none}.keg-container,.keg-header{overflow:hidden}.keg-header{background-color:#f8f8f8;border-bottom:1px solid #babfc7;flex:0 0 auto}.keg-root{border:1px solid #babfc7;display:flex;flex-direction:column;font-family:Roboto,Arial,serif}.keg-body{flex:1;overflow:hidden}.keg-body-viewport{border:1px solid transparent;height:100%;overflow-x:auto;overflow-y:auto}.keg-body-viewport:focus,.keg-body-viewport:focus-within{border:1px solid #838383}.keg-header-row{color:rgba(0,0,0,.54);font-weight:600;min-height:30px}.keg-header-row,.keg-row{display:flex;font-size:12px}.keg-row{align-items:center;background-color:#fff;border-color:#dde2eb;border-bottom:solid #dde2eb;border-width:1px;color:#181d1f;height:26px;outline:none}.keg-row:not(.keg-row-active):not(.keg-row-totals):hover{background-color:#fffae9}.keg-row-odd{background-color:#fcfcfc}.keg-row-active{background-color:#fff3cf}.keg-cell,.keg-header-cell{display:flex}.keg-header-cell{align-items:center;padding:2px 6px;position:relative}.keg-header-cell-resize{align-items:center;display:flex;height:100%;position:absolute;right:-4px;top:0;width:8px;z-index:2}.keg-header-cell-resize:after{background-color:rgba(186,191,199,.5);content:"";display:block;height:50%;left:calc(50% - 1px);position:absolute;top:25%;width:2px;z-index:1}.keg-header-cell-label{-ms-word-wrap:keep-all;text-align:center;width:100%;word-break:keep-all}.keg-cell{align-items:center;border-right:solid transparent;height:100%;outline:none;padding:0 4px 0 10px}.keg-cell-value{max-height:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.keg-cell-align-left,.keg-cell-value-align-left{text-align:left}.keg-cell-align-right,.keg-cell-value-align-right{text-align:right}.keg-cell-align-center,.keg-cell-value-align-center{text-align:center}.keg-cell-value-bool{margin:0 auto;width:auto}.keg-cell-value-true:before{color:#28a745;content:"\\2714";font-size:16px}.keg-cell-value-false:before{color:#dc3545;content:"\\2716";font-size:16px}.keg-header-btn-plus{height:23px;position:relative;width:23px}.keg-header-btn-plus a{background:url("data:image/png;base64,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") no-repeat;display:block;height:100%;width:100%}.keg-header-btn-plus a:hover{background-position:-25px 0!important}.keg-pagination,.keg-pagination-wrapper{display:inline-flex}.keg-pagination{border-radius:4px;margin:0;padding-left:0}.keg-page-item{display:inline}.keg-page-link{background-color:#fff;border:1px solid #ddd;color:#428bca;float:left;font-size:12px;line-height:1.42857;margin-left:-1px;padding:5px 10px;position:relative;text-decoration:none}.keg-page-link:focus,.keg-page-link:hover{background-color:#eee;border-color:#ddd;border-bottom:2px solid #ffd148!important;color:#2a6496}.keg-page-item.active>.keg-page-link,.keg-page-item.active>.keg-page-link:focus,.keg-page-item.active>.keg-page-link:hover{background-color:#428bca;border-color:#428bca;color:#fff;cursor:default;z-index:2}.keg-page-item.disabled>.keg-page-link,.keg-page-item.disabled>.keg-page-link:focus,.keg-page-item.disabled>.keg-page-link:hover{background-color:#fff;border-color:#ddd;color:#999;cursor:not-allowed}.keg-page-item:first-child>.keg-page-link{border-bottom-left-radius:3px;border-top-left-radius:3px;margin-left:0}.keg-page-item:last-child>.keg-page-link{border-bottom-right-radius:3px;border-top-right-radius:3px}.keg-page-sizes{display:inline-flex;margin-left:20px}.keg-page-sizes-select{font-size:12px;height:auto!important}.keg-page-sizes-select:after{border-width:2px!important;height:.6em!important;margin-top:-.6em!important;width:.6em!important}.keg-page-sizes-label{color:rgba(0,0,0,.54);font-size:16px;margin-left:10px;padding:5px 0;white-space:nowrap}.keg-footer{display:flex;flex-wrap:wrap;margin-top:5px}.keg-page-info{color:rgba(0,0,0,.54);flex:1 1 auto;font-size:16px;padding:5px 10px;text-align:end;white-space:nowrap}.keg-page-info>span{color:#212529}.keg-row-totals{font-weight:700}.keg-totals-lv0{background-color:#ace1af}.keg-totals-lv1{background-color:#d0f0c0}.keg-totals-lv2{background-color:#d0f2c0}.keg-totals-lv3{background-color:#d0f4c0}.keg-totals-lv4{background-color:#d0f6c0}.keg-totals-lv5{background-color:#d0f8c0}.keg-sortable-helper{background-color:#fff;border:2px solid #fb9c2f;border-radius:4px;padding:3px 20px}.eqjs-chart-content,.eqjs-chart-main,.keg-container,.keg-root{height:100%}.eqjs-chart-content canvas{max-height:100%}.question-mark{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACE4AAAhOAYwxAOwAAAFgSURBVDhPbdK7K4dRHMfxn1sWUVhcihK/MBKlbMqGKAplMMglk7JJRpOy+R8sJotBiUUiSe6XWNxGpYT3++k5Tw/51Kvfc06/c/2enMzv2K5CCxpRgmecYB+vSJIX/5oCTGINnXjBG+owjXE84gzfSOLAZRxiKG6nU4QpnGIWyY79mIEDa+N2LirRhvK4Tx24Qx+iVOMarhhmHICr7MFJ22GcdB47KLajF8fIt0GcYBujcLur2EBIIa7Q5Eze6hY+ETKCdXzA838hxL4jZB1sOZ4Q4k0+wJ1sogtLSMdKlDnYOtbY8ycNsEzDOLAjFd+CZct04wKeLx3brfCM6ZTiFvWu7MvxTGMIt20slbWNbjWOj2oB54hWNv2wNNbRCU0FJhAGO3AQN/B/SRzgy7mHdfxvqytwYI8dJr1Nv635HFzVcnirXk4z3OoidhElPTjEbfrqsiiDZ7uMf98RJ5P5AUhxQvegD107AAAAAElFTkSuQmCC") no-repeat 50%;height:20px;margin-left:5px;position:relative;width:20px}');e('.kdlg-modal,.kdlg-modal-background{bottom:0;left:0;position:absolute;right:0;top:0}.kdlg-modal-background{background-color:hsla(0,0%,4%,.5)}.kdlg-modal{align-items:center;display:none;flex-direction:column;font-family:Roboto,Arial,serif;font-size:16px;font-weight:400;justify-content:center;line-height:1.5;overflow:hidden;position:fixed;z-index:9999}.kdlg-modal.is-active{display:flex}.kdlg-modal-window,.kdlg-modal-window.size-default{display:flex;flex-direction:column;margin:0 20px;max-height:calc(100vh - 40px);overflow:hidden;-ms-overflow-y:visible;position:relative;width:100%}@media print,screen and (min-width:481px){.kdlg-modal-window.size-small{margin:0 auto;width:400px}}@media print,screen and (min-width:769px){.kdlg-modal-window,.kdlg-modal-window.size-default{margin:0 auto;width:640px}.kdlg-modal-window.size-large,.kdlg-modal-window.size-xl{margin:0 20px;width:100%}}@media print,screen and (min-width:1025px){.kdlg-modal-window.size-large{margin:0 auto;width:900px}}@media print,screen and (min-width:1383px){.kdlg-modal-window.size-xl{margin:0 auto;width:1200px}}.kdlg-footer,.kdlg-header{align-items:center;background-color:#fff;display:flex;flex-shrink:0;justify-content:flex-start;padding:20px;position:relative}.kdlg-footer.align-right{justify-content:flex-end}.kdlg-footer.align-center{justify-content:center}.kdlg-header{border-top-left-radius:6px;border-top-right-radius:6px}.kdlg-header.has-border{border-bottom:1px solid #dbdbdb}.kdlg-footer{border-bottom-left-radius:6px;border-bottom-right-radius:6px;color:initial;height:auto;margin:unset;min-height:10px}.kdlg-footer.has-border{border-top:1px solid #dbdbdb}.kdlg-header-title{color:#363636;flex-grow:1;flex-shrink:0;font-size:1.6em;line-height:1;margin:0;padding:0}.kdlg-modal-close{-webkit-touch-callout:none;-moz-appearance:none;-webkit-appearance:none;background-color:hsla(0,0%,4%,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:24px;max-height:24px;max-width:24px;min-height:24px;min-width:24px;outline:0;pointer-events:auto;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:top;width:24px}.kdlg-modal-close:after,.kdlg-modal-close:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.kdlg-modal-close:before{height:2px;width:50%}.kdlg-modal-close:after{height:50%;width:2px}.kdlg-modal-close:focus,.kdlg-modal-close:hover{background-color:rgba(255,1,1,.48)}.kdlg-body{-webkit-overflow-scrolling:touch;background-color:#fff;color:#4a4a4a;flex-grow:1;flex-shrink:1;font-size:1em;overflow:auto;padding:20px}.kdlg-alert-container{max-height:150px;overflow-y:auto}.kdlg-alert{background-color:#e2f5ff;color:#004aef;min-height:60px;min-width:1px;padding:20px}.kdlg-alert.success{background-color:#efffe6;color:#0c7905}.kdlg-alert.warning{background-color:#fff7e5;color:#e49e02}.kdlg-alert.error{background-color:#ffe2e2;color:red}.kdlg-alert-closebtn{cursor:pointer;float:right;font-size:22px;line-height:20px;margin-left:15px;transition:.3s}.kdlg-progress-line{background-color:#e0e0e0;border-radius:3px;box-shadow:inset 0 1px 3px rgba(0,0,0,.2);overflow:hidden;padding:3px;width:100%}.kdlg-progress-line .fill{background-color:#659cef;border-radius:3px;display:block;height:22px;transition:width .5s ease-in-out}.kdlg-progress-line .fill.indeterminate{animation:kdlg-progress-line-loading 2s linear infinite;left:-200px;position:relative;transition:none;width:200px}@keyframes kdlg-progress-line-loading{0%{left:-200px}to{left:120%}}');e('.kfrm-buttons{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.kfrm-buttons.align-right{justify-content:flex-end}.kfrm-buttons.align-center{justify-content:center}.kfrm-buttons:last-child{margin-bottom:-.5rem}.kfrm-buttons .kfrm-button{margin-bottom:.5rem}.kfrm-button{-webkit-touch-callout:none;align-items:center;-moz-appearance:none;-webkit-appearance:none;background-color:#fff;border:1px solid #dbdbdb;border-radius:4px;box-shadow:none;color:#363636;cursor:pointer;display:inline-flex;font-size:1em;height:2.5em;justify-content:center;line-height:1.5;padding:calc(.5em - 1px) 1em;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:top;white-space:nowrap}.kfrm-button:not(:last-child){margin-right:.5em}.kfrm-button.is-hovered,.kfrm-button:hover{border-color:#b5b5b5;color:#363636}.kfrm-button.is-focused,.kfrm-button:focus{border-color:#3273dc;color:#363636;outline:none}.kfrm-button.is-focused:not(:active),.kfrm-button:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.kfrm-button.is-active,.kfrm-button:active{border-color:#4a4a4a;color:#363636}.kfrm-button[disabled],fieldset[disabled] .kfrm-button{background-color:#fff;border-color:#dbdbdb;box-shadow:none;cursor:not-allowed;opacity:.5}.kfrm-button.is-loading{color:transparent!important;pointer-events:none}.kfrm-button.is-loading:after{animation:spinAround .5s linear infinite;border-color:transparent transparent #dbdbdb #dbdbdb;border-radius:290486px;border-style:solid;border-width:2px;content:"";display:block;height:1em;left:calc(50% - .5em);position:absolute!important;top:calc(50% - .5em);width:1em}@keyframes spinAround{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.kfrm-button.size-small,.kfrm-buttons.size-small .kfrm-button:not(.size-default):not(.size-medium):not(.size-large){border-radius:2px;font-size:.75rem}.kfrm-button.size-default\r\n.kfrm-buttons.size-default .kfrm-button:not(.size-small):not(.size-medium):not(.size-large){font-size:1rem}.kfrm-button.size-medium,.kfrm-buttons.size-medium .kfrm-button:not(.size-small):not(.size-default):not(.size-large){font-size:1.25rem}.kfrm-button.size-large\r\n.kfrm-buttons.size-large .kfrm-button:not(.size-small):not(.size-default):not(.size-medium){font-size:1.5rem}.kfrm-button.is-white{background-color:#fff;border-color:transparent;color:#0a0a0a}.kfrm-button.is-white.is-hovered,.kfrm-button.is-white:hover{background-color:#f9f9f9;border-color:transparent;color:#0a0a0a}.kfrm-button.is-white.is-focused,.kfrm-button.is-white:focus{border-color:transparent;color:#0a0a0a}.kfrm-button.is-white.is-focused:not(:active),.kfrm-button.is-white:focus:not(:active){box-shadow:0 0 0 .125em hsla(0,0%,59%,.15)}.kfrm-button.is-white.is-active,.kfrm-button.is-white:active{background-color:#f2f2f2;border-color:transparent;color:#0a0a0a}.kfrm-button.is-dark{background-color:#363636e6;border-color:transparent;color:#fff}.kfrm-button.is-dark.is-hovered,.kfrm-button.is-dark:hover{background-color:#2f2f2f;border-color:transparent;color:#fff}.kfrm-button.is-dark.is-focused,.kfrm-button.is-dark:focus{border-color:transparent;color:#fff}.kfrm-button.is-dark.is-focused:not(:active),.kfrm-button.is-dark:focus:not(:active){box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.kfrm-button.is-dark.is-active,.kfrm-button.is-dark:active{background-color:#292929;border-color:transparent;color:#fff}.kfrm-button.is-primary{background-color:#00d1b2;border-color:transparent;color:#fff}.kfrm-button.is-primary.is-hovered,.kfrm-button.is-primary:hover{background-color:#00c4a7;border-color:transparent;color:#fff}.kfrm-button.is-primary.is-focused,.kfrm-button.is-primary:focus{border-color:transparent;color:#fff}.kfrm-button.is-primary.is-focused:not(:active),.kfrm-button.is-primary:focus:not(:active){box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.kfrm-button.is-primary.is-active,.kfrm-button.is-primary:active{background-color:#00b89c;border-color:transparent;color:#fff}.kfrm-button.is-primary.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-link{background-color:#3273dc;border-color:transparent;color:#fff}.kfrm-button.is-link.is-hovered,.kfrm-button.is-link:hover{background-color:#276cda;border-color:transparent;color:#fff}.kfrm-button.is-link.is-focused,.kfrm-button.is-link:focus{border-color:transparent;color:#fff}.kfrm-button.is-link.is-focused:not(:active),.kfrm-button.is-link:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.kfrm-button.is-link.is-active,.kfrm-button.is-link:active{background-color:#2366d1;border-color:transparent;color:#fff}.kfrm-button.is-link.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-info{background-color:#3298dc;border-color:transparent;color:#fff}.kfrm-button.is-info.is-hovered,.kfrm-button.is-info:hover{background-color:#2793da;border-color:transparent;color:#fff}.kfrm-button.is-info.is-focused,.kfrm-button.is-info:focus{border-color:transparent;color:#fff}.kfrm-button.is-info.is-focused:not(:active),.kfrm-button.is-info:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,152,220,.25)}.kfrm-button.is-info.is-active,.kfrm-button.is-info:active{background-color:#238cd1;border-color:transparent;color:#fff}.kfrm-button.is-info.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-success{background-color:#48c774;border-color:transparent;color:#fff}.kfrm-button.is-success.is-hovered,.kfrm-button.is-success:hover{background-color:#3ec46d;border-color:transparent;color:#fff}.kfrm-button.is-success.is-focused:not(:active),.kfrm-button.is-success:focus:not(:active){box-shadow:0 0 0 .125em rgba(72,199,116,.25)}.kfrm-button.is-success.is-active,.kfrm-button.is-success:active{background-color:#3abb67;border-color:transparent;color:#fff}.kfrm-button.is-success.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-warning{background-color:#ffdd57;border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-hovered,.kfrm-button.is-warning:hover{background-color:#ffdb4a;border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-focused,.kfrm-button.is-warning:focus{border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-focused:not(:active),.kfrm-button.is-warning:focus:not(:active){box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.kfrm-button.is-warning.is-active,.kfrm-button.is-warning:active{background-color:#ffd83d;border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-loading:after{border-color:transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important}.kfrm-button.is-danger{background-color:#f14668;border-color:transparent;color:#fff}.kfrm-button.is-danger.is-hovered,.kfrm-button.is-danger:hover{background-color:#f03a5f;border-color:transparent;color:#fff}.kfrm-button.is-danger.is-focused,.kfrm-button.is-danger:focus{border-color:transparent;color:#fff}.kfrm-button.is-danger.is-focused:not(:active),.kfrm-button.is-danger:focus:not(:active){box-shadow:0 0 0 .125em rgba(241,70,104,.25)}.kfrm-button.is-danger.is-active,.kfrm-button.is-danger:active{background-color:#ef2e55;border-color:transparent;color:#fff}.kfrm-button.is-danger.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-row{margin-left:-.75rem;margin-right:-.75rem;margin-top:-.75rem}.kfrm-row:not(:last-child){margin-bottom:.75rem}@media print,screen and (min-width:769px){.kfrm-row{display:flex;flex-wrap:wrap}.kdlg-modal-window.size-small .kfrm-row{display:block}.kfrm-column.size-1{flex:none;width:8.33333%}.kfrm-column.size-2{flex:none;width:16.66667%}.kfrm-column.size-3{flex:none;width:25%}.kfrm-column.size-4{flex:none;width:33.33333%}.kfrm-column.size-5{flex:none;width:41.66667%}.kfrm-column.size-6{flex:none;width:50%}.kfrm-column.size-7{flex:none;width:58.33333%}.kfrm-column.size-8{flex:none;width:66.66667%}.kfrm-column.size-9{flex:none;width:75%}.kfrm-column.size-10{flex:none;width:83.33333%}.kfrm-column.size-11{flex:none;width:91.66667%}.kfrm-column.size-12{flex:none;width:100%}}.kfrm-column{display:block;flex-basis:0;flex-grow:1;flex-shrink:1;padding:.75rem}.kfrm-form .errors-block{color:red}.kfrm-form .control{box-sizing:border-box;clear:both;display:inline-flex;max-width:100%;padding:0!important;position:relative;text-align:inherit;width:100%}.kfrm-form .icon{align-items:center;display:inline-flex;height:1.5em;justify-content:center;width:1.5em}.kfrm-form .control.has-icons-left .select select,.kfrm-form .control.has-icons-left input{padding-left:2.5em}.kfrm-form .control.has-icons-right .select select,.kfrm-form .control.has-icons-right input{padding-right:2.5em}.kfrm-form .control.has-icons-left .icon.is-left{left:0}.kfrm-form .control.has-icons-right .icon.is-right{right:0}.kfrm-form .control .icon{color:#dbdbdb;height:2.5em;pointer-events:none;position:absolute;top:0;width:2.5em;z-index:4}.kfrm-form .control .icon.is-clickable{pointer-events:auto}.kfrm-form .control .icon.is-clickable:hover{color:#4a4a4a;cursor:pointer}.kfrm-form input.is-valid:not([type=checkbox]),.kfrm-form input.is-valid:not([type=checkbox]):hover{border-color:green}.kfrm-form input.is-invalid:not([type=checkbox]),.kfrm-form input.is-invalid:not([type=checkbox]):hover{border-color:red}.kfrm-form input:not([type=checkbox]):-moz-read-only{background-color:#e9ecef;opacity:1}.kfrm-form input:not([type=checkbox]):read-only{background-color:#e9ecef;opacity:1}.kfrm-form input:not([type=checkbox]),.kfrm-form textarea,.kfrm-select select{align-items:center;-moz-appearance:none;-webkit-appearance:none;background-color:#fff;border:1px solid transparent;border-color:#dbdbdb;border-radius:4px;box-shadow:none;color:#363636;display:inline-flex;font-size:1em;height:2.5em;justify-content:flex-start;line-height:1.5;outline:0;padding:calc(.5em - 1px) calc(.75em - 1px);position:relative;vertical-align:top}.kfrm-form input:not([type=checkbox]),.kfrm-form textarea{box-shadow:inset 0 .0625em .125em hsla(0,0%,4%,.05);max-width:100%;width:100%}.kfrm-form input:not([type=checkbox]).is-hovered,.kfrm-form input:not([type=checkbox]):hover,.kfrm-form textarea.is-hovered,.kfrm-form textarea:hover,.kfrm-select select.is-hovered,.kfrm-select select:hover{border-color:#b5b5b5}.kfrm-form input:not([type=checkbox]).is-active,.kfrm-form input:not([type=checkbox]).is-focused,.kfrm-form input:not([type=checkbox]):active,.kfrm-form input:not([type=checkbox]):focus,.kfrm-form textarea.is-active,.kfrm-form textarea.is-focused,.kfrm-form textarea:active,.kfrm-form textarea:focus,.kfrm-select select.is-active,.kfrm-select select.is-focused,.kfrm-select select:active,.kfrm-select select:focus{border-color:#3273dc;box-shadow:0 0 0 .125em rgba(50,115,220,.25);outline:0}.kfrm-select{display:inline-block;max-width:100%;padding:0;position:relative;vertical-align:top;width:-moz-max-content;width:max-content}.kfrm-select.full-width{width:100%}.kfrm-select select::-ms-expand{display:none!important}.kfrm-select:not(.is-multiple){height:2.5em}.kfrm-select select{cursor:pointer;display:block;font-size:1em;max-width:100%;outline:0}.kfrm-select select:not([multiple]){padding-right:2.5em}.kfrm-select.kfrm-select.full-width select:not([multiple]){width:100%}.kfrm-select:not(.is-multiple):not(.is-loading):after{border:3px solid #3273dc;border-radius:2px;border-right:0;border-top:0;content:" ";display:block;height:.425em;margin-top:-.5em;pointer-events:none;position:absolute;right:.7em;top:50%;transform:rotate(-45deg);transform-origin:center;width:.425em;z-index:4}.kfrm-form textarea{display:block;max-width:100%;min-width:100%;padding:calc(.75em - 1px);resize:vertical}.kfrm-form textarea:not([rows]){max-height:40em;min-height:8em}.kfrm-form{font-size:16px}.kfrm-form fieldset{border:1px solid #dbdbdb;border-radius:6px;padding:20px}.kfrm-form fieldset>legend{font-size:16px;font-weight:600;margin-bottom:0;padding-inline-end:10px;padding-inline-start:10px;width:auto}.kfrm-break,.kfrm-break-50{margin-top:50px}.kfrm-break-10{margin-top:10px}.kfrm-break-20{margin-top:20px}.kfrm-break-30{margin-top:30px}.kfrm-break-40{margin-top:40px}.kfrm-break-60{margin-top:60px}.kfrm-break-70{margin-top:70px}.kfrm-break-80{margin-top:10px}.kfrm-fields,.kfrm-fields.col-a{grid-gap:10px;display:grid;grid-auto-rows:auto;grid-template-columns:auto}.kfrm-fields:not(:last-child){margin-bottom:.75rem}.kfrm-fields>label{padding:.5em 0}.kfrm-fields .label-compact{font-size:.9em}fieldset .kfrm-fields>label{margin:0;padding:0}.kfrm-fields>label:not(.checkbox){font-weight:600}.kfrm-fields.label-above>label:not(.checkbox){font-weight:500;margin-bottom:-.5em;padding:.5em 0 0}.kfrm-fields.label-align-right>label:not(.checkbox){text-align:right}.kfrm-fields.col-a-1{grid-template-columns:auto 1fr}.kfrm-fields.col-1-a{grid-template-columns:1fr auto}.kfrm-fields.col-a-a{grid-template-columns:auto auto}.kfrm-fields.col-1-1{grid-template-columns:1fr 1fr}.kfrm-fields.col-1-2{grid-template-columns:1fr 2fr}.kfrm-fields.col-1-3{grid-template-columns:1fr 3fr}.kfrm-fields.col-2-1{grid-template-columns:2fr 1fr}.kfrm-fields.col-3-1{grid-template-columns:3fr 1fr}.kfrm-fields.col-2-3{grid-template-columns:2fr 3fr}.kfrm-fields.col-3-2{grid-template-columns:3fr 2fr}.kfrm-fields.is-horizontal{display:flex;padding:0}.kfrm-fields.is-horizontal.align-right{justify-content:flex-end}.kfrm-fields.is-horizontal.align-center{justify-content:center}.kfrm-fields.is-horizontal.align-evenly{justify-content:space-evenly}.kfrm-fields.is-horizontal>label:not(:first-child){margin-left:.5rem}.kfrm-fields-ie{display:flex;flex-direction:column;font-size:16px}.kfrm-field-ie{display:flex;margin-bottom:1em}.kfrm-field-ie>:first-child{margin-right:20px}.kfrm-field-ie>label{padding:.5em 0}.kfrm-fields-ie.col-ie-1-1>.kfrm-field-ie>:first-child{flex:0 0 50%}.kfrm-fields-ie.col-ie-1-2>.kfrm-field-ie>:first-child{flex:0 0 33.3333%}.kfrm-fields-ie.col-ie-1-3>.kfrm-field-ie>:first-child{flex:0 0 25%}.kfrm-fields-ie.col-ie-1-4>.kfrm-field-ie>:first-child{flex:0 0 20%}.kfrm-fields-ie.label-align-right .kfrm-field-ie>:first-child{text-align:right}.kfrm-fields-ie.label-above .kfrm-field-ie>:first-child:not(.checkbox){margin-bottom:-.5em;padding:.5em 0 0}.kfrm-field-ie>label:not(.checkbox),.kfrm-fields-ie>label:not(.checkbox){font-weight:600}.kfrm-fields-ie.is-horizontal{display:flex;flex-direction:row;padding:0!important}.kfrm-fields-ie.kfrm-fields-ie.is-horizontal>:not(.kfrm-select){padding:.5em}.kfrm-fields-ie.is-horizontal>:not(:first-child){margin-left:1em}.kfrm-fields-ie>label{padding-left:0!important;padding-right:0!important}.kfrm-field>label{padding-right:.5em}.kfrm-callout{font-size:1.2em;text-align:center}.kdtp{background-color:#fff;border:1px solid silver;border-radius:8px;box-shadow:4px 8px 15px 0 rgba(0,0,0,.16);font-size:.7rem;outline:none;overflow:hidden;z-index:100000}.kdtp-buttons{display:flex;flex-direction:row;justify-content:space-between;margin-top:1em}.kdtp-button{background-color:#09c;border:none;color:#fff;cursor:pointer;flex:1;font-weight:500;height:2.5em;text-align:center;text-decoration:none}.kdtp-button:active,.kdtp-button:focus{outline:0}.kdtp-button-now{background-color:#fff;border:none;color:#09c}.kdtp-button:nth-child(2){border-top-left-radius:8px}.kdtp-button:not(:first-child){margin-left:2px}.kdtp-cal{padding:0}.kdtp-cal *{outline:none!important}.kdtp-cal-body{grid-gap:.5em;-ms-grid-rows:1fr .5em 1fr .5em 1fr .5em 1fr .5em 1fr .5em 1fr .5em 1fr;box-sizing:border-box;display:grid;grid-template-columns:repeat(7,minmax(1em,1fr));padding:0 12px}.kdtp-cal-body>:first-child{-ms-grid-column:1;-ms-grid-row:1}.kdtp-cal-body>:nth-child(2){-ms-grid-column:3;-ms-grid-row:1}.kdtp-cal-body>:nth-child(3){-ms-grid-column:5;-ms-grid-row:1}.kdtp-cal-body>:nth-child(4){-ms-grid-column:7;-ms-grid-row:1}.kdtp-cal-body>:nth-child(5){-ms-grid-column:9;-ms-grid-row:1}.kdtp-cal-body>:nth-child(6){-ms-grid-column:11;-ms-grid-row:1}.kdtp-cal-body>:nth-child(7){-ms-grid-column:13;-ms-grid-row:1}.kdtp-cal-body>:nth-child(8){-ms-grid-column:1;-ms-grid-row:3}.kdtp-cal-body>:nth-child(9){-ms-grid-column:3;-ms-grid-row:3}.kdtp-cal-body>:nth-child(10){-ms-grid-column:5;-ms-grid-row:3}.kdtp-cal-body>:nth-child(11){-ms-grid-column:7;-ms-grid-row:3}.kdtp-cal-body>:nth-child(12){-ms-grid-column:9;-ms-grid-row:3}.kdtp-cal-body>:nth-child(13){-ms-grid-column:11;-ms-grid-row:3}.kdtp-cal-body>:nth-child(14){-ms-grid-column:13;-ms-grid-row:3}.kdtp-cal-body>:nth-child(15){-ms-grid-column:1;-ms-grid-row:5}.kdtp-cal-body>:nth-child(16){-ms-grid-column:3;-ms-grid-row:5}.kdtp-cal-body>:nth-child(17){-ms-grid-column:5;-ms-grid-row:5}.kdtp-cal-body>:nth-child(18){-ms-grid-column:7;-ms-grid-row:5}.kdtp-cal-body>:nth-child(19){-ms-grid-column:9;-ms-grid-row:5}.kdtp-cal-body>:nth-child(20){-ms-grid-column:11;-ms-grid-row:5}.kdtp-cal-body>:nth-child(21){-ms-grid-column:13;-ms-grid-row:5}.kdtp-cal-body>:nth-child(22){-ms-grid-column:1;-ms-grid-row:7}.kdtp-cal-body>:nth-child(23){-ms-grid-column:3;-ms-grid-row:7}.kdtp-cal-body>:nth-child(24){-ms-grid-column:5;-ms-grid-row:7}.kdtp-cal-body>:nth-child(25){-ms-grid-column:7;-ms-grid-row:7}.kdtp-cal-body>:nth-child(26){-ms-grid-column:9;-ms-grid-row:7}.kdtp-cal-body>:nth-child(27){-ms-grid-column:11;-ms-grid-row:7}.kdtp-cal-body>:nth-child(28){-ms-grid-column:13;-ms-grid-row:7}.kdtp-cal-body>:nth-child(29){-ms-grid-column:1;-ms-grid-row:9}.kdtp-cal-body>:nth-child(30){-ms-grid-column:3;-ms-grid-row:9}.kdtp-cal-body>:nth-child(31){-ms-grid-column:5;-ms-grid-row:9}.kdtp-cal-body>:nth-child(32){-ms-grid-column:7;-ms-grid-row:9}.kdtp-cal-body>:nth-child(33){-ms-grid-column:9;-ms-grid-row:9}.kdtp-cal-body>:nth-child(34){-ms-grid-column:11;-ms-grid-row:9}.kdtp-cal-body>:nth-child(35){-ms-grid-column:13;-ms-grid-row:9}.kdtp-cal-body>:nth-child(36){-ms-grid-column:1;-ms-grid-row:11}.kdtp-cal-body>:nth-child(37){-ms-grid-column:3;-ms-grid-row:11}.kdtp-cal-body>:nth-child(38){-ms-grid-column:5;-ms-grid-row:11}.kdtp-cal-body>:nth-child(39){-ms-grid-column:7;-ms-grid-row:11}.kdtp-cal-body>:nth-child(40){-ms-grid-column:9;-ms-grid-row:11}.kdtp-cal-body>:nth-child(41){-ms-grid-column:11;-ms-grid-row:11}.kdtp-cal-body>:nth-child(42){-ms-grid-column:13;-ms-grid-row:11}.kdtp-cal-body>:nth-child(43){-ms-grid-column:1;-ms-grid-row:13}.kdtp-cal-body>:nth-child(44){-ms-grid-column:3;-ms-grid-row:13}.kdtp-cal-body>:nth-child(45){-ms-grid-column:5;-ms-grid-row:13}.kdtp-cal-body>:nth-child(46){-ms-grid-column:7;-ms-grid-row:13}.kdtp-cal-body>:nth-child(47){-ms-grid-column:9;-ms-grid-row:13}.kdtp-cal-body>:nth-child(48){-ms-grid-column:11;-ms-grid-row:13}.kdtp-cal-body>:nth-child(49){-ms-grid-column:13;-ms-grid-row:13}.kdtp-cal-header-input{background:#fff;border:1px solid silver;color:#262626;font-size:1em;height:100%;outline:none;padding:2px 5px;width:100%}.kdtp-cal-header-input.error{border-color:red}.kdtp-cal-header{background-color:#09c;color:#fff;font-size:1.2em;font-weight:600;height:2em;line-height:2em;text-align:center}.kdtp-cal-nav{display:flex;line-height:1em;margin:.7em 0;padding:0}.kdtp-cal-nav-next,.kdtp-cal-nav-prev{color:#777;flex:0 0 auto;font-size:3em;font-weight:600;text-align:center;width:1em}.kdtp-cal-nav-next:hover,.kdtp-cal-nav-prev:hover{color:#09c;cursor:pointer}.kdtp-cal-nav-selectors{display:flex;flex:1 1 auto;font-size:1.2em;margin:0 .5em}.kdtp-cal-nav-month{flex:1 1 auto;margin-right:.5em}.kdtp-cal-nav-year{flex:0 0 auto}.kdtp-cal-nav-selectors select{border:none;color:#777;font-weight:600}.kdtp-cal-nav-selectors select:hover{color:#09c}.kdtp-cal-nav-selectors select:hover option{color:#777}.kdtp-cal-weekday{align-items:center;color:#262626;display:flex;font-size:.8em;font-weight:600;height:1.8em;justify-content:center}.kdtp-cal-weekday.kdtp-cal-weekend{color:#ff685d}.kdtp-cal-day,.kdtp-cal-day-empty{align-items:center;border-radius:4px;color:#262626;display:flex;height:1.5em;justify-content:center}.kdtp-cal-day.kdtp-cal-weekend{color:#ff685d;font-weight:700}.kdtp-cal-day-selected,.kdtp-cal-day:hover{border:2px solid #09c;cursor:pointer;font-weight:700}.kdtp-cal-day-current{background-color:#d3d3d3}.kdtp-tp{-ms-flex-align:center;align-items:center;-webkit-align-items:center;display:flex;display:-ms-flexbox;margin-top:1em;padding:0 1em}.kdtp-tp-time{border:2px solid #09c;border-radius:6px;color:#777;flex:0 0 5em;-webkit-flex:0 0 5em;-ms-flex:0 0 5em;font-weight:600;margin-right:.5em;text-align:center}.kdtp-tp-sliders{flex:1 1 auto;-webkit-flex:1 1 auto;-ms-flex:1 1 auto}.kdtp-tp-time-row{align-items:center;background:linear-gradient(90deg,#c5c5c5,#c5c5c5) left 50%/100% 1px no-repeat;display:flex;height:1.5em}.kdtp-tp-time-row input[type=range]{-webkit-appearance:none;background:0 0;cursor:pointer;flex:1;height:100%;margin:0;padding:0}.kdtp-tp-time-row input[type=range]:hover::-webkit-slider-thumb{border-color:#777}.kdtp-tp-time-row input[type=range]:hover::-moz-range-thumb{border-color:#777}.kdtp-tp-time-row input[type=range]:hover::-ms-thumb{border-color:#777}.kdtp-tp-time-row input[type=range]:focus{outline:0}.kdtp-tp-time-row input[type=range]:focus::-webkit-slider-thumb{background:#09c;border-color:#09c}.kdtp-tp-time-row input[type=range]:focus::-moz-range-thumb{background:#09c;border-color:#09c}.kdtp-tp-time-row input[type=range]:focus::-ms-thumb{background:#09c;border-color:#09c}.kdtp-tp-time-row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;border:1px solid #c5c5c5;border-radius:3px;box-sizing:border-box;cursor:pointer;height:12px;margin-top:-6px;-webkit-transition:background .2s;transition:background .2s;width:12px}.kdtp-tp-time-row input[type=range]::-moz-range-thumb{background:#fff;border:1px solid #c5c5c5;border-radius:3px;box-sizing:border-box;cursor:pointer;height:12px;-moz-transition:background .2s;transition:background .2s;width:12px}.kdtp-tp-time-row input[type=range]::-ms-thumb{background:#fff;border:1px solid #c5c5c5;border-radius:3px;box-sizing:border-box;cursor:pointer;height:12px;-ms-transition:background .2s;transition:background .2s;width:12px}.kdtp-tp-time-row input[type=range]::-webkit-slider-runnable-track{background:0 0;border:none;color:transparent;cursor:pointer;height:1px}.kdtp-tp-time-row input[type=range]::-moz-range-track{background:0 0;border:none;color:transparent;cursor:pointer;height:1px}.kdtp-tp-time-row input[type=range]::-ms-track{background:0 0;border:none;color:transparent;cursor:pointer;height:1px}.kdtp-tp-time-row input[type=range]::-ms-fill-lower,.kdtp-tp-time-row input[type=range]::-ms-fill-upper{background:0 0}:root{--tsp-border-color:#e8e8e8;--tsp-control-background:#ebebeb;--tsp-control-text-color:#000}.tsp__container{display:flex;flex-flow:row}.tsp__intervals{border-right:1px solid var(--tsp-border-color);display:flex;flex-flow:column;padding-right:10px}.tsp__button{align-items:center;background-color:var(--tsp-control-background);border:1px solid transparent;box-sizing:border-box;color:var(--tsp-control-text-color);cursor:pointer;display:inline-flex;font-size:12px;font-weight:400;justify-content:center;line-height:1.2;margin-bottom:4px;opacity:.8;outline:none;overflow:visible;padding:4px 12px;position:relative;text-align:center;transition:all .15s ease-in-out;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.tsp__button:hover{border-color:var(--tsp-border-color);opacity:1}.tsp__button:active{opacity:.9}.tsp__form{display:flex;flex-flow:row nowrap;width:100%}.tsp__date{display:flex;flex-flow:column;padding:0 10px;width:50%}.tsp__label{display:flex;flex-flow:row nowrap}.tsp__label label{font-weight:700}.tsp__label select{border-color:var(--tsp-border-color);font-size:12px;margin-left:auto}.tsp__calendar{margin:10px 0;width:230px}.tsp__calendar .kdtp-cal-header input{border:1px solid var(--tsp-border-color)!important}.tsp__calendar{display:flex;flex-flow:column}.tsp__calendar .kdtp-cal-body{margin:10px 0!important}.tsp__calendar .kdtp-cal-header{margin-bottom:10px!important}.tsp__calendar .kdtp-cal-nav-selectors{font-size:16px!important}.tsp__calendar .kdtp-cal-body{grid-gap:2px!important;padding:0!important}.tsp__calendar .kdtp-cal-nav-next,.tsp__calendar .kdtp-cal-nav-prev{font-size:2em!important;width:auto!important}.tsp__calendar .kdtp-cal-body{border:1px solid var(--tsp-border-color);padding:5px!important}.tsp__calendar .kdtp-cal-day{border:1px solid var(--tsp-border-color);font-size:14px;height:30px;width:30px}.tsp__calendar .kdtp-cal-day-current{background:#3ab93c;color:#fff}.tsp__calendar .day-in-range{background:#c6e3ff!important}.kdlg-footer{border-top:1px solid var(--tsp-border-color)}');e('.keg-container *{outline:none}.keg-container,.keg-header{overflow:hidden}.keg-header{background-color:#f8f8f8;border-bottom:1px solid #babfc7;flex:0 0 auto}.keg-root{border:1px solid #babfc7;display:flex;flex-direction:column;font-family:Roboto,Arial,serif}.keg-body{flex:1;overflow:hidden}.keg-body-viewport{border:1px solid transparent;height:100%;overflow-x:auto;overflow-y:auto}.keg-body-viewport:focus,.keg-body-viewport:focus-within{border:1px solid #838383}.keg-header-row{color:rgba(0,0,0,.54);font-weight:600;min-height:30px}.keg-header-row,.keg-row{display:flex;font-size:12px}.keg-row{align-items:center;background-color:#fff;border-color:#dde2eb;border-bottom:solid #dde2eb;border-width:1px;color:#181d1f;height:26px;outline:none}.keg-row:not(.keg-row-active):not(.keg-row-totals):hover{background-color:#fffae9}.keg-row-odd{background-color:#fcfcfc}.keg-row-active{background-color:#fff3cf}.keg-cell,.keg-header-cell{display:flex}.keg-header-cell{align-items:center;padding:2px 6px;position:relative}.keg-header-cell-resize{align-items:center;display:flex;height:100%;position:absolute;right:-4px;top:0;width:8px;z-index:2}.keg-header-cell-resize:after{background-color:rgba(186,191,199,.5);content:"";display:block;height:50%;left:calc(50% - 1px);position:absolute;top:25%;width:2px;z-index:1}.keg-header-cell-label{-ms-word-wrap:keep-all;text-align:center;width:100%;word-break:keep-all}.keg-cell{align-items:center;border-right:solid transparent;height:100%;outline:none;padding:0 4px 0 10px}.keg-cell-value{max-height:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.keg-cell-align-left,.keg-cell-value-align-left{text-align:left}.keg-cell-align-right,.keg-cell-value-align-right{text-align:right}.keg-cell-align-center,.keg-cell-value-align-center{text-align:center}.keg-cell-value-bool{margin:0 auto;width:auto}.keg-cell-value-true:before{color:#28a745;content:"\\2714";font-size:16px}.keg-cell-value-false:before{color:#dc3545;content:"\\2716";font-size:16px}.keg-header-btn-plus{height:23px;position:relative;width:23px}.keg-header-btn-plus a{background:url("data:image/png;base64,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") no-repeat;display:block;height:100%;width:100%}.keg-header-btn-plus a:hover{background-position:-25px 0!important}.keg-pagination,.keg-pagination-wrapper{display:inline-flex}.keg-pagination{border-radius:4px;margin:0;padding-left:0}.keg-page-item{display:inline}.keg-page-link{background-color:#fff;border:1px solid #ddd;color:#428bca;float:left;font-size:12px;line-height:1.42857;margin-left:-1px;padding:5px 10px;position:relative;text-decoration:none}.keg-page-link:focus,.keg-page-link:hover{background-color:#eee;border-color:#ddd;border-bottom:2px solid #ffd148!important;color:#2a6496}.keg-page-item.active>.keg-page-link,.keg-page-item.active>.keg-page-link:focus,.keg-page-item.active>.keg-page-link:hover{background-color:#428bca;border-color:#428bca;color:#fff;cursor:default;z-index:2}.keg-page-item.disabled>.keg-page-link,.keg-page-item.disabled>.keg-page-link:focus,.keg-page-item.disabled>.keg-page-link:hover{background-color:#fff;border-color:#ddd;color:#999;cursor:not-allowed}.keg-page-item:first-child>.keg-page-link{border-bottom-left-radius:3px;border-top-left-radius:3px;margin-left:0}.keg-page-item:last-child>.keg-page-link{border-bottom-right-radius:3px;border-top-right-radius:3px}.keg-page-sizes{display:inline-flex;margin-left:20px}.keg-page-sizes-select{font-size:12px;height:auto!important}.keg-page-sizes-select:after{border-width:2px!important;height:.6em!important;margin-top:-.6em!important;width:.6em!important}.keg-page-sizes-label{color:rgba(0,0,0,.54);font-size:16px;margin-left:10px;padding:5px 0;white-space:nowrap}.keg-footer{display:flex;flex-wrap:wrap;margin-top:5px}.keg-page-info{color:rgba(0,0,0,.54);flex:1 1 auto;font-size:16px;padding:5px 10px;text-align:end;white-space:nowrap}.keg-page-info>span{color:#212529}.keg-row-totals{font-weight:700}.keg-totals-lv0{background-color:#ace1af}.keg-totals-lv1{background-color:#d0f0c0}.keg-totals-lv2{background-color:#d0f2c0}.keg-totals-lv3{background-color:#d0f4c0}.keg-totals-lv4{background-color:#d0f6c0}.keg-totals-lv5{background-color:#d0f8c0}.keg-sortable-helper{background-color:#fff;border:2px solid #fb9c2f;border-radius:4px;padding:3px 20px}.eqjs-chart-content,.eqjs-chart-main,.keg-container,.keg-root{height:100%}.eqjs-chart-content canvas{max-height:100%}.question-mark{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACE4AAAhOAYwxAOwAAAFgSURBVDhPbdK7K4dRHMfxn1sWUVhcihK/MBKlbMqGKAplMMglk7JJRpOy+R8sJotBiUUiSe6XWNxGpYT3++k5Tw/51Kvfc06/c/2enMzv2K5CCxpRgmecYB+vSJIX/5oCTGINnXjBG+owjXE84gzfSOLAZRxiKG6nU4QpnGIWyY79mIEDa+N2LirRhvK4Tx24Qx+iVOMarhhmHICr7MFJ22GcdB47KLajF8fIt0GcYBujcLur2EBIIa7Q5Eze6hY+ETKCdXzA838hxL4jZB1sOZ4Q4k0+wJ1sogtLSMdKlDnYOtbY8ycNsEzDOLAjFd+CZct04wKeLx3brfCM6ZTiFvWu7MvxTGMIt20slbWNbjWOj2oB54hWNv2wNNbRCU0FJhAGO3AQN/B/SRzgy7mHdfxvqytwYI8dJr1Nv635HFzVcnirXk4z3OoidhElPTjEbfrqsiiDZ7uMf98RJ5P5AUhxQvegD107AAAAAElFTkSuQmCC") no-repeat 50%;height:20px;margin-left:5px;position:relative;width:20px}.kdlg-modal,.kdlg-modal-background{bottom:0;left:0;position:absolute;right:0;top:0}.kdlg-modal-background{background-color:hsla(0,0%,4%,.5)}.kdlg-modal{align-items:center;display:none;flex-direction:column;font-family:Roboto,Arial,serif;font-size:16px;font-weight:400;justify-content:center;line-height:1.5;overflow:hidden;position:fixed;z-index:9999}.kdlg-modal.is-active{display:flex}.kdlg-modal-window,.kdlg-modal-window.size-default{display:flex;flex-direction:column;margin:0 20px;max-height:calc(100vh - 40px);overflow:hidden;-ms-overflow-y:visible;position:relative;width:100%}@media print,screen and (min-width:481px){.kdlg-modal-window.size-small{margin:0 auto;width:400px}}@media print,screen and (min-width:769px){.kdlg-modal-window,.kdlg-modal-window.size-default{margin:0 auto;width:640px}.kdlg-modal-window.size-large,.kdlg-modal-window.size-xl{margin:0 20px;width:100%}}@media print,screen and (min-width:1025px){.kdlg-modal-window.size-large{margin:0 auto;width:900px}}@media print,screen and (min-width:1383px){.kdlg-modal-window.size-xl{margin:0 auto;width:1200px}}.kdlg-footer,.kdlg-header{align-items:center;background-color:#fff;display:flex;flex-shrink:0;justify-content:flex-start;padding:20px;position:relative}.kdlg-footer.align-right{justify-content:flex-end}.kdlg-footer.align-center{justify-content:center}.kdlg-header{border-top-left-radius:6px;border-top-right-radius:6px}.kdlg-header.has-border{border-bottom:1px solid #dbdbdb}.kdlg-footer{border-bottom-left-radius:6px;border-bottom-right-radius:6px;color:initial;height:auto;margin:unset;min-height:10px}.kdlg-footer.has-border{border-top:1px solid #dbdbdb}.kdlg-header-title{color:#363636;flex-grow:1;flex-shrink:0;font-size:1.6em;line-height:1;margin:0;padding:0}.kdlg-modal-close{-webkit-touch-callout:none;-moz-appearance:none;-webkit-appearance:none;background-color:hsla(0,0%,4%,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:24px;max-height:24px;max-width:24px;min-height:24px;min-width:24px;outline:0;pointer-events:auto;position:relative;-webkit-user-select:none;user-select:none;vertical-align:top;width:24px}.kdlg-modal-close:after,.kdlg-modal-close:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.kdlg-modal-close:before{height:2px;width:50%}.kdlg-modal-close:after{height:50%;width:2px}.kdlg-modal-close:focus,.kdlg-modal-close:hover{background-color:rgba(255,1,1,.48)}.kdlg-body{-webkit-overflow-scrolling:touch;background-color:#fff;color:#4a4a4a;flex-grow:1;flex-shrink:1;font-size:1em;overflow:auto;padding:20px}.kdlg-alert-container{max-height:150px;overflow-y:auto}.kdlg-alert{background-color:#e2f5ff;color:#004aef;min-height:60px;min-width:1px;padding:20px}.kdlg-alert.success{background-color:#efffe6;color:#0c7905}.kdlg-alert.warning{background-color:#fff7e5;color:#e49e02}.kdlg-alert.error{background-color:#ffe2e2;color:red}.kdlg-alert-closebtn{cursor:pointer;float:right;font-size:22px;line-height:20px;margin-left:15px;transition:.3s}.kdlg-progress-line{background-color:#e0e0e0;border-radius:3px;box-shadow:inset 0 1px 3px rgba(0,0,0,.2);overflow:hidden;padding:3px;width:100%}.kdlg-progress-line .fill{background-color:#659cef;border-radius:3px;display:block;height:22px;transition:width .5s ease-in-out}.kdlg-progress-line .fill.indeterminate{animation:kdlg-progress-line-loading 2s linear infinite;left:-200px;position:relative;transition:none;width:200px}@keyframes kdlg-progress-line-loading{0%{left:-200px}to{left:120%}}.kfrm-buttons{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.kfrm-buttons.align-right{justify-content:flex-end}.kfrm-buttons.align-center{justify-content:center}.kfrm-buttons:last-child{margin-bottom:-.5rem}.kfrm-buttons .kfrm-button{margin-bottom:.5rem}.kfrm-button{-webkit-touch-callout:none;align-items:center;-moz-appearance:none;-webkit-appearance:none;background-color:#fff;border:1px solid #dbdbdb;border-radius:4px;box-shadow:none;color:#363636;cursor:pointer;display:inline-flex;font-size:1em;height:2.5em;justify-content:center;line-height:1.5;padding:calc(.5em - 1px) 1em;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;white-space:nowrap}.kfrm-button:not(:last-child){margin-right:.5em}.kfrm-button.is-hovered,.kfrm-button:hover{border-color:#b5b5b5;color:#363636}.kfrm-button.is-focused,.kfrm-button:focus{border-color:#3273dc;color:#363636;outline:none}.kfrm-button.is-focused:not(:active),.kfrm-button:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.kfrm-button.is-active,.kfrm-button:active{border-color:#4a4a4a;color:#363636}.kfrm-button[disabled],fieldset[disabled] .kfrm-button{background-color:#fff;border-color:#dbdbdb;box-shadow:none;cursor:not-allowed;opacity:.5}.kfrm-button.is-loading{color:transparent!important;pointer-events:none}.kfrm-button.is-loading:after{animation:spinAround .5s linear infinite;border-color:transparent transparent #dbdbdb #dbdbdb;border-radius:290486px;border-style:solid;border-width:2px;content:"";display:block;height:1em;left:calc(50% - .5em);position:absolute!important;top:calc(50% - .5em);width:1em}@keyframes spinAround{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.kfrm-button.size-small,.kfrm-buttons.size-small .kfrm-button:not(.size-default):not(.size-medium):not(.size-large){border-radius:2px;font-size:.75rem}.kfrm-button.size-default\r\n.kfrm-buttons.size-default .kfrm-button:not(.size-small):not(.size-medium):not(.size-large){font-size:1rem}.kfrm-button.size-medium,.kfrm-buttons.size-medium .kfrm-button:not(.size-small):not(.size-default):not(.size-large){font-size:1.25rem}.kfrm-button.size-large\r\n.kfrm-buttons.size-large .kfrm-button:not(.size-small):not(.size-default):not(.size-medium){font-size:1.5rem}.kfrm-button.is-white{background-color:#fff;border-color:transparent;color:#0a0a0a}.kfrm-button.is-white.is-hovered,.kfrm-button.is-white:hover{background-color:#f9f9f9;border-color:transparent;color:#0a0a0a}.kfrm-button.is-white.is-focused,.kfrm-button.is-white:focus{border-color:transparent;color:#0a0a0a}.kfrm-button.is-white.is-focused:not(:active),.kfrm-button.is-white:focus:not(:active){box-shadow:0 0 0 .125em hsla(0,0%,59%,.15)}.kfrm-button.is-white.is-active,.kfrm-button.is-white:active{background-color:#f2f2f2;border-color:transparent;color:#0a0a0a}.kfrm-button.is-dark{background-color:#363636e6;border-color:transparent;color:#fff}.kfrm-button.is-dark.is-hovered,.kfrm-button.is-dark:hover{background-color:#2f2f2f;border-color:transparent;color:#fff}.kfrm-button.is-dark.is-focused,.kfrm-button.is-dark:focus{border-color:transparent;color:#fff}.kfrm-button.is-dark.is-focused:not(:active),.kfrm-button.is-dark:focus:not(:active){box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.kfrm-button.is-dark.is-active,.kfrm-button.is-dark:active{background-color:#292929;border-color:transparent;color:#fff}.kfrm-button.is-primary{background-color:#00d1b2;border-color:transparent;color:#fff}.kfrm-button.is-primary.is-hovered,.kfrm-button.is-primary:hover{background-color:#00c4a7;border-color:transparent;color:#fff}.kfrm-button.is-primary.is-focused,.kfrm-button.is-primary:focus{border-color:transparent;color:#fff}.kfrm-button.is-primary.is-focused:not(:active),.kfrm-button.is-primary:focus:not(:active){box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.kfrm-button.is-primary.is-active,.kfrm-button.is-primary:active{background-color:#00b89c;border-color:transparent;color:#fff}.kfrm-button.is-primary.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-link{background-color:#3273dc;border-color:transparent;color:#fff}.kfrm-button.is-link.is-hovered,.kfrm-button.is-link:hover{background-color:#276cda;border-color:transparent;color:#fff}.kfrm-button.is-link.is-focused,.kfrm-button.is-link:focus{border-color:transparent;color:#fff}.kfrm-button.is-link.is-focused:not(:active),.kfrm-button.is-link:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.kfrm-button.is-link.is-active,.kfrm-button.is-link:active{background-color:#2366d1;border-color:transparent;color:#fff}.kfrm-button.is-link.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-info{background-color:#3298dc;border-color:transparent;color:#fff}.kfrm-button.is-info.is-hovered,.kfrm-button.is-info:hover{background-color:#2793da;border-color:transparent;color:#fff}.kfrm-button.is-info.is-focused,.kfrm-button.is-info:focus{border-color:transparent;color:#fff}.kfrm-button.is-info.is-focused:not(:active),.kfrm-button.is-info:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,152,220,.25)}.kfrm-button.is-info.is-active,.kfrm-button.is-info:active{background-color:#238cd1;border-color:transparent;color:#fff}.kfrm-button.is-info.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-success{background-color:#48c774;border-color:transparent;color:#fff}.kfrm-button.is-success.is-hovered,.kfrm-button.is-success:hover{background-color:#3ec46d;border-color:transparent;color:#fff}.kfrm-button.is-success.is-focused:not(:active),.kfrm-button.is-success:focus:not(:active){box-shadow:0 0 0 .125em rgba(72,199,116,.25)}.kfrm-button.is-success.is-active,.kfrm-button.is-success:active{background-color:#3abb67;border-color:transparent;color:#fff}.kfrm-button.is-success.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-button.is-warning{background-color:#ffdd57;border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-hovered,.kfrm-button.is-warning:hover{background-color:#ffdb4a;border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-focused,.kfrm-button.is-warning:focus{border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-focused:not(:active),.kfrm-button.is-warning:focus:not(:active){box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.kfrm-button.is-warning.is-active,.kfrm-button.is-warning:active{background-color:#ffd83d;border-color:transparent;color:rgba(0,0,0,.7)}.kfrm-button.is-warning.is-loading:after{border-color:transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important}.kfrm-button.is-danger{background-color:#f14668;border-color:transparent;color:#fff}.kfrm-button.is-danger.is-hovered,.kfrm-button.is-danger:hover{background-color:#f03a5f;border-color:transparent;color:#fff}.kfrm-button.is-danger.is-focused,.kfrm-button.is-danger:focus{border-color:transparent;color:#fff}.kfrm-button.is-danger.is-focused:not(:active),.kfrm-button.is-danger:focus:not(:active){box-shadow:0 0 0 .125em rgba(241,70,104,.25)}.kfrm-button.is-danger.is-active,.kfrm-button.is-danger:active{background-color:#ef2e55;border-color:transparent;color:#fff}.kfrm-button.is-danger.is-loading:after{border-color:transparent transparent #fff #fff!important}.kfrm-row{margin-left:-.75rem;margin-right:-.75rem;margin-top:-.75rem}.kfrm-row:not(:last-child){margin-bottom:.75rem}@media print,screen and (min-width:769px){.kfrm-row{display:flex;flex-wrap:wrap}.kdlg-modal-window.size-small .kfrm-row{display:block}.kfrm-column.size-1{flex:none;width:8.33333%}.kfrm-column.size-2{flex:none;width:16.66667%}.kfrm-column.size-3{flex:none;width:25%}.kfrm-column.size-4{flex:none;width:33.33333%}.kfrm-column.size-5{flex:none;width:41.66667%}.kfrm-column.size-6{flex:none;width:50%}.kfrm-column.size-7{flex:none;width:58.33333%}.kfrm-column.size-8{flex:none;width:66.66667%}.kfrm-column.size-9{flex:none;width:75%}.kfrm-column.size-10{flex:none;width:83.33333%}.kfrm-column.size-11{flex:none;width:91.66667%}.kfrm-column.size-12{flex:none;width:100%}}.kfrm-column{display:block;flex-basis:0;flex-grow:1;flex-shrink:1;padding:.75rem}.kfrm-form .errors-block{color:red}.kfrm-form .control{box-sizing:border-box;clear:both;display:inline-flex;max-width:100%;padding:0!important;position:relative;text-align:inherit;width:100%}.kfrm-form .icon{align-items:center;display:inline-flex;height:1.5em;justify-content:center;width:1.5em}.kfrm-form .control.has-icons-left .select select,.kfrm-form .control.has-icons-left input{padding-left:2.5em}.kfrm-form .control.has-icons-right .select select,.kfrm-form .control.has-icons-right input{padding-right:2.5em}.kfrm-form .control.has-icons-left .icon.is-left{left:0}.kfrm-form .control.has-icons-right .icon.is-right{right:0}.kfrm-form .control .icon{color:#dbdbdb;height:2.5em;pointer-events:none;position:absolute;top:0;width:2.5em;z-index:4}.kfrm-form .control .icon.is-clickable{pointer-events:auto}.kfrm-form .control .icon.is-clickable:hover{color:#4a4a4a;cursor:pointer}.kfrm-form input.is-valid:not([type=checkbox]),.kfrm-form input.is-valid:not([type=checkbox]):hover{border-color:green}.kfrm-form input.is-invalid:not([type=checkbox]),.kfrm-form input.is-invalid:not([type=checkbox]):hover{border-color:red}.kfrm-form input:not([type=checkbox]):read-only{background-color:#e9ecef;opacity:1}.kfrm-form input:not([type=checkbox]),.kfrm-form textarea,.kfrm-select select{align-items:center;-moz-appearance:none;-webkit-appearance:none;background-color:#fff;border:1px solid transparent;border-color:#dbdbdb;border-radius:4px;box-shadow:none;color:#363636;display:inline-flex;font-size:1em;height:2.5em;justify-content:flex-start;line-height:1.5;outline:0;padding:calc(.5em - 1px) calc(.75em - 1px);position:relative;vertical-align:top}.kfrm-form input:not([type=checkbox]),.kfrm-form textarea{box-shadow:inset 0 .0625em .125em hsla(0,0%,4%,.05);max-width:100%;width:100%}.kfrm-form input:not([type=checkbox]).is-hovered,.kfrm-form input:not([type=checkbox]):hover,.kfrm-form textarea.is-hovered,.kfrm-form textarea:hover,.kfrm-select select.is-hovered,.kfrm-select select:hover{border-color:#b5b5b5}.kfrm-form input:not([type=checkbox]).is-active,.kfrm-form input:not([type=checkbox]).is-focused,.kfrm-form input:not([type=checkbox]):active,.kfrm-form input:not([type=checkbox]):focus,.kfrm-form textarea.is-active,.kfrm-form textarea.is-focused,.kfrm-form textarea:active,.kfrm-form textarea:focus,.kfrm-select select.is-active,.kfrm-select select.is-focused,.kfrm-select select:active,.kfrm-select select:focus{border-color:#3273dc;box-shadow:0 0 0 .125em rgba(50,115,220,.25);outline:0}.kfrm-select{display:inline-block;max-width:100%;padding:0;position:relative;vertical-align:top;width:max-content}.kfrm-select.full-width{width:100%}.kfrm-select select::-ms-expand{display:none!important}.kfrm-select:not(.is-multiple){height:2.5em}.kfrm-select select{cursor:pointer;display:block;font-size:1em;max-width:100%;outline:0}.kfrm-select select:not([multiple]){padding-right:2.5em}.kfrm-select.kfrm-select.full-width select:not([multiple]){width:100%}.kfrm-select:not(.is-multiple):not(.is-loading):after{border:3px solid #3273dc;border-radius:2px;border-right:0;border-top:0;content:" ";display:block;height:.425em;margin-top:-.5em;pointer-events:none;position:absolute;right:.7em;top:50%;transform:rotate(-45deg);transform-origin:center;width:.425em;z-index:4}.kfrm-form textarea{display:block;max-width:100%;min-width:100%;padding:calc(.75em - 1px);resize:vertical}.kfrm-form textarea:not([rows]){max-height:40em;min-height:8em}.kfrm-form{font-size:16px}.kfrm-form fieldset{border:1px solid #dbdbdb;border-radius:6px;padding:20px}.kfrm-form fieldset>legend{font-size:16px;font-weight:600;margin-bottom:0;padding-inline-end:10px;padding-inline-start:10px;width:auto}.kfrm-break,.kfrm-break-50{margin-top:50px}.kfrm-break-10{margin-top:10px}.kfrm-break-20{margin-top:20px}.kfrm-break-30{margin-top:30px}.kfrm-break-40{margin-top:40px}.kfrm-break-60{margin-top:60px}.kfrm-break-70{margin-top:70px}.kfrm-break-80{margin-top:10px}.kfrm-fields,.kfrm-fields.col-a{grid-gap:10px;display:grid;grid-auto-rows:auto;grid-template-columns:auto}.kfrm-fields:not(:last-child){margin-bottom:.75rem}.kfrm-fields>label{padding:.5em 0}.kfrm-fields .label-compact{font-size:.9em}fieldset .kfrm-fields>label{margin:0;padding:0}.kfrm-fields>label:not(.checkbox){font-weight:600}.kfrm-fields.label-above>label:not(.checkbox){font-weight:500;margin-bottom:-.5em;padding:.5em 0 0}.kfrm-fields.label-align-right>label:not(.checkbox){text-align:right}.kfrm-fields.col-a-1{grid-template-columns:auto 1fr}.kfrm-fields.col-1-a{grid-template-columns:1fr auto}.kfrm-fields.col-a-a{grid-template-columns:auto auto}.kfrm-fields.col-1-1{grid-template-columns:1fr 1fr}.kfrm-fields.col-1-2{grid-template-columns:1fr 2fr}.kfrm-fields.col-1-3{grid-template-columns:1fr 3fr}.kfrm-fields.col-2-1{grid-template-columns:2fr 1fr}.kfrm-fields.col-3-1{grid-template-columns:3fr 1fr}.kfrm-fields.col-2-3{grid-template-columns:2fr 3fr}.kfrm-fields.col-3-2{grid-template-columns:3fr 2fr}.kfrm-fields.is-horizontal{display:flex;padding:0}.kfrm-fields.is-horizontal.align-right{justify-content:flex-end}.kfrm-fields.is-horizontal.align-center{justify-content:center}.kfrm-fields.is-horizontal.align-evenly{justify-content:space-evenly}.kfrm-fields.is-horizontal>label:not(:first-child){margin-left:.5rem}.kfrm-fields-ie{display:flex;flex-direction:column;font-size:16px}.kfrm-field-ie{display:flex;margin-bottom:1em}.kfrm-field-ie>:first-child{margin-right:20px}.kfrm-field-ie>label{padding:.5em 0}.kfrm-fields-ie.col-ie-1-1>.kfrm-field-ie>:first-child{flex:0 0 50%}.kfrm-fields-ie.col-ie-1-2>.kfrm-field-ie>:first-child{flex:0 0 33.3333%}.kfrm-fields-ie.col-ie-1-3>.kfrm-field-ie>:first-child{flex:0 0 25%}.kfrm-fields-ie.col-ie-1-4>.kfrm-field-ie>:first-child{flex:0 0 20%}.kfrm-fields-ie.label-align-right .kfrm-field-ie>:first-child{text-align:right}.kfrm-fields-ie.label-above .kfrm-field-ie>:first-child:not(.checkbox){margin-bottom:-.5em;padding:.5em 0 0}.kfrm-field-ie>label:not(.checkbox),.kfrm-fields-ie>label:not(.checkbox){font-weight:600}.kfrm-fields-ie.is-horizontal{display:flex;flex-direction:row;padding:0!important}.kfrm-fields-ie.kfrm-fields-ie.is-horizontal>:not(.kfrm-select){padding:.5em}.kfrm-fields-ie.is-horizontal>:not(:first-child){margin-left:1em}.kfrm-fields-ie>label{padding-left:0!important;padding-right:0!important}.kfrm-field>label{padding-right:.5em}.kfrm-callout{font-size:1.2em;text-align:center}.kdtp{background-color:#fff;border:1px solid silver;border-radius:8px;box-shadow:4px 8px 15px 0 rgba(0,0,0,.16);font-size:.7rem;outline:none;overflow:hidden;z-index:100000}.kdtp-buttons{display:flex;flex-direction:row;justify-content:space-between;margin-top:1em}.kdtp-button{background-color:#09c;border:none;color:#fff;cursor:pointer;flex:1;font-weight:500;height:2.5em;text-align:center;text-decoration:none}.kdtp-button:active,.kdtp-button:focus{outline:0}.kdtp-button-now{background-color:#fff;border:none;color:#09c}.kdtp-button:nth-child(2){border-top-left-radius:8px}.kdtp-button:not(:first-child){margin-left:2px}.kdtp-cal{padding:0}.kdtp-cal *{outline:none!important}.kdtp-cal-body{grid-gap:.5em;-ms-grid-rows:1fr .5em 1fr .5em 1fr .5em 1fr .5em 1fr .5em 1fr .5em 1fr;box-sizing:border-box;display:grid;grid-template-columns:repeat(7,minmax(1em,1fr));padding:0 12px}.kdtp-cal-body>:first-child{-ms-grid-column:1;-ms-grid-row:1}.kdtp-cal-body>:nth-child(2){-ms-grid-column:3;-ms-grid-row:1}.kdtp-cal-body>:nth-child(3){-ms-grid-column:5;-ms-grid-row:1}.kdtp-cal-body>:nth-child(4){-ms-grid-column:7;-ms-grid-row:1}.kdtp-cal-body>:nth-child(5){-ms-grid-column:9;-ms-grid-row:1}.kdtp-cal-body>:nth-child(6){-ms-grid-column:11;-ms-grid-row:1}.kdtp-cal-body>:nth-child(7){-ms-grid-column:13;-ms-grid-row:1}.kdtp-cal-body>:nth-child(8){-ms-grid-column:1;-ms-grid-row:3}.kdtp-cal-body>:nth-child(9){-ms-grid-column:3;-ms-grid-row:3}.kdtp-cal-body>:nth-child(10){-ms-grid-column:5;-ms-grid-row:3}.kdtp-cal-body>:nth-child(11){-ms-grid-column:7;-ms-grid-row:3}.kdtp-cal-body>:nth-child(12){-ms-grid-column:9;-ms-grid-row:3}.kdtp-cal-body>:nth-child(13){-ms-grid-column:11;-ms-grid-row:3}.kdtp-cal-body>:nth-child(14){-ms-grid-column:13;-ms-grid-row:3}.kdtp-cal-body>:nth-child(15){-ms-grid-column:1;-ms-grid-row:5}.kdtp-cal-body>:nth-child(16){-ms-grid-column:3;-ms-grid-row:5}.kdtp-cal-body>:nth-child(17){-ms-grid-column:5;-ms-grid-row:5}.kdtp-cal-body>:nth-child(18){-ms-grid-column:7;-ms-grid-row:5}.kdtp-cal-body>:nth-child(19){-ms-grid-column:9;-ms-grid-row:5}.kdtp-cal-body>:nth-child(20){-ms-grid-column:11;-ms-grid-row:5}.kdtp-cal-body>:nth-child(21){-ms-grid-column:13;-ms-grid-row:5}.kdtp-cal-body>:nth-child(22){-ms-grid-column:1;-ms-grid-row:7}.kdtp-cal-body>:nth-child(23){-ms-grid-column:3;-ms-grid-row:7}.kdtp-cal-body>:nth-child(24){-ms-grid-column:5;-ms-grid-row:7}.kdtp-cal-body>:nth-child(25){-ms-grid-column:7;-ms-grid-row:7}.kdtp-cal-body>:nth-child(26){-ms-grid-column:9;-ms-grid-row:7}.kdtp-cal-body>:nth-child(27){-ms-grid-column:11;-ms-grid-row:7}.kdtp-cal-body>:nth-child(28){-ms-grid-column:13;-ms-grid-row:7}.kdtp-cal-body>:nth-child(29){-ms-grid-column:1;-ms-grid-row:9}.kdtp-cal-body>:nth-child(30){-ms-grid-column:3;-ms-grid-row:9}.kdtp-cal-body>:nth-child(31){-ms-grid-column:5;-ms-grid-row:9}.kdtp-cal-body>:nth-child(32){-ms-grid-column:7;-ms-grid-row:9}.kdtp-cal-body>:nth-child(33){-ms-grid-column:9;-ms-grid-row:9}.kdtp-cal-body>:nth-child(34){-ms-grid-column:11;-ms-grid-row:9}.kdtp-cal-body>:nth-child(35){-ms-grid-column:13;-ms-grid-row:9}.kdtp-cal-body>:nth-child(36){-ms-grid-column:1;-ms-grid-row:11}.kdtp-cal-body>:nth-child(37){-ms-grid-column:3;-ms-grid-row:11}.kdtp-cal-body>:nth-child(38){-ms-grid-column:5;-ms-grid-row:11}.kdtp-cal-body>:nth-child(39){-ms-grid-column:7;-ms-grid-row:11}.kdtp-cal-body>:nth-child(40){-ms-grid-column:9;-ms-grid-row:11}.kdtp-cal-body>:nth-child(41){-ms-grid-column:11;-ms-grid-row:11}.kdtp-cal-body>:nth-child(42){-ms-grid-column:13;-ms-grid-row:11}.kdtp-cal-body>:nth-child(43){-ms-grid-column:1;-ms-grid-row:13}.kdtp-cal-body>:nth-child(44){-ms-grid-column:3;-ms-grid-row:13}.kdtp-cal-body>:nth-child(45){-ms-grid-column:5;-ms-grid-row:13}.kdtp-cal-body>:nth-child(46){-ms-grid-column:7;-ms-grid-row:13}.kdtp-cal-body>:nth-child(47){-ms-grid-column:9;-ms-grid-row:13}.kdtp-cal-body>:nth-child(48){-ms-grid-column:11;-ms-grid-row:13}.kdtp-cal-body>:nth-child(49){-ms-grid-column:13;-ms-grid-row:13}.kdtp-cal-header-input{background:#fff;border:1px solid silver;color:#262626;font-size:1em;height:100%;outline:none;padding:2px 5px;width:100%}.kdtp-cal-header-input.error{border-color:red}.kdtp-cal-header{background-color:#09c;color:#fff;font-size:1.2em;font-weight:600;height:2em;line-height:2em;text-align:center}.kdtp-cal-nav{display:flex;line-height:1em;margin:.7em 0;padding:0}.kdtp-cal-nav-next,.kdtp-cal-nav-prev{color:#777;flex:0 0 auto;font-size:3em;font-weight:600;text-align:center;width:1em}.kdtp-cal-nav-next:hover,.kdtp-cal-nav-prev:hover{color:#09c;cursor:pointer}.kdtp-cal-nav-selectors{display:flex;flex:1 1 auto;font-size:1.2em;margin:0 .5em}.kdtp-cal-nav-month{flex:1 1 auto;margin-right:.5em}.kdtp-cal-nav-year{flex:0 0 auto}.kdtp-cal-nav-selectors select{border:none;color:#777;font-weight:600}.kdtp-cal-nav-selectors select:hover{color:#09c}.kdtp-cal-nav-selectors select:hover option{color:#777}.kdtp-cal-weekday{align-items:center;color:#262626;display:flex;font-size:.8em;font-weight:600;height:1.8em;justify-content:center}.kdtp-cal-weekday.kdtp-cal-weekend{color:#ff685d}.kdtp-cal-day,.kdtp-cal-day-empty{align-items:center;border-radius:4px;color:#262626;display:flex;height:1.5em;justify-content:center}.kdtp-cal-day.kdtp-cal-weekend{color:#ff685d;font-weight:700}.kdtp-cal-day-selected,.kdtp-cal-day:hover{border:2px solid #09c;cursor:pointer;font-weight:700}.kdtp-cal-day-current{background-color:#d3d3d3}.kdtp-tp{-ms-flex-align:center;align-items:center;-webkit-align-items:center;display:flex;display:-ms-flexbox;margin-top:1em;padding:0 1em}.kdtp-tp-time{border:2px solid #09c;border-radius:6px;color:#777;flex:0 0 5em;-webkit-flex:0 0 5em;-ms-flex:0 0 5em;font-weight:600;margin-right:.5em;text-align:center}.kdtp-tp-sliders{flex:1 1 auto;-webkit-flex:1 1 auto;-ms-flex:1 1 auto}.kdtp-tp-time-row{align-items:center;background:linear-gradient(90deg,#c5c5c5,#c5c5c5) left 50%/100% 1px no-repeat;display:flex;height:1.5em}.kdtp-tp-time-row input[type=range]{-webkit-appearance:none;background:0 0;cursor:pointer;flex:1;height:100%;margin:0;padding:0}.kdtp-tp-time-row input[type=range]:hover::-webkit-slider-thumb{border-color:#777}.kdtp-tp-time-row input[type=range]:hover::-moz-range-thumb{border-color:#777}.kdtp-tp-time-row input[type=range]:hover::-ms-thumb{border-color:#777}.kdtp-tp-time-row input[type=range]:focus{outline:0}.kdtp-tp-time-row input[type=range]:focus::-webkit-slider-thumb{background:#09c;border-color:#09c}.kdtp-tp-time-row input[type=range]:focus::-moz-range-thumb{background:#09c;border-color:#09c}.kdtp-tp-time-row input[type=range]:focus::-ms-thumb{background:#09c;border-color:#09c}.kdtp-tp-time-row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;border:1px solid #c5c5c5;border-radius:3px;box-sizing:border-box;cursor:pointer;height:12px;margin-top:-6px;-webkit-transition:background .2s;transition:background .2s;width:12px}.kdtp-tp-time-row input[type=range]::-moz-range-thumb{background:#fff;border:1px solid #c5c5c5;border-radius:3px;box-sizing:border-box;cursor:pointer;height:12px;-moz-transition:background .2s;transition:background .2s;width:12px}.kdtp-tp-time-row input[type=range]::-ms-thumb{background:#fff;border:1px solid #c5c5c5;border-radius:3px;box-sizing:border-box;cursor:pointer;height:12px;-ms-transition:background .2s;transition:background .2s;width:12px}.kdtp-tp-time-row input[type=range]::-webkit-slider-runnable-track{background:0 0;border:none;color:transparent;cursor:pointer;height:1px}.kdtp-tp-time-row input[type=range]::-moz-range-track{background:0 0;border:none;color:transparent;cursor:pointer;height:1px}.kdtp-tp-time-row input[type=range]::-ms-track{background:0 0;border:none;color:transparent;cursor:pointer;height:1px}.kdtp-tp-time-row input[type=range]::-ms-fill-lower,.kdtp-tp-time-row input[type=range]::-ms-fill-upper{background:0 0}:root{--tsp-border-color:#e8e8e8;--tsp-control-background:#ebebeb;--tsp-control-text-color:#000}.tsp__container{display:flex;flex-flow:row}.tsp__intervals{border-right:1px solid var(--tsp-border-color);display:flex;flex-flow:column;padding-right:10px}.tsp__button{align-items:center;background-color:var(--tsp-control-background);border:1px solid transparent;box-sizing:border-box;color:var(--tsp-control-text-color);cursor:pointer;display:inline-flex;font-size:12px;font-weight:400;justify-content:center;line-height:1.2;margin-bottom:4px;opacity:.8;outline:none;overflow:visible;padding:4px 12px;position:relative;text-align:center;transition:all .15s ease-in-out;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.tsp__button:hover{border-color:var(--tsp-border-color);opacity:1}.tsp__button:active{opacity:.9}.tsp__form{display:flex;flex-flow:row nowrap;width:100%}.tsp__date{display:flex;flex-flow:column;padding:0 10px;width:50%}.tsp__label{display:flex;flex-flow:row nowrap}.tsp__label label{font-weight:700}.tsp__label select{border-color:var(--tsp-border-color);font-size:12px;margin-left:auto}.tsp__calendar{margin:10px 0;width:230px}.tsp__calendar .kdtp-cal-header input{border:1px solid var(--tsp-border-color)!important}.tsp__calendar{display:flex;flex-flow:column}.tsp__calendar .kdtp-cal-body{margin:10px 0!important}.tsp__calendar .kdtp-cal-header{margin-bottom:10px!important}.tsp__calendar .kdtp-cal-nav-selectors{font-size:16px!important}.tsp__calendar .kdtp-cal-body{grid-gap:2px!important;padding:0!important}.tsp__calendar .kdtp-cal-nav-next,.tsp__calendar .kdtp-cal-nav-prev{font-size:2em!important;width:auto!important}.tsp__calendar .kdtp-cal-body{border:1px solid var(--tsp-border-color);padding:5px!important}.tsp__calendar .kdtp-cal-day{border:1px solid var(--tsp-border-color);font-size:14px;height:30px;width:30px}.tsp__calendar .kdtp-cal-day-current{background:#3ab93c;color:#fff}.tsp__calendar .day-in-range{background:#c6e3ff!important}.kdlg-footer{border-top:1px solid var(--tsp-border-color)}.ed-entity-menu{display:flex;flex-direction:column;margin-bottom:0;padding-left:0}.ed-entity-item{background-color:#fff;border:1px solid rgba(0,0,0,.125);border-left:none;border-right:none;display:block;font-size:1.2em;margin-bottom:-1px;padding:.75rem 1.25rem;position:relative}.ed-entity-item:hover{background-color:#3498db;color:#fff;cursor:pointer}.ed-root{display:flex;flex-direction:column}.ed-menu-description{font-size:1.5em;margin:50px auto;text-align:center}.ed-entity-item-caption{display:flex;font-weight:500;justify-content:space-between}.ed-entity-item-caption:after{content:"\\276F";height:1em;text-align:center;transition:all .35s;width:1em}.ed-entity-item-descr{font-size:.8em;margin-left:30px;margin-top:5px}.ed-progress-bar{background-color:#ddd;display:"none";height:4px;left:0;overflow:hidden;position:fixed;top:0;width:100%;z-index:65000}.ed-progress-bar:before{animation:ed-progress-bar-loading 2s linear infinite;background-color:#2980b9;content:"";display:block;height:4px;left:-200px;position:absolute;width:200px}@keyframes ed-progress-bar-loading{0%{left:-200px;width:30%}50%{width:30%}70%{width:70%}80%{left:50%}95%{left:120%}to{left:100%}}.ed-calendar-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqklEQVQ4T+3TuwlCMRSA4e+uo4UigiNoI2gpaOsa6hY6gAP4KHQDEUQb51ECN5Cb6oqNhWkS+E/+cB4pfLmK7P4IW0ywz9g4YbvIouCBFlZYJHvqyNkdnSh4lZEzrDEvX0sFU2wyVuSCJ44YopGlENihZM2SVQQXnGvWdIAeKoKQ47KmIMSFWv0FP1eDK05JG+OQpf8lnvvopm0Mc92uOQMx7BYk+W/80MEb/4ExEZgczvIAAAAASUVORK5CYII=") no-repeat;height:16px;width:16px}.ed-timer-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABLklEQVQ4T4XTPyhGYRTH8c87GZUYTFJSJgurxMSgGMRmfa3EgFIogxmbWCibxUQyYldSWEwWo4mOnvt239v7cJd773PO+T7nz+/UtH7aMY7eZH7BFT6r7rXKQSe2MYdbPCV7P0ZwhnV8FHFlwAAucYfF5NSWHL8Q8AMMYwKPYSsAYXzALg5LWa2l753SWR2rGIpLCkAEdWC2UtJm+i/ehfk8ZVgPQDTsDX3l2iqBVUBk/IyeAMxgAVMtBpLLIFwvcBSAJXRjOQMYxQ2+cYIYaTx7eP8PMIjpFBCAY7xWAX+VkNHZ73GjhL+amAM0NTGccmPMAZrGGE45IbUChJBWkiIbQgrHQsr3CKeG3hOlC/tJgZNVKRc3RSZbmM8s0yk2cstUTjcaO1ZZ5+tW6/wDn+5DtafCGz8AAAAASUVORK5CYII=") no-repeat;height:16px;width:16px}');"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var i,o={exports:{}},r={exports:{}};function n(){return i||(i=1,function(t,e){
/*!
  		 * EasyData.JS Core v1.4.20
  		 * Copyright 2024 Korzh.com
  		 * Licensed under MIT
  		 */
!function(t){var e,i;t.DataType=void 0,(i=t.DataType||(t.DataType={}))[i.Unknown=0]="Unknown",i[i.String=1]="String",i[i.Byte=2]="Byte",i[i.Word=3]="Word",i[i.Int32=4]="Int32",i[i.Int64=5]="Int64",i[i.Bool=6]="Bool",i[i.Float=7]="Float",i[i.Currency=8]="Currency",i[i.BCD=9]="BCD",i[i.Date=10]="Date",i[i.Time=11]="Time",i[i.DateTime=12]="DateTime",i[i.Autoinc=13]="Autoinc",i[i.Memo=14]="Memo",i[i.Blob=15]="Blob",i[i.FixedChar=16]="FixedChar",i[i.Guid=17]="Guid",i[i.Geometry=18]="Geometry",i[i.Geography=19]="Geography",t.EntityAttrKind=void 0,(e=t.EntityAttrKind||(t.EntityAttrKind={}))[e.Data=0]="Data",e[e.Virtual=1]="Virtual",e[e.Lookup=2]="Lookup";const o={Unknown:"Unknown",Edit:"EDIT",DateTime:"DATETIME",List:"LIST",CustomList:"CUSTOMLIST",File:"FILE"};class r{constructor(t){t instanceof Date?this.date=t:this._name=t}asTime(t){if(this.date)return this.date;l.getDateByName(this._name)}get name(){return this.name}}class n{getDateByName(t,e){return this[t]?this[t](e):void 0}Today(t){return new Date}Yesterday(t){let e=new Date;return e.setDate(e.getDate()-1),e}Tomorrow(t){let e=new Date;return e.setDate(e.getDate()+1),e}FirstDayOfMonth(t){let e=new Date;return e.setDate(1),e}LastDayOfMonth(t){let e=new Date;return e.setMonth(e.getMonth()+1,0),e}FirstDayOfNextMonth(t){let e=new Date;return e.setMonth(e.getMonth()+1,1),e}FirstDayOfPrevMonth(t){let e=new Date;return e.setMonth(e.getMonth()-1,1),e}FirstDayOfYear(t){const e=new Date;return e.setMonth(0,1),e}FirstDayOfPrevYear(t){let e=new Date;return e.setFullYear(e.getFullYear()-1,0,1),e}FirstDayOfNextYear(t){let e=new Date;return e.setFullYear(e.getFullYear()+1,0,1),e}FirstDayOfWeek(t){const e=new Date;let i=e.getDay();return i=0==i?6:i-1,e.setDate(e.getDate()-i),e}FirstDayOfPrevWeek(t){let e=new Date,i=e.getDay();return i=0==i?1:8-i,e.setDate(e.getDate()-i),e}FirstDayOfNextWeek(t){let e=new Date;var i=e.getDay();return i=0==i?1:8-i,e.setDate(e.getDate()+i),e}}var s,a,l=new n;function d(t){l=t}t.HttpMethod=void 0,(s=t.HttpMethod||(t.HttpMethod={})).Trace="TRACE",s.Options="OPTIONS",s.Get="GET",s.Put="PUT",s.Post="POST",s.Delete="DELETE";class c{constructor(t,e){this.xhr=t,this.method=e.method,this.url=e.url,this.headers=e.headers,this.queryParams=e.queryParams,this.data=e.data}setHeader(t,e){this.headers[t]=e}setQueryParam(t,e){this.queryParams[t]=e}getXMLHttpRequest(){return this.xhr}getResponseHeaders(){if(this.xhr.readyState==this.xhr.HEADERS_RECEIVED){const t=this.xhr.getAllResponseHeaders().trim().split(/[\r\n]+/),e={};for(const i of t){const t=i.split(": "),o=t.shift(),r=t.join(": ");e[o]=r}return e}return{}}open(){if(this.xhr.readyState!==this.xhr.UNSENT)return;let t=this.url;this.queryParams&&Object.keys(this.queryParams).length>0&&(t+=encodeURI("?"+Object.keys(this.queryParams).map((t=>t+"="+this.queryParams[t])).join("&"))),this.xhr.open(this.method,t,!0),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");for(const t in this.headers)this.xhr.setRequestHeader(t,this.headers[t])}abort(){this.xhr.abort()}}t.utils=void 0,function(e){function i(){return Object.values(t.DataType).filter((t=>"number"==typeof t))}function o(){return[t.DataType.Time,t.DataType.Date,t.DataType.DateTime]}function r(){return[t.DataType.String,t.DataType.Memo,t.DataType.FixedChar]}e.getAllDataTypes=i,e.getDateDataTypes=o,e.getStringDataTypes=r;const n=[t.DataType.Byte,t.DataType.Word,t.DataType.Int32,t.DataType.Int64,t.DataType.Float,t.DataType.Currency,t.DataType.Autoinc];function s(){return n}e.getNumericDataTypes=s;const a=[t.DataType.Byte,t.DataType.Word,t.DataType.Int32,t.DataType.Int64,t.DataType.Autoinc];function l(t,...e){for(let i=0;i<e.length;i++){let o=e[i];if(o)for(let e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t}function d(t,...e){return c(new WeakMap,t,e)}function c(t,e,i){e||(e={});for(let o of i)if(o)for(let i in o)if(o.hasOwnProperty(i)){let r=o[i];null!==r&&"object"==typeof r?t.has(r)?e[i]=t.get(r):Array.isArray(r)?(e[i]=m(r),t.set(r,e[i])):(void 0!==e[i]&&null!=e[i]||(e[i]=Object.create(Object.getPrototypeOf(r))),t.set(r,e[i]),c(t,e[i],[r])):e[i]=r}return e}function h(t,e){return void 0!==t?t:e}function u(t){return null!=t}function p(t,e){const i=t.length,o=e.length;for(let r=0;r<i&&r<o;r++)e[r]=t[r]}function m(t){let e=[];for(let i of t)e.push(i);return e}function g(t,e){for(var i=t.length,o=0;o<i;o++)if(t[o].id===e)return t[o];return null}function f(t,e){for(var i=t.length,o=0;o<i;o++)if(t[o].id===e)return o;return-1}function b(t,e){if(t.indexOf)return t.indexOf(e);{let i=t.length;for(let o=0;o<i;o++)if(e==t[o])return o;return-1}}function k(t,e,i){if(e>=t.length)throw"Index out of bounds: "+e;i>=t.length&&(i=t.length-1);let o=t.splice(e,1)[0];t.splice(i,0,o)}function y(t,e){let i=t.indexOf(e);if(-1!=i)return t.splice(i,1)[0]}function x(t,e,i){t.splice(e,0,i)}function w(t,e,i=0,o){let r=t.length>>>0;var n=i>>0,s=n<0?Math.max(r+n,0):Math.min(n,r),a=void 0===o?r:o>>0;let l=a<0?Math.max(r+a,0):Math.min(a,r);for(;s<l;)t[s]=e,s++;return t}function v(t,e){let i=document.getElementsByTagName("body")[0],o=window.innerWidth||document.documentElement.clientWidth||i.clientWidth;var r=t+e;let n=0;return r>o&&(n=o-r-10,t+n<0&&(n=10-t)),n}function D(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function T(t){return n.indexOf(t)>=0}function C(t){return a.indexOf(t)>=0}function E(t){return!isNaN(parseFloat(t))&&isFinite(t)}function A(e,i){return void 0===e||void 0===i||e==t.DataType.Unknown||i==t.DataType.Unknown||e==i||e==t.DataType.Date&&i==t.DataType.DateTime||e==t.DataType.DateTime&&i==t.DataType.Date}function S(t,e){return t[e]||t[e.toLowerCase()]||t[e.toUpperCase()]}e.assign=l,e.assignDeep=d,e.getIfDefined=h,e.IsDefinedAndNotNull=u,e.copyArrayTo=p,e.createArrayFrom=m,e.findItemById=g,e.findItemIndexById=f,e.indexOfArrayItem=b,e.moveArrayItem=k,e.removeArrayItem=y,e.insertArrayItem=x,e.fillArray=w,e.shiftToFitWindow=v,e.isObject=D,e.isNumericType=T,e.isIntType=C,e.isNumeric=E,e.areCompatibleDataTypes=A,e.isPropSet=S;const I=4,R="0123456789abcdefghijklmnopqrstuvwxyz",M=0x8d60e562e627800;function P(t){t||(t="easy");let e=t.length>I?L(t,I):t;e&&e.length>0&&(e+="-");var i=R[N(0,R.length)]+R[N(0,R.length)]+R[N(0,R.length)],o=N(0,1e4);return e+i+O(F()-M-o)}function O(t,e=36){var i="",o=t;do{i=R[o%e]+i,o=Math.floor(o/=e)}while(o>0);return i}function L(t,e){let i=t.split("-"),o=1,r=e;i.length<e&&(o=e/i.length,r=i.length);let n="";for(let t=0;t<r;t++)n+=z(i[t],o);return n}function z(t,e){const i=t.length;if(i>e){let o=i/e,r="";r+=t[0];let n,s=o;for(let e=1;e<i;e++)n=t[e],e+1>s&&(r+=n,s+=o);return r}return t}function N(t,e){return Math.floor(Math.random()*(e-t))+t}function F(){return 621355968e9+1e4*(new Date).getTime()}function B(t){const e=parseInt(t);if(isNaN(e))throw`"${t}" is not a valid number`;return e}function H(t,e){return new Date(e,t+1,0).getDate()}function _(t,e){if(!t||0==t.length)return new Date;const i=t.replace(/[^a-zA-Z0-9_]/g,"-"),o=e.replace(/[^a-zA-Z0-9_]/g,"-").split("-"),r=i.split("-"),n=o.indexOf("MM"),s=o.indexOf("dd"),a=o.indexOf("yyyy"),l=o.indexOf("HH"),d=o.indexOf("mm"),c=o.indexOf("ss"),h=new Date;try{const t=a>-1&&a<r.length?B(r[a]):h.getFullYear(),e=n>-1&&n<r.length?B(r[n])-1:h.getMonth()-1;if(e>11)throw"";const i=s>-1&&s<r.length?B(r[s]):h.getDate();if(i>H(e,t))throw"";const o=l>-1&&l<r.length?B(r[l]):0;if(o>23)throw"";const u=d>-1&&d<r.length?B(r[d]):0;if(u>59)throw"";const p=c>-1&&c<r.length?B(r[c]):0;if(p>59)throw"";return new Date(t,e,i,o,u,p)}catch(e){throw`${t} is not a valid date.`}}function Y(t){const e=t.split(":");try{const t=e.length>0?B(e[0]):0;if(t>23)throw"";const i=e.length>1?B(e[1]):0;if(i>59)throw"";const o=e.length>1?B(e[1]):0;if(o>59)throw"";return new Date(0,0,0,t,i,o)}catch(e){throw`${t} is not a valid time.`}}e.generateId=P,e.strToDateTime=_,e.strToTime=Y}(t.utils||(t.utils={}));class h{constructor(t,e){this.request=t,this.promise=e}getPromise(){return this.promise}getRequest(){return this.request}then(t,e){return this.promise.then(t,e)}catch(t){return this.promise.catch(t)}finally(t){return this.promise.finally(t)}}class u extends Error{constructor(t,e){super(e),this.status=t}}class p{get responseBody(){return this._responseBody}constructor(){this.defaultHeaders={},this.customPayload=void 0}get(e,i){return this.send(t.HttpMethod.Get,e,null,i)}post(e,i,o){return this.send(t.HttpMethod.Post,e,i,o)}put(e,i,o){return this.send(t.HttpMethod.Put,e,i,o)}delete(e,i,o){return this.send(t.HttpMethod.Delete,e,i,o)}send(e,i,o,r){const n=(r=r||{}).dataType||"json",s=r.contentType||"form-data"!==n?"application/json":null;o&&"form-data"!=n&&this.customPayload&&(o.data=t.utils.assignDeep(o.data||{},this.customPayload));const a=new("onload"in new XMLHttpRequest?XMLHttpRequest:window.XDomainRequest),l={method:e,url:i,headers:Object.assign(Object.assign({},this.defaultHeaders),r.headers||{}),queryParams:r.queryParams||{},data:o};s&&(l.headers["Content-Type"]=s);const d=new c(a,l);this.beforeEachRequest&&(console.warn("HttpClient: 'beforeEachRequest' is deprecated and will be removed in future updates.\n            Use 'onRequest' instead"),this.beforeEachRequest(d)),this.onRequest&&this.onRequest(d);const m=d.data&&"string"!=typeof d.data&&"json"==n?JSON.stringify(d.data):d.data;return d.open(),new h(d,new Promise(((t,e)=>{r.responseType&&(a.responseType=r.responseType),a.onerror=t=>{e(new u(a.status,a.responseText))},a.onreadystatechange=()=>{if(4!=a.readyState)return;const o=a.getResponseHeader("Content-Type")||"",r=a.status;if(0===r)e(new u(r,"Network error or the request was aborted"));else if(r>=200&&r<400){const e="arraybuffer"===a.responseType||"blob"===a.responseType?a.response:0==o.indexOf("application/json")?JSON.parse(a.responseText):a.responseText;this._responseBody=e,this.onResponse&&this.onResponse(a),t(e)}else("arraybuffer"===a.responseType||"blob"===a.responseType?p.decodeArrayBuffer(a.response):Promise.resolve(a.responseText)).then((t=>{const n=0==o.indexOf("application/json")?JSON.parse(t):t;this._responseBody=n;const s=n.message||(404==r?`No such endpoint: ${i}`:n);e(new u(r,s))}))},a.send(m)})))}static decodeArrayBuffer(t){var e=new FileReader;return new Promise((i=>{e.onloadend=function(){e.readyState==FileReader.DONE&&i(e.result)},e.readAsText(new Blob([t]))}))}}t.i18n=void 0,function(e){let i,o={shortDateFormat:"MM/dd/yyyy",longDateFormat:"dd MMM, yyyy",editDateFormat:"MM/dd/yyyy",shortTimeFormat:"HH:mm",editTimeFormat:"HH:mm",longTimeFormat:"HH:mm:ss",shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],shortWeekDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longWeekDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalSeparator:".",currency:"USD"},r={localeId:"en-US",englishName:"English",displayName:"English",texts:{ButtonOK:"OK",ButtonCancel:"Cancel",Yes:"Yes",No:"No",True:"True",False:"False"},settings:o},n={"en-US":r};const s=[];function a(t){for(const e of s)e(t)}function l(t){s.push(t)}function d(){let t=[];for(let e in n)t.push({locale:e,englishName:n[e].englishName,displayName:n[e].displayName});return t.sort(((t,e)=>t.englishName>e.englishName?1:t.englishName===e.englishName?0:-1))}function c(){return i.localeId}function h(t){console.warn("This method is deprecated. Use setCurrentLocale instead"),u(t)}function u(e){const o=n[e];o?t.utils.assignDeep(i,o):(i.englishName=e,i.displayName=e,i.texts=t.utils.assignDeep({},r.texts)),i.localeId=e}function p(...t){let e=i.texts,o="";if(t&&t.length){const i=t.length;for(let r=0;r<i&&(o=e[t[r]],"object"==typeof o);r++)e=o}return o}function m(){return i.settings}function g(t){return i.settings[t]}function f(t){const e=m();if(t>0&&t<13)return e.shortMonthNames[t-1];throw"Wrong month number: "+t}function b(t){const e=m();if(t>0&&t<13)return e.longMonthNames[t-1];throw"Wrong month number: "+t}function k(t){const e=m();if(t>0&&t<8)return e.shortWeekDayNames.length>=t?e.shortWeekDayNames[t-1]:t.toString();throw"Wrong month number: "+t}function y(t){const e=m();if(t>0&&t<8)return e.longWeekDayNames.length>=t?e.longWeekDayNames[t-1]:t.toString();throw"Wrong month number: "+t}function x(e){i.settings||(i.settings=t.utils.assignDeep({},o)),i.settings=t.utils.assignDeep(i.settings,e)}function w(e){"object"==typeof e?(a({localeId:i.localeId,texts:e}),t.utils.assignDeep(i.texts,e)):console.error("Wrong parameter type in updateLocaleTexts function call.The first parameter (localeId) is not necessary. Use updateLocaleTexts(texts) instead")}function v(e){for(let i in n){let o=n[i];o.texts=t.utils.assignDeep({},e,o.texts)}i.texts=t.utils.assignDeep({},e,i.texts)}function D(e,o){a(o);let s=i;e&&(o.localeId||(o.localeId=e),s=n[e],s||(s=t.utils.assignDeep({},r),n[e]=s)),t.utils.assignDeep(s,o)}function T(t,e){D(t,e)}function C(t){const e=new Date(2020,5,7,19,34,56,88),o={year:"numeric",month:"numeric",day:"numeric"},r={hour:"numeric",minute:"numeric",second:"numeric"},n=e.toLocaleDateString(t,o),s=e.toLocaleTimeString(t,r);let a=n.replace("07","dd").replace("7","d").replace("06","MM").replace("6","M").replace("2020","yyyy").replace("20","yy"),l=s.replace("19","HH").replace("07","hh").replace("7","h").replace("34","mm").replace("56","ss").replace("PM","tt");i.settings||(i.settings={}),x({shortDateFormat:a,shortTimeFormat:l})}function E(){C("object"==typeof navigator?navigator.language:void 0)}function A(){i||(i=t.utils.assignDeep({},r),E())}e.addMapper=l,e.getLocales=d,e.getCurrentLocale=c,e.setLocale=h,e.setCurrentLocale=u,e.getText=p,e.getLocaleSettings=m,e.getOneLocaleSetting=g,e.getShortMonthName=f,e.getLongMonthName=b,e.getShortWeekDayName=k,e.getLongWeekDayName=y,e.updateLocaleSettings=x,e.updateLocaleTexts=w,e.updateDefaultTexts=v,e.updateLocaleInfo=D,e.addLocale=T,e.resetLocales=A;const S=/\[([^\]]+)]|y{2,4}|M{1,4}|d{1,2}|H{1,2}|h{1,2}|m{2}|s{2}|t{2}/g;function I(t,i){const o=t.getFullYear().toString(),r=t.getMonth()+1,n=t.getDate(),s=t.getHours(),a=t.getMinutes(),l=t.getSeconds(),d=s%12||12,c=s>11,h={yyyy:o,yy:o.substring(o.length-2),MMMM:e.getLongMonthName(r),MMM:e.getShortMonthName(r),MM:r<10?"0"+r:r.toString(),M:r.toString(),dd:n<10?"0"+n:n.toString(),d:n.toString(),HH:s<10?"0"+s:s.toString(),H:s.toString(),hh:d<10?"0"+d:d.toString(),h:d.toString(),tt:c?"PM":"AM",mm:a<10?"0"+a:a.toString(),ss:l<10?"0"+l:l.toString()};return i.replace(S,((t,e)=>e||h[t]))}function R(e,i,o){return o?"d"==o?o=M(t.DataType.Date):"D"==o?o=P(t.DataType.Date):"f"==o?o=M(t.DataType.DateTime):"F"==o&&(o=P(t.DataType.DateTime)):o=M(i),I(e,o)}function M(e){const i=m();let o;switch(e){case t.DataType.Date:o=i.shortDateFormat;break;case t.DataType.Time:o=i.shortTimeFormat;break;default:o=i.shortDateFormat+" "+i.shortTimeFormat}return o}function P(e){const i=m();let o;switch(e){case t.DataType.Date:o=i.longDateFormat;break;case t.DataType.Time:o=i.longTimeFormat;break;default:o=i.longDateFormat+" "+i.longTimeFormat}return o}function O(t,e,i){if(e&&e.length>0){const i=e.charAt(0).toUpperCase();if("S"===i)return N(t,e.slice(1));if(["D","F","C"].indexOf(i)>=0){const i=c();return t.toLocaleString(i,B(e))}return F(Math.trunc(t),e)}const o=m();return i=i||o.decimalSeparator,t.toString().replace(".",i)}function L(t,i){if(i&&i.length>0&&"S"===i.charAt(0).toUpperCase()){const o=i.slice(1).split("|");if(o.length>1){const i=o[t?1:0];return e.getText(i)||i}}return`${t}`}e.dateTimeToStr=I,e.dateTimeToStrEx=R,e.numberToStr=O,e.booleanToStr=L;const z={};function N(t,i){if(!z[i]){const t=i.split("|").filter((t=>t.length>0)).map((t=>t.split("=")));if(z[i]={},t.length>0)if(t[0].length>1)for(const e of t)z[i][Number.parseInt(e[1])]=e[0];else t.forEach(((t,e)=>{z[i][e]=t[0]}))}const o=z[i];if(void 0!==o[t]){const i=o[t];return e.getText(i)||i}return t.toString()}function F(t,e){let i=t.toString(),o="",r=i.length-1;for(let t=e.length-1;t>=0;t--){const n=e.charAt(t);"#"===n||"0"===n?r>=0?(o+=i.charAt(r),r--):"0"===n&&(o+=0):o+=n}return o.split("").reverse().join("")}function B(t){const e=m(),i=t[0].toUpperCase(),o=t.length>1?Number.parseInt(t.slice(1)):"D"==i?1:2;switch(i){case"D":return{style:"decimal",useGrouping:!1,minimumIntegerDigits:o};case"C":return{style:"currency",currency:e.currency,minimumFractionDigits:o};default:return{style:"decimal",minimumFractionDigits:o,maximumFractionDigits:o}}}}(t.i18n||(t.i18n={}));class m{constructor(t){this.isEditable=!0,this.name="",this.caption="",this.description="",this.parent=t,this.attributes=new Array,this.subEntities=new Array}loadFromData(t,e){if(e){if(this.id=e.id,this.name=e.name,this.captionPlural=e.namePlur,this.caption=e.name,this.description=e.desc,void 0!==e.ied&&(this.isEditable=e.ied),this.subEntities=new Array,e.ents)for(let i=0;i<e.ents.length;i++){let o=t.createEntity(this);o.loadFromData(t,e.ents[i]),this.subEntities.push(o)}if(this.attributes=new Array,e.attrs)for(let i=0;i<e.attrs.length;i++){let o=t.createEntityAttr(this);o.loadFromData(t,e.attrs[i]),this.attributes.push(o)}}}scan(t,e){let i={stop:!1},o=r=>{if(e&&e(r,i),r.attributes){let e=r.attributes.length;for(let o=0;o<e&&!i.stop;o++){let e=r.attributes[o];if(t&&t(e,i),i.stop)return}}if(r.subEntities){let t=r.subEntities.length;for(let e=0;e<t&&!i.stop;e++)o(r.subEntities[e])}};o(this)}getFirstPrimaryAttr(){return this.getPrimaryAttrs()[0]}getPrimaryAttrs(){return this.attributes.filter((t=>t.isPrimaryKey))}}class g{constructor(e){this.id="",this.caption="{Unrecognized attribute}",this.dataType=t.DataType.String,this.size=0,this.isPrimaryKey=!1,this.isForeignKey=!1,this.isNullable=!0,this.showOnView=!0,this.isEditable=!0,this.showOnCreate=!0,this.showOnEdit=!0,this.showInLookup=!1,this.lookupAttr="",this.expr="",this.entity=e,this.kind=t.EntityAttrKind.Data}loadFromData(e,i){if(i){this.id=i.id,this.description=i.desc,this.caption=i.cptn,this.dataType=i.dtype,this.isPrimaryKey=i.ipk,this.isForeignKey=i.ifk,this.size=i.size,this.lookupAttr=i.lattr,this.lookupEntity=i.lent,this.dataAttr=i.dattr,this.lookupDataAttr=i.ldattr;const o=t.utils.getDateDataTypes().indexOf(this.dataType);this.defaultValue=i.defVal&&o?new Date(i.defVal):i.defVal,this.isNullable=t.utils.getIfDefined(i.nul,this.isNullable),this.isEditable=t.utils.getIfDefined(i.ied,this.isEditable),this.showOnView=t.utils.getIfDefined(i.ivis||i.sov,this.showOnView),this.showOnCreate=t.utils.getIfDefined(i.soc,this.showOnCreate),this.showOnEdit=t.utils.getIfDefined(i.soe,this.showOnEdit),this.showInLookup=t.utils.getIfDefined(i.sil,this.showInLookup),this.kind=i.kind,this.displayFormat=i.dfmt,i.udata&&(this.userData=i.udata),i.edtr&&(this.defaultEditor=e.getEditorById(i.edtr)||e.createValueEditor())}}}class f{constructor(){this.id="",this.tag=o.Unknown,this.resType=t.DataType.Unknown,this.defValue=""}loadFromData(t){t&&(this.id=t.id,this.tag=t.tag,this.defValue=t.defval,this.resType=t.rtype,this.accept=t.accept,this.multiline=t.multiline,t.subType&&(this.resType=t.subType),t.name&&(this.name=t.name),t.values&&(this.values=t.values))}getValueText(t){let e="";if(!this.values)return e;if(Array.isArray(t))for(let i of this.values)t.indexOf(i.id)>=0&&(e+=i.text+",");else for(let i of this.values)i.id===t&&(e+=i.text+",");return e&&(e=e.substring(0,e.length-1)),e}}class b{constructor(){this.mainEntity=null,this.id="__none",this.name="Empty model",this.rootEntity=this.createEntity(),this.displayFormats=new Map}getMainEntity(){return this.mainEntity}createEntity(t){return new m(t)}createEntityAttr(t){return new g(t)}createValueEditor(){return new f}loadFromJSON(t){let e=JSON.parse(t);this.loadFromData(e)}loadFromData(e){if(this.id=e.id,this.name=e.name,this.version=e.vers,this.editors=new Array,e.editors)for(let t=0;t<e.editors.length;t++){let i=this.createValueEditor();i.loadFromData(e.editors[t]),this.editors.push(i)}if(this.rootEntity.loadFromData(this,e.entroot),this.displayFormats=new Map,e.displayFormats)for(const i in e.displayFormats){const o=t.DataType[i],r=e.displayFormats[i]||new Array;this.displayFormats.set(o,r)}}getDisplayFormats(){return this.displayFormats}getDisplayFormatsForType(t){return this.displayFormats.has(t)?this.displayFormats.get(t):[]}getDefaultFormat(t){return this.displayFormats.has(t)?this.displayFormats.get(t).filter((t=>t.isdef))[0]:null}setData(t){"string"==typeof t?this.loadFromJSON(t):this.loadFromData(t)}isEmpty(){return 0===this.rootEntity.subEntities.length&&0===this.rootEntity.attributes.length}getId(){return this.id}getName(){return this.name}getRootEntity(){return this.rootEntity}getEditorById(t){for(let e of this.editors)if(e.id===t)return e;return null}getAttributeById(t){let e=this.getEntityAttrById(this.getRootEntity(),t);return e||null}checkAttrProperty(t,e){let i=this.getAttributeById(t);if(i){if(void 0===i[e])throw"No such property: "+e;return!!i[e]||!!i.lookupAttr&&(t=i.lookupAttr,i=this.getAttributeById(t),i&&i[e])}return!1}getEntityAttrById(t,e){let i,o;if(t.attributes){let o=t.attributes.length;for(i=0;i<o;i++)if(t.attributes[i].id==e)return t.attributes[i]}if(t.subEntities){let r=t.subEntities.length;for(i=0;i<r;i++)if(o=this.getEntityAttrById(t.subEntities[i],e),o)return o}return null}listByEntityWithFilter(e,i){let o,r=new Array,n=null;if(e.subEntities){let s=e.subEntities.length;for(let a=0;a<s;a++)if(n=e.subEntities[a],!i||i(n,null)){o=t.i18n.getText("Entities",n.name),o||(o=n.caption);let e=t.utils.assign(this.createEntity(),{id:n.name,text:o,items:[],isEntity:!0});e.items=this.listByEntityWithFilter(n,i),e.items.length>0&&r.push(e)}}let s=null;if(e.attributes){let n=e.attributes.length;for(let a=0;a<n;a++)if(s=e.attributes[a],!i||i(e,s)){o=t.i18n.getText("Attributes",s.id),o||(o=s.caption);let e=t.utils.assign(this.createEntity(),{id:s.id,text:o,dataType:s.dataType});r.push(e)}}return r}listByEntity(e,i,o){i=i||{};let r,n=[],s=[],a=null;if(e.subEntities){let s=e.subEntities.length;for(let l=0;l<s;l++)if(a=e.subEntities[l],!o||o(a,null)){r=t.i18n.getText("Entities",a.name)||a.caption;let e=t.utils.assign(this.createEntity(),{id:a.name,text:r,items:[],isEntity:!0,description:a.description}),s=t.utils.assign({},i);s.includeRootData=!1,e.items=this.listByEntity(a,s,o),e.items.length>0&&n.push(e)}}let l=null;if(e.attributes){let i=e.attributes.length;for(let n=0;n<i;n++)l=e.attributes[n],o&&!o(e,l)||(r=t.i18n.getText("Attributes",l.id)||l.caption,s.push(t.utils.assign(this.createEntityAttr(e),{id:l.id,text:r,dataType:l.dataType,lookupAttr:l.lookupAttr,description:l.description})))}let d,c=(t,e)=>t.text.toLowerCase()==e.text.toLowerCase()?0:t.text.toLowerCase()>e.text.toLowerCase()?1:-1;return i.sortEntities&&(n.sort(c),s.sort(c)),d=i.attrPlacement&&0!=i.attrPlacement?s.concat(n):n.concat(s),2==i.attrPlacement&&d.sort(c),i.includeRootData?(r=t.i18n.getText("Entities",e.name),r||(r=e.caption),{id:e.name,text:r,items:d}):d}clear(){this.rootEntity=this.createEntity(),this.editors=[],this.version=""}addDefaultValueEditors(){let e;e=this.addOrUpdateValueEditor("_DTE",o.Edit,t.DataType.String),e.defValue="",this.addOrUpdateValueEditor("_DPDE",o.DateTime,t.DataType.DateTime),this.addOrUpdateValueEditor("_DPTE",o.DateTime,t.DataType.DateTime)}addOrUpdateValueEditor(e,i,o){let r=t.utils.findItemById(this.editors,e);return r||(r=this.createValueEditor(),r.id=e,this.editors.push(r)),r.tag=i,r.resType=o,r}getEntitiesTree(t,e){return this.listByEntity(this.getRootEntity(),t,e)}getEntitiesTreeWithFilter(t){return this.listByEntityWithFilter(this.getRootEntity(),t)}getFullEntityPathByAttr(t,e){return e=e||" ",this.getEntityPathByAttr(this.getRootEntity(),t,e,!0)}getEntityPathByAttr(e,i,o,r){if(!e)return"";o=o||" ";let n="";if(e.caption&&!r){let i=t.i18n.getText("Entities",e.caption);n=i||e.caption}if(e.attributes){let t=e.attributes.length;for(let o=0;o<t;o++)if(e.attributes[o].id==i)return n}if(e.subEntities){let t=e.subEntities.length;for(let r=0;r<t;r++){let t=e.subEntities[r],s=this.getEntityPathByAttr(t,i,o,!1);if(""!==s)return""!==n&&(s=n+o+s),s}}return""}getAttributeText(e,i){let o=t.i18n.getText("Attributes",e.id);if(o||(o=e.caption),!i)return o;let r="",n=this.getFullEntityPathByAttr(e.id," ");return n?(r=i.replace(new RegExp("{attr}","g"),o),r=r.replace(new RegExp("{entity}","g"),n)):r=o,r.trim()}runThroughEntities(t,e){this.getRootEntity().scan(t,e)}getFirstAttributeByFilter(t){let e=null;return this.runThroughEntities((function(i,o){t(i)&&(o.stop=!0,e=i)}),null),e}}class k{constructor(t){this.colStore=t,this.aggregates=[],this.groups=[],this.useGrandTotals=!1,this.useRecordCount=!1,this._caseSensitiveGroups=!1,this.COUNT_FIELD_NAME="GRPRECCNT"}get caseSensitiveGroups(){return this._caseSensitiveGroups}set caseSensitiveGroups(t){this._caseSensitiveGroups=t,this.updateCompareProc()}updateCompareProc(){this.compareValues=this._caseSensitiveGroups?this.strictCompare:this.caseInsensitiveCompare}addGroup(t){const e=t.columns||this.colStore.getColumnIds(t.from,t.to);if(!this.colStore.validateColumns(e))throw"Invalid columns: "+e;if(this.hasColumnsInUse(e))throw"Can't add same columns to different groups/aggregates";return this.groups.push(Object.assign({columns:e},t)),this}addAggregateColumn(t,e){const i="string"==typeof t?t:this.colStore.getColumnIds(t,t)[0];if(this.hasColumnsInUse([i])||!this.colStore.validateAggregate(i,e))throw"Invalid aggregation function for the column: "+i;return this.aggregates.push({colId:i,funcId:e}),this}addGrandTotals(){return this.useGrandTotals=!0,this}addCounts(){return this.useRecordCount=!0,this}getGroups(){let t=[];return this.groups.map((e=>(t=t.concat(e.columns),Object.assign(Object.assign({},e),{columns:Array.from(t),aggregates:Array.from(this.aggregates)}))))}getInternalGroups(){return this.groups}lastGroup(){const t=this.getGroups();return t[t.length-1]}getAggregates(){return this.aggregates}hasAggregates(){return this.aggregates.length>0}hasGroups(){return this.groups.length>0}hasGrandTotals(){return this.useGrandTotals}hasRecordCount(){return this.useRecordCount}isEmpty(){return!(this.hasAggregates()||this.hasGroups()||this.hasAggregates()||this.hasRecordCount())}drop(){console.warn('"drop()" method is obsolete. Use "clear()" instead'),this.clear()}clear(){return this.groups=[],this.aggregates=[],this.useGrandTotals=!1,this.useRecordCount=!1,this.caseSensitiveGroups=!1,this}hasColumnsInUse(t){for(const e of this.groups)if(e.columns.filter((e=>t.indexOf(e)>=0)).length>0)return!0;for(const e of this.aggregates)if(t.indexOf(e.colId)>=0)return!0;return!1}needAggrCalculation(){return(this.hasAggregates()||this.hasRecordCount())&&(this.hasGrandTotals()||this.hasGroups())}saveToData(){return{groups:Array.from(this.groups),ugt:this.useGrandTotals,urc:this.useRecordCount,csg:this.caseSensitiveGroups,aggregates:Array.from(this.aggregates)}}loadFromData(t){t&&(void 0!==t.ugt&&(this.useGrandTotals=t.ugt),void 0!==t.urc&&(this.useRecordCount=t.urc),void 0!==t.csg&&(this.caseSensitiveGroups=t.csg),t.groups&&(this.groups=Array.from(t.groups)),t.aggregates&&(this.aggregates=Array.from(t.aggregates)))}buildGroupKey(t,e){const i=!this.caseSensitiveGroups;let o={};if(t)for(const r of t.columns){let t=e.getValue(r);i&&"string"==typeof t&&(t=t.toLowerCase()),o[r]=t}return o}strictCompare(t,e){return t instanceof Date?t.getTime()===e.getTime():t===e}caseInsensitiveCompare(t,e){return t instanceof Date?t.getTime()===e.getTime():("string"==typeof t?t.toLowerCase():t)===("string"==typeof e?e.toLowerCase():e)}}t.ColumnAlignment=void 0,(a=t.ColumnAlignment||(t.ColumnAlignment={}))[a.None=0]="None",a[a.Left=1]="Left",a[a.Center=2]="Center",a[a.Right=3]="Right";class y{constructor(e){if(!e)throw Error("Options are required");if(!e.id)throw Error("Field Id is required");if(!e.label)throw Error("Label is required");this.id=e.id,this.type=t.utils.getIfDefined(e.type,t.DataType.String),this.label=e.label,this.originAttrId=e.originAttrId,this.isAggr=e.isAggr||!1,this.displayFormat=e.dfmt,this.groupFooterColumnTemplate=e.gfct,this.style=e.style||{},this.description=e.description,this.calculatedWidth=0}}class x{constructor(){this.items=[],this.mapper={},this._dateColumnIdx=[]}get count(){return this.items.length}add(e){let i;i=e instanceof y?e:new y(e);const o=this.items.length;return this.items.push(i),this.mapper[i.id]=o,[t.DataType.Date,t.DataType.DateTime,t.DataType.Time].indexOf(i.type)>=0&&this._dateColumnIdx.push(o),o}updateDateColumnIdx(){this._dateColumnIdx=this.getItems().filter((e=>[t.DataType.Date,t.DataType.DateTime,t.DataType.Time].indexOf(e.type)>=0)).map(((t,e)=>e))}put(t,e){t>=0&&t<this.count&&(this.items[t]=e,this.updateDateColumnIdx())}move(e,i){let o=this.items.indexOf(e);o>=0&&o!=i&&(t.utils.moveArrayItem(this.items,o,i),this.updateDateColumnIdx())}get(t){return t>=0&&t<this.count?this.items[t]:null}getIndex(t){return this.mapper[t]}getItems(){return this.items}getDateColumnIndexes(){return this._dateColumnIdx}removeAt(t){const e=this.get(t);this.items.splice(t,1);const i=this._dateColumnIdx.indexOf(t);i>=0&&this._dateColumnIdx.splice(i,1),delete this.mapper[e.id]}clear(){this.items=[],this._dateColumnIdx=[],this.mapper={}}}class w{constructor(t,e){this.columns=t,this.values=e}toArray(){return Array.from(this.values)}size(){return this.values.length}getValue(t){let e;if("string"==typeof t){if(e=this.columns.getIndex(t),void 0===e)throw new RangeError(`No column with id '${t}'`)}else e=t;if(e>=this.values.length)throw new RangeError("Out of range: "+e);return this.values[e]}setValue(t,e){let i;if("string"==typeof t){if(i=this.columns.getIndex(t),void 0===i)throw new RangeError(`No column with id '${t}'`)}else i=t;if(i>=this.values.length)throw new RangeError("Out of range: "+i);this.values[i]=e}}class v{constructor(t){if(this._chunkSize=1e3,this._elasticChunks=!1,this.cachedRows=[],this.total=0,this.loader=null,this.needTotal=!0,this.isInMemory=!1,t=t||{},this._chunkSize=t.chunkSize||this._chunkSize,this._elasticChunks=t.elasticChunks||this._elasticChunks,this.loader=t.loader,void 0!==t.inMemory&&(this.isInMemory=t.inMemory),this.isInMemory&&(this.needTotal=!1),this._columns=new x,this.onUpdate=t.onUpdate,t.columns)for(const e of t.columns)this._columns.add(e);if(t.rows)for(const e of t.rows){const t=this.createRow(e);this.addRow(t)}this.needTotal=!this._elasticChunks}get columns(){return this._columns}get chunkSize(){return this._chunkSize}set chunkSize(t){this._chunkSize=t,this.total=0,this.needTotal=!this.elasticChunks,this.cachedRows=[]}get elasticChunks(){return this._elasticChunks}set elasticChunks(t){this._elasticChunks=t,this.total=0,this.needTotal=!this.elasticChunks,this.cachedRows=[]}getRows(t){let e=0,i=this._chunkSize;t&&("page"in t?(e=t.pageSize*(t.page-1),i=t.pageSize):(e=t.offset,i=t.limit));let o=e+i;if(!this.needTotal&&!this.elasticChunks){if(e>=this.total)return Promise.resolve([]);o>this.total&&(o=this.total)}if(this.isInMemory&&o>this.cachedRows.length&&(o=this.cachedRows.length),o<=this.cachedRows.length)return Promise.resolve(this.cachedRows.slice(e,o));if(!this.loader)throw`Loader is not defined. Can't get the rows from ${e} to ${o}`;const r=this.needTotal;this.needTotal&&(this.needTotal=!1);let n=this.cachedRows.length,s=o-n;return s<this._chunkSize&&(s=this._chunkSize),this.loader.loadChunk({offset:n,limit:s,needTotal:r}).then((t=>(r&&(this.total=t.total),Array.prototype.push.apply(this.cachedRows,t.table.getCachedRows()),o>this.cachedRows.length&&(o=this.cachedRows.length),this.elasticChunks&&t.table.getCachedCount()<s&&(this.total=this.cachedRows.length),this.fireUpdated(),this.cachedRows.slice(e,o))))}getRow(t){return this.getRows({offset:t,limit:1}).then((t=>t.length>0?t[0]:null))}getTotal(){return this.total}setTotal(t){this.total=t,this.needTotal=!1}getCachedCount(){return this.cachedRows.length}clear(){this.columns.clear(),this.cachedRows=[],this.total=0,this.needTotal=!this._elasticChunks,this.fireUpdated()}createRow(t){const e=this._columns.getDateColumnIndexes(),i=new Array(this._columns.count),o=t instanceof w?e=>t.getValue(e):e=>t[e];return t&&this.columns.getItems().forEach((t=>{const r=o(t.id),n=this.columns.getIndex(t.id);i[n]=e.indexOf(n)>=0?this.mapDate(r,t.type):r})),new w(this._columns,i)}mapDate(e,i){if(e){let o=new Date(e);return isNaN(o.getTime())&&i==t.DataType.Time&&(o=t.utils.strToTime(e)),o}return null}addRow(t){let e;if(Array.isArray(t)){let i=t;const o=this._columns.getDateColumnIndexes();if(o.length>0)for(const t of o)i[t]&&(i[t]=this.mapDate(i[t],this._columns.get(t).type));e=new w(this._columns,i)}else e=this.createRow(t);this.cachedRows.push(e);const i=this.getCachedCount();return i>this.total&&(this.total=i),e}getCachedRows(){return this.cachedRows}totalIsKnown(){return this.elasticChunks?this.getCachedCount()===this.total:!this.needTotal}fireUpdated(){this.onUpdate&&this.onUpdate(this)}}class D{static newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}}class T{constructor(t){this.silentMode=0,this.events=new Array,this.source=t}subscribe(t,e){let i=this.getEventRecByType(t);const o={id:D.newGuid(),callback:e};return i?i.eventCallbacks.push(o):(i={type:t,eventCallbacks:new Array(o)},this.events.push(i)),o.id}unsubscribe(t,e){let i=this.getEventRecByType(t);if(i){let t=-1;for(t=0;t<i.eventCallbacks.length&&i.eventCallbacks[t].id!==e;t++);t>=0&&i.eventCallbacks.splice(t,1)}}fire(t,e,i=0,o=!1){if(this.silentMode&&!o)return;let r=this.getEventRecByType(t);if(r){const o={type:t,source:this.source,data:e};let n=()=>{for(let t of r.eventCallbacks)t.callback(o)};i>0?setTimeout(n,i):n()}}enterSilentMode(){this.silentMode++}exitSilentMode(){this.silentMode&&this.silentMode--}isSilent(){return this.silentMode>0}getEventRecByType(t){for(let e of this.events)if(e.type==t)return e;return null}}function C(t,e){return t.repeat(e)}function E(t){return t.split("").reverse().join("")}function A(t,e){return t&&t.lastIndexOf(e)==t.length-e.length}function S(t,e){let i=t;return null!=i&&i.length>0?("/"!=i.charAt(i.length-1)&&(i+="/"),i+=e):i=e,i}t.liquid=void 0,function(t){function e(t,e){let i=t;if(e)for(let t in e){const o=new RegExp("{{"+t+"}}","g");i=i.replace(o,e[t])}return i}t.renderLiquidTemplate=e}(t.liquid||(t.liquid={})),t.i18n.resetLocales(),"function"!=typeof Object.values&&(Object.values=function(t){return Object.keys(t).map((e=>t[e]))}),"function"!=typeof Math.trunc&&(Math.trunc=function(t){return isNaN(t)?NaN:t>0?Math.floor(t):Math.ceil(t)}),t.AggregationSettings=k,t.DataColumn=y,t.DataColumnList=x,t.DataRow=w,t.EasyDataTable=v,t.EasyGuid=D,t.EditorTag=o,t.EventEmitter=T,t.HttpClient=p,t.HttpRequest=c,t.HttpResponseError=u,t.MetaData=b,t.MetaEntity=m,t.MetaEntityAttr=g,t.SpecialDatesResolver=n,t.TimeValue=r,t.ValueEditor=f,t.combinePath=S,t.registerSpecialDatesResolver=d,t.repeatString=C,t.reverseString=E,t.strEndsWith=A}(e)}(0,r.exports)),r.exports}!function(t,e){
/*!
  	 * EasyData.JS UI
  	 * Copyright 2020 - 2024 Korzh.com
  	 * Licensed under MIT
  	 */
!function(t,e){function i(t,e){for(t.appendChild(e);t.firstChild!==e;)e.appendChild(t.firstChild)}function o(t,e,i){let o=document.createElement(e),r=i||{};return r.cssClass&&(o.className=r.cssClass),t.appendChild(o),o}function r(t,e){t.className=t.className?t.className+" "+e:e}function n(t){t.style.display="none"}function s(t,e){e||(e=""),t.style.display=e}function a(t,e,i){i||(i={}),i.display||(i.display=""),i.duration||(i.duration=200),n(t),s(e,i.display),i.complete&&i.complete()}function l(t){return"none"!=t.style.display&&0!=t.offsetWidth&&0!=t.offsetHeight}function d(t){var e;return"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),e}function c(){return{width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function h(){return t.browserUtils.IsIE()?g():{width:Math.max(document.documentElement.clientWidth,document.body.clientWidth||0),height:Math.max(document.documentElement.clientHeight,document.body.clientHeight||0)}}function u(){const t=document.body,e=document.documentElement;return{top:window.pageYOffset||e.scrollTop||t.scrollTop,left:window.pageXOffset||e.scrollLeft||t.scrollLeft}}function p(t){let e={x:0,y:0};if(null!==t){const i=m(t);e={x:i.left,y:i.top}}return e}function m(t){const e={top:0,right:0,bottom:0,left:0,width:0,height:0};let i;try{i=t.getBoundingClientRect()}catch(t){i=e}const o=document.body,r=document.documentElement,n=u(),s=n.top,a=n.left,l=r.clientTop||o.clientTop||0,d=r.clientLeft||o.clientLeft||0,c=i.top+s-l,h=i.left+a-d;return{top:Math.round(c),left:Math.round(h)}}function g(){return{width:window.innerWidth,height:window.innerHeight}}function f(t,e,i){t.style.removeProperty("display");let o=window.getComputedStyle(t).display;"none"===o&&(o="block"),t.style.display=o;let r=t.offsetHeight;t.style.overflow="hidden",t.style.height="0px",t.style.paddingTop="0px",t.style.paddingBottom="0px",t.style.marginTop="0px",t.style.marginBottom="0px",t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=r+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.style.removeProperty("box-sizing"),i&&i()}),e)}function b(t,e,i){t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height="0px",t.style.paddingTop="0px",t.style.paddingBottom="0px",t.style.marginTop="0px",t.style.marginBottom="0px",window.setTimeout((()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.style.removeProperty("box-sizing"),i&&i()}),e)}t.browserUtils=void 0,function(t){let e=null,i=null;function o(){if(null===i){const t=navigator.userAgent;i=t.indexOf("MSIE ")>-1||t.indexOf("Trident/")>-1}return i}function r(){const t=window.navigator.userAgent;return!o()&&t.includes("Edge/")}function n(){if(null===e){const t=navigator.userAgent;e=t.toLowerCase().indexOf("firefox")>-1}return e}t.IsIE=o,t.IsEdge=r,t.IsFirefox=n;let s,a,l=!1,d=()=>{const t=c();l=window.matchMedia("only screen and (max-width: 840px)").matches||window.matchMedia("only screen and (max-height: 420px)").matches;const e=c();e!==t&&a&&a(e)};function c(){return void 0!==s?s:l}function h(t){const e=c();s=t;const i=c();i!==e&&a&&a(i)}function u(t){a=t}function p(){return c()?"k-mobile":null}d(),window.addEventListener("resize",(()=>d())),t.isMobileMode=c,t.setIsMobileMode=h,t.onMobileModeChanged=u,t.getMobileCssClass=p}(t.browserUtils||(t.browserUtils={}));const k="eqjs",y="eqjs-mobile";function x(t,e){const i={9:"[0-9]",a:"[a-z]"},o=e.split(""),r=e=>{if(8===e.keyCode||46===e.keyCode){e.preventDefault();let r=[],n=t.selectionStart;if(0==n)return;let s=n,a=!0;for(let e=o.length-1;e>=0;e--){const l=o[e];if(i[l]){let o=new RegExp(i[l],"i").test(t.value.charAt(e));o&&e!=n-1&&(a=!1),e===n-1&&s--,r.push(o&&e!=n-1?t.value.charAt(e):"_")}else e===s-1&&s--,n-1===e&&n--,r.push(l)}t.value=a?"":r.reverse().join(""),t.selectionStart=t.selectionEnd=s<0?0:s;const l=document.createEvent("Event");l.initEvent("input",!0,!0),t.dispatchEvent(l)}},n=e=>{const r=String.fromCharCode(e.charCode);if(r){e.preventDefault();let n=[],s=t.selectionStart,a=s;o.forEach(((e,o)=>{if(i[e]){const l=o!=s?t.value.charAt(o):r;let d=new RegExp(i[e],"i").test(l);n.push(d?l:"_"),d&&s===o&&a++}else n.push(e),a===o&&a++,s===o&&s++})),t.value=n.join(""),t.selectionStart=t.selectionEnd=a;const l=document.createEvent("Event");l.initEvent("input",!0,!0),t.dispatchEvent(l)}},s=e=>{if("focus"===e.type&&""!==t.value)return;let r=[],n=t.selectionStart;o.forEach(((e,o)=>{if(i[e]){let n=new RegExp(i[e],"i").test(t.value.charAt(o));r.push(n?t.value.charAt(o):"_")}else r.push(e)})),t.value=r.join(""),t.selectionStart=t.selectionEnd=n};t.addEventListener("keydown",r),t.addEventListener("keypress",n),t.addEventListener("input",s),t.addEventListener("focus",s)}class w{constructor(t,e){this.element="string"==typeof t?document.createElement(t):t,e&&this.element.parentElement!==e&&e.appendChild(this.element)}addChild(t,e){const i=C(t,this.element);return e&&e(i),this}addChildElement(t){return t&&this.element.appendChild(t),this}attr(t,e){return this.element.setAttribute(t,e),this}id(t){return this.attr("id",t)}focus(){return this.element.focus(),this}title(t){return this.attr("title",t)}data(t,e=null){return null===e?(this.element.removeAttribute("data-"+t),this):this.attr("data-"+t,e)}show(){return this.removeStyle("display")}hide(t=!0){return t?this.setStyle("display","none"):this}visible(t=!0){return t?this.setStyle("visibility","visible"):this.setStyle("visibility","hidden")}isVisible(){return!!(this.element.offsetWidth||this.element.offsetHeight||this.element.getClientRects().length)}addClass(t,...e){if(t){const i=[...t.trim().split(" "),...e];for(let t=0;t<i.length;t++)this.element.classList.add(i[t])}return this}removeClass(t,...e){if(t){const i=[...t.trim().split(" "),...e];for(let t=0;t<i.length;t++)this.element.classList.remove(i[t])}return this}toggleClass(t,e=void 0){return t&&this.element.classList.toggle(t,e),this}on(t,e){const i=t.split(" ");for(let t=0;t<i.length;t++)this.element.addEventListener(i[t],e);return this}off(t,e){const i=t.split(" ");for(let t=0;t<i.length;t++)this.element.removeEventListener(i[t],e);return this}setStyle(t,e){return this.element.style.setProperty(t,e),this}removeStyle(t){return this.element.style.removeProperty(t),this}text(t){return this.element.innerText=t,this}html(t){return this.element.innerHTML=t,this}clear(){const t=this.element;this.element=document.createElement(this.element.tagName),t.replaceWith(this.element)}addText(t){const e=document.createTextNode(t);return this.element.appendChild(e),this}addHtml(t){return this.element.innerHTML+=t,this}toDOM(){return this.element}appendTo(t){return t&&t.appendChild(this.element),this}}class v extends w{constructor(t,e){super(t||"textarea",e)}name(t){return this.element.name=t,this}rows(t){return this.element.rows=t,this}cols(t){return this.element.cols=t,this}value(t){return this.element.value=t,this}}class D extends w{constructor(t,e){super(t||"input",e)}name(t){return this.element.name=t,this}type(t){return this.element.type=t,this}size(t){return this.element.size=t,this}value(t){return t instanceof Date?this.element.valueAsDate=t:"number"==typeof t?this.element.valueAsNumber=t:this.element.value=t,this}mask(t){return x(this.element,t),this}}class T extends w{constructor(t,e){super(t||"select",e)}addOption(t){const e=document.createElement("option");return"string"==typeof t?(e.value=t,e.innerHTML=t):(e.value=t.value,e.innerHTML=t.title||t.value,e.selected=t.selected||!1),this.element.appendChild(e),this}value(t){return this.element.value=t,this}}function C(t,e){return"div"===t||t instanceof HTMLDivElement||"span"===t||t instanceof HTMLSpanElement||"a"===t||t instanceof HTMLAnchorElement||"button"===t||t instanceof HTMLButtonElement||"img"===t||t instanceof HTMLImageElement?new w(t,e):"input"===t||t instanceof HTMLInputElement?new D(t instanceof HTMLInputElement?t:null,e):"textarea"===t||t instanceof HTMLTextAreaElement?new v(t instanceof HTMLTextAreaElement?t:null,e):"select"===t||t instanceof HTMLSelectElement?new T(t instanceof HTMLSelectElement?t:null,e):new w(t,e)}const E="undefined"!=typeof TouchEvent;var A;t.DropEffect=void 0,(A=t.DropEffect||(t.DropEffect={})).None="none",A.Allow="allow",A.Forbid="forbid";class S{constructor(e,i,o){this.dropEffect=t.DropEffect.Allow,this.pageX=0,this.pageY=0,this.item=e,this.dragImage=i,this.data=e.data,this.sourceEvent=o,o&&o instanceof MouseEvent&&(this.pageX=o.pageX,this.pageY=o.pageY),o&&E&&o instanceof TouchEvent&&o.touches[0]&&(this.pageX=o.touches[0].pageX,this.pageY=o.touches[0].pageY)}}class I{constructor(t){t&&t instanceof MouseEvent&&(this.x=t.pageX,this.y=t.pageY),t&&E&&t instanceof TouchEvent&&t.touches[0]&&(this.x=t.touches[0].pageX,this.y=t.touches[0].pageY)}}class R{constructor(){this.delta=5,this.draggableItem=null,this.dragImage=null,this.finishedSuccessfully=!1,this.mouseDownPosition=null,this.containerDescriptors=[],this.containerDescriptorIndex=-1,this.dropEffect=t.DropEffect.None,this.classPrefix="eqjs-drop",this.DRAG_DISABLED_ATTR="drag-disabled"}registerDraggableItem(e){const i=e.element;if(!i)throw Error("Element in draggle item is null or undefined");i.ondragstart=function(){return!1};const o=t=>{if(i.hasAttribute(this.DRAG_DISABLED_ATTR))return;t.preventDefault(),t instanceof MouseEvent&&t.stopPropagation();const e=new I(t);(Math.abs(e.x-this.mouseDownPosition.x)>this.delta||Math.abs(e.y-this.mouseDownPosition.y)>this.delta)&&n(t)},r=t=>{this.mouseMoveDragListener(t)},n=n=>{n.preventDefault(),n.stopPropagation(),i.removeEventListener("mousemove",o),i.removeEventListener("touchmove",o),this.finishedSuccessfully=!1,e.beforeDragStart&&e.beforeDragStart(),this.dragImage=C("div").setStyle("position","absolute").setStyle("z-index","65530").toDOM(),document.body.appendChild(this.dragImage),this.dragImage.appendChild(i.cloneNode(!0)),e.renderer&&e.renderer(this.dragImage),this.dropEffect=t.DropEffect.None,this.updateCusror(this.dropEffect),this.updateImageClass(this.dropEffect),this.draggableItem={element:i,scope:e.scope,data:e.data},this.updateDragItemPosition(n);const s=new S(this.draggableItem,this.dragImage,n);s.dropEffect=this.dropEffect,e.onDragStart&&e.onDragStart(s),this.dropEffect!==s.dropEffect&&(this.dropEffect=s.dropEffect,this.updateImageClass(this.dropEffect)),document.addEventListener("mousemove",r,!0),document.addEventListener("touchmove",r,!0)},s=t=>{E&&t instanceof TouchEvent&&t.preventDefault(),this.mouseDownPosition=new I(t),i.addEventListener("mousemove",o),i.addEventListener("touchmove",o),document.addEventListener("mouseup",a),document.addEventListener("touchend",a)};i.addEventListener("mousedown",s),i.addEventListener("touchstart",s);const a=t=>{this.mouseDownPosition=null,i.removeEventListener("mousemove",o),i.removeEventListener("touchmove",o),document.removeEventListener("mousemove",r,!0),document.removeEventListener("touchmove",r,!0),this.draggableItem&&l(t)},l=i=>{try{if(this.containerDescriptorIndex>=0){const e=this.containerDescriptors[this.containerDescriptorIndex],o={element:e.element,scopes:e.scopes,data:e.data},r=new S(this.draggableItem,this.dragImage,i);try{o.scopes.indexOf(this.draggableItem.scope)>=0&&this.dropEffect===t.DropEffect.Allow&&(this.finishedSuccessfully=!0,e.onDrop&&e.onDrop(o,r))}finally{e.onDragLeave&&e.onDragLeave(o,r)}}}finally{try{const t=new S(this.draggableItem,this.dragImage,i);t.data.finishedSuccessfully=this.finishedSuccessfully,e.onDragEnd&&e.onDragEnd(t)}finally{this.draggableItem=null,this.dragImage&&this.dragImage.parentElement&&this.dragImage.parentElement.removeChild(this.dragImage),this.dragImage=null,this.finishedSuccessfully=!1,document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a)}}}}registerDropContainer(t){if(!t.element)throw Error("Element in drop container is null or undefined");this.containerDescriptors.push(t)}removeDropContainer(t){const i=this.containerDescriptors.filter((e=>e===t||e.element==t));if(i)for(const t of i)e.utils.removeArrayItem(this.containerDescriptors,t)}mouseMoveDragListener(t){if(t instanceof MouseEvent&&t.preventDefault(),t.stopPropagation(),this.updateDragItemPosition(t),-1==this.containerDescriptorIndex){for(let e=0;e<this.containerDescriptors.length;e++){const i=this.containerDescriptors[e];if(this.detectDragEnterEvent(i.element,t)){this.containerDescriptorIndex=e;break}}this.containerDescriptorIndex>=0&&this.dragEnterEvent(t)}else{const e=this.containerDescriptors[this.containerDescriptorIndex];this.detectDragLeaveEvent(e.element,t)&&(this.dragLeaveEvent(t),this.containerDescriptorIndex=-1)}if(this.containerDescriptorIndex>=0){const e=this.containerDescriptors[this.containerDescriptorIndex],i={element:e.element,scopes:e.scopes,data:e.data};if(i.scopes.indexOf(this.draggableItem.scope)>=0){const o=new S(this.draggableItem,this.dragImage,t);o.dropEffect=this.dropEffect,e.onDragOver&&e.onDragOver(i,o)}}}updateCusror(e){switch(e){case t.DropEffect.Allow:this.setCursorStyle(this.dragImage,"grabbing");break;case t.DropEffect.Forbid:this.setCursorStyle(this.dragImage,"no-drop");break;default:this.setCursorStyle(this.dragImage,"grabbing")}}updateImageClass(e){switch(this.dragImage.classList.remove(`${this.classPrefix}-allow`),this.dragImage.classList.remove(`${this.classPrefix}-forbid`),this.dragImage.classList.remove(`${this.classPrefix}-none`),e){case t.DropEffect.Allow:this.dragImage.classList.add(`${this.classPrefix}-allow`);break;case t.DropEffect.None:this.dragImage.classList.add(`${this.classPrefix}-none`);break;case t.DropEffect.Forbid:this.dragImage.classList.add(`${this.classPrefix}-forbid`);break;default:this.dragImage.classList.add(`${this.classPrefix}-none`)}}setCursorStyle(t,e){if(t){t.style.cursor=e;for(let i=0;i<t.children.length;i++)this.setCursorStyle(t.children[i],e)}}updateDragItemPosition(t){if(this.dragImage){const e=new I(t);this.dragImage.style.top=e.y-this.dragImage.offsetHeight/2+"px",this.dragImage.style.left=e.x-this.dragImage.offsetWidth/2+"px"}}dragEnterEvent(e){const i=this.containerDescriptors[this.containerDescriptorIndex],o={element:i.element,scopes:i.scopes,data:i.data};if(o.scopes.indexOf(this.draggableItem.scope)>=0){const r=new S(this.draggableItem,this.dragImage,e);r.dropEffect=t.DropEffect.Allow,i.onDragEnter&&i.onDragEnter(o,r),this.dropEffect=r.dropEffect,this.updateCusror(this.dropEffect),this.updateImageClass(this.dropEffect)}else this.dropEffect!==t.DropEffect.Forbid&&(this.dropEffect=t.DropEffect.None,this.updateCusror(this.dropEffect),this.updateImageClass(this.dropEffect))}dragLeaveEvent(e){const i=this.containerDescriptors[this.containerDescriptorIndex],o={element:i.element,scopes:i.scopes,data:i.data};if(o.scopes.indexOf(this.draggableItem.scope)>=0){const r=new S(this.draggableItem,this.dragImage,e);r.dropEffect=t.DropEffect.None,i.onDragLeave&&i.onDragLeave(o,r),this.dropEffect=r.dropEffect,this.updateCusror(this.dropEffect),this.updateImageClass(this.dropEffect)}}detectDragEnterEvent(t,e){const i=p(t),o=new I(e);return!(o.y<i.y||o.y>i.y+t.offsetHeight||o.x<i.x||o.x>i.x+t.offsetWidth)}detectDragLeaveEvent(t,e){const i=p(t),o=new I(e);return!(o.y>i.y&&o.y<i.y+t.offsetHeight&&o.x>i.x&&o.x<i.x+t.offsetWidth)}}const M=new R;var P;t.AutoResizeColumns=void 0,(P=t.AutoResizeColumns||(t.AutoResizeColumns={}))[P.Always=0]="Always",P[P.Once=1]="Once",P[P.Never=2]="Never";const O=250,L=60;function z(i){switch(i){case e.ColumnAlignment.Left:return t.GridColumnAlign.LEFT;case e.ColumnAlignment.Center:return t.GridColumnAlign.CENTER;case e.ColumnAlignment.Right:return t.GridColumnAlign.RIGHT;default:return t.GridColumnAlign.NONE}}var N;t.GridColumnAlign=void 0,(N=t.GridColumnAlign||(t.GridColumnAlign={}))[N.NONE=1]="NONE",N[N.LEFT=2]="LEFT",N[N.CENTER=3]="CENTER",N[N.RIGHT=4]="RIGHT";class F{constructor(e,i,o=!1){this._label=null,this._description=null,this.align=t.GridColumnAlign.NONE,this.isVisible=!0,this.isRowNum=!1,this.dataColumn=e,this.grid=i;const r=i.options.columnWidths||{};e?(e.style.alignment&&(this.align=z(e.style.alignment)),this.width=r&&r[this.type]?r[this.type].default:O,this._description=e.description):o&&(this.isRowNum=!0,this.width=r&&r.rowNumColumn?r.rowNumColumn.default:L,this._label="")}get label(){return this._label?this._label:this.isRowNum?"":this.dataColumn.label}set label(t){this._label=this.label}get description(){return this._description}get type(){return this.dataColumn?this.dataColumn.type:null}}class B{constructor(t,e){this.items=[],this.grid=e,this.sync(t)}sync(t,e=!0){this.clear();const i=new F(null,this.grid,!0);if(this.add(i),e||(i.isVisible=!1),t)for(let e of t.getItems()){const t=new F(e,this.grid);this.grid.options.onSyncGridColumn&&this.grid.options.onSyncGridColumn(t),this.add(t)}}get count(){return this.items.length}add(t){const e=this.items.length;return this.items.push(t),e}put(t,e){t>=0&&t<this.items.length&&(this.items[t]=e)}move(t,i){let o=this.items.indexOf(t);o>=0&&o!=i&&e.utils.moveArrayItem(this.items,o,i)}get(t){return t>=0&&t<this.items.length?this.items[t]:null}getItems(){return this.items}removeAt(t){this.get(t),this.items.splice(t,1)}clear(){this.items=[]}}const H="keg",_=/{0:(.*?)}/g;var Y;t.CellRendererType=void 0,(Y=t.CellRendererType||(t.CellRendererType={}))[Y.STRING=1]="STRING",Y[Y.NUMBER=2]="NUMBER",Y[Y.DATETIME=3]="DATETIME",Y[Y.BOOL=4]="BOOL";const V=(e,i,o,r)=>{const n=e?e.toString().replace(/\n/g,"↵ "):"";o.innerText=n,o.title=n,i.align==t.GridColumnAlign.NONE&&o.classList.add(`${H}-cell-value-align-left`)},G=(i,o,r,n)=>{let s=(i||"").toString();"number"==typeof i&&(s=o.dataColumn&&o.dataColumn.displayFormat&&_.test(o.dataColumn.displayFormat)?o.dataColumn.displayFormat.replace(_,((t,o)=>e.i18n.numberToStr(i,o))):i.toLocaleString()),r.innerText=s,r.title=s,o.align==t.GridColumnAlign.NONE&&r.classList.add(`${H}-cell-value-align-right`)},U=(i,o,r,n)=>{const s="[object Date]"===Object.prototype.toString.call(i);let a=(i||"").toString();if(s)if(o.dataColumn&&o.dataColumn.displayFormat&&_.test(o.dataColumn.displayFormat))a=o.dataColumn.displayFormat.replace(_,((t,r)=>e.i18n.dateTimeToStrEx(i,o.type,r)));else{const t=e.i18n.getCurrentLocale(),r={hour:"numeric",minute:"numeric",second:"numeric"};switch(o.type){case e.DataType.Date:a=i.toLocaleDateString(t);break;case e.DataType.Time:a=i.toLocaleTimeString(t,r);break;case e.DataType.DateTime:a=`${i.toLocaleDateString(t)} ${i.toLocaleTimeString(t,r)}`}}r.innerText=a,r.title=a,o.align==t.GridColumnAlign.NONE&&r.classList.add(`${H}-cell-value-align-right`)},j=(t,i,o,r)=>{if(i.dataColumn&&i.dataColumn.displayFormat&&_.test(i.dataColumn.displayFormat)){const r=i.dataColumn.displayFormat.replace(_,((i,o)=>e.i18n.booleanToStr(t,o)));return V(r,i,o)}o.classList.add(`${H}-cell-value-bool`),o.classList.add(`${H}-${t?"cell-value-true":"cell-value-false"}`)};class W{constructor(e){this.renderers={},this.defaultRenderers={},this.registerRenderer("StringDefault",V),this.setDefaultRenderer(t.CellRendererType.STRING,V),this.registerRenderer("NumberDefault",G),this.setDefaultRenderer(t.CellRendererType.NUMBER,G),this.registerRenderer("DateTimeDefault",U),this.setDefaultRenderer(t.CellRendererType.DATETIME,U),this.registerRenderer("BoolDefault",j),this.setDefaultRenderer(t.CellRendererType.BOOL,j)}getDefaultRenderer(e){const i=this.getCellType(e);return this.defaultRenderers[t.CellRendererType[i]]}getDefaultRendererByType(e){return this.defaultRenderers[t.CellRendererType[e]]}setDefaultRenderer(e,i){i&&(this.defaultRenderers[t.CellRendererType[e]]=i)}getRenderer(t){return this.renderers[t]}registerRenderer(t,e){this.renderers[t]=e}getCellType(i){switch(i){case e.DataType.Autoinc:case e.DataType.Byte:case e.DataType.Word:case e.DataType.Currency:case e.DataType.Float:case e.DataType.Int32:case e.DataType.Int64:return t.CellRendererType.NUMBER;case e.DataType.Date:case e.DataType.DateTime:case e.DataType.Time:return t.CellRendererType.DATETIME;case e.DataType.Bool:return t.CellRendererType.BOOL;default:return t.CellRendererType.STRING}}}const K=36;class q{constructor(i){if(this.cssPrefix="keg",this.pagination={page:1,pageSize:30,total:0},this.paginationOptions={maxButtonCount:10,useBootstrap:!1},this.defaultDataGridOptions={slot:null,dataTable:null,fixHeightOnFirstRender:!1,syncGridColumns:!0,useRowNumeration:!0,allowDragDrop:!1,aggregates:{settings:null,calculator:null},paging:{enabled:!0,pageSize:30,pageSizeItems:[20,30,50,100,200]},columnWidths:{autoResize:t.AutoResizeColumns.Always,stringColumns:{min:100,max:500,default:250},numberColumns:{min:60,default:120},boolColumns:{min:50,default:80},dateColumns:{min:80,default:200},otherColumns:{min:100,max:500,default:250},rowNumColumn:{min:40,default:60}},showPlusButton:!1,viewportRowsCount:null,showActiveRow:!0},this.rowsOnPagePromise=null,this.containerInitialHeight=0,this.firstRender=!0,this.prevRowTotals=null,this.landingIndex=-1,this.landingSlot=C("div").addClass(`${this.cssPrefix}-col-landing-slot`).addChildElement(C("div").toDOM()).toDOM(),this._activeRowIndex=-1,i&&i.paging&&(i.paging=e.utils.assign(this.defaultDataGridOptions.paging,i.paging)),this.options=this.mergeOptions(i),this.processColumnWidthsOptions(),!this.options.slot)throw Error('"slot" parameter is required to initialize EasyDataGrid');if(!this.options.dataTable)throw Error('"dataTable" parameter is required to initialize EasyDataGrid');this.dataTable=i.dataTable,this.eventEmitter=new e.EventEmitter(this),this.cellRendererStore=new W(i),this.columns=new B(this.dataTable.columns,this),this.setSlot(this.options.slot),this.init(this.options)}mergeOptions(t){const i=e.utils.assignDeep({},this.defaultDataGridOptions.columnWidths,t.columnWidths),o=e.utils.assignDeep({},this.defaultDataGridOptions.paging,t.paging),r=e.utils.assign({},this.defaultDataGridOptions,t);return r.columnWidths=i,r.paging=o,r}processColumnWidthsOptions(){const t=this.options.columnWidths;if(!t)return;e.utils.getStringDataTypes().forEach((e=>{t[e]=Object.assign(Object.assign({},t.stringColumns),t[e])})),e.utils.getNumericDataTypes().forEach((e=>{t[e]=Object.assign(Object.assign({},t.numberColumns),t[e])})),t[e.DataType.Bool]=Object.assign(Object.assign({},t.boolColumns),t[e.DataType.Bool]),e.utils.getDateDataTypes().forEach((e=>{t[e]=Object.assign(Object.assign({},t.dateColumns),t[e])}));const i=[...e.utils.getStringDataTypes(),...e.utils.getNumericDataTypes(),...e.utils.getDateDataTypes(),e.DataType.Bool];e.utils.getAllDataTypes().forEach((e=>{e in i||(t[e]=Object.assign(Object.assign({},t.otherColumns),t[e]))})),t[e.DataType.Unknown]=t.otherColumns}setSlot(t){if("string"==typeof t){if(t.length)if("#"===t[0])this.slot=document.getElementById(t.substring(1));else{if("."!==t[0])throw Error("Unrecognized slot parameter (Must be id, class or HTMLElement): "+t);{const e=document.getElementsByClassName(t.substring(1));e.length&&(this.slot=e[0])}}}else this.slot=t}init(i){i.onInit&&this.addEventListener("init",i.onInit),i.onRowClick&&this.addEventListener("rowClick",i.onRowClick),i.onRowDbClick&&this.addEventListener("rowDbClick",i.onRowDbClick),i.onPlusButtonClick&&this.addEventListener("plusButtonClick",i.onPlusButtonClick),i.onColumnChanged&&this.addEventListener("columnChanged",i.onColumnChanged),i.onColumnDeleted&&this.addEventListener("columnDeleted",i.onColumnDeleted),i.onColumnMoved&&this.addEventListener("columnMoved",i.onColumnMoved),i.onPageChanged&&this.addEventListener("pageChanged",i.onPageChanged),i.onActiveRowChanged&&this.addEventListener("activeRowChanged",i.onActiveRowChanged),this.addEventListener("pageChanged",(t=>this.activeRowIndex=-1)),e.utils.assignDeep(this.paginationOptions,i.pagination),this.pagination.pageSize=this.options.paging.pageSize||this.pagination.pageSize,this.options.allowDragDrop&&M.registerDropContainer({element:this.slot,scopes:["gridColumnMove"],onDragEnter:(t,e)=>{this.slot.classList.add(`${k}-drophover`),this.showLandingSlot(e.pageX,e.pageY)},onDragOver:(t,e)=>{this.showLandingSlot(e.pageX,e.pageY)},onDragLeave:(e,i)=>{i.dropEffect=t.DropEffect.Forbid,this.slot.classList.remove(`${k}-drophover`),this.hideLandingSlot()},onDrop:(t,e)=>{this.dataTable.columns.move(e.data.column,this.landingIndex),this.refresh(),this.fireEvent({type:"columnMoved",columnId:e.data.column.id,newIndex:this.landingIndex})}}),this.refresh(),this.fireEvent("init")}fireEvent(t){"string"==typeof t?this.eventEmitter.fire(t):this.eventEmitter.fire(t.type,t)}setData(t){this.dataTable=t,this.clear(),this.refresh()}getData(){return this.dataTable}getColumns(){return this.columns}destroy(){this.slot.innerHTML=""}refresh(){this.clearDOM(),this.render()}clearDOM(){this.slot.innerHTML=""}clear(){this.pagination.page=1,this.clearDOM()}render(){if(!this.hasData()&&!this.options.showPlusButton)return;this.containerInitialHeight=this.slot.clientHeight,this.rootDiv=document.createElement("div"),this.rootDiv.style.width="100%",this.rootDiv.classList.add(`${this.cssPrefix}-root`),this.columns.sync(this.dataTable.columns,this.options.useRowNumeration),this.renderHeader(),this.rootDiv.appendChild(this.headerDiv),this.renderBody(),this.rootDiv.appendChild(this.bodyDiv),this.renderFooter(),this.rootDiv.appendChild(this.footerDiv);let e=document.createElement("div");e.classList.add(`${this.cssPrefix}-container`),e.appendChild(this.rootDiv),this.slot.appendChild(e);const i=this.options.columnWidths.autoResize!==t.AutoResizeColumns.Never;this.rowsOnPagePromise?this.rowsOnPagePromise.then((()=>this.updateHeight())).then((()=>{this.firstRender=!1,this.rowsOnPagePromise=null})):setTimeout((()=>{this.updateHeight().then((()=>{this.firstRender=!1,i&&this.resizeColumns()}))}),100)}updateHeight(){return new Promise((t=>{if(this.options.viewportRowsCount){const e=this.bodyCellContainerDiv.firstElementChild;let i=(e?e.offsetHeight:K)*this.options.viewportRowsCount;return C(this.bodyViewportDiv).setStyle("height",`${i}px`),void setTimeout((()=>{const e=this.bodyViewportDiv.offsetHeight-this.bodyViewportDiv.clientHeight;i+=e,C(this.bodyViewportDiv).setStyle("height",`${i}px`),t()}),100)}this.containerInitialHeight,t()})).then((()=>{this.options.fixHeightOnFirstRender&&this.firstRender&&(this.slot.style.height=`${this.slot.offsetHeight}px`)}))}getContainerWidth(){return this.columns.getItems().filter((t=>t.isVisible)).map((t=>t.width)).reduce(((t,e)=>t+e))}renderHeader(){this.headerDiv=C("div").addClass(`${this.cssPrefix}-header`).toDOM(),this.headerViewportDiv=C("div",this.headerDiv).addClass(`${this.cssPrefix}-header-viewport`).toDOM(),this.headerCellContainerDiv=C("div",this.headerViewportDiv).addClass(`${this.cssPrefix}-header-cell-container`).toDOM(),this.headerRowDiv=C("div",this.headerCellContainerDiv).addClass(`${this.cssPrefix}-header-row`).toDOM(),this.columns.getItems().forEach(((t,e)=>{if(!t.isVisible)return;let i=this.renderColumnHeader(t,e);this.headerRowDiv.appendChild(i),t.isRowNum&&C(i).addChildElement(this.renderHeaderButtons())}));const t=this.getContainerWidth();C(this.headerCellContainerDiv).setStyle("width",`${t}px`)}hasData(){return this.dataTable.columns.count>0}renderColumnHeader(e,i){let o=C("div").addClass(`${this.cssPrefix}-header-cell`).data("col-idx",`${i}`).setStyle("width",`${e.width}px`);e.dataColumn&&o.data("col-id",`${e.dataColumn.id}`);let r=o.toDOM();return C("div",r).addClass(`${this.cssPrefix}-header-cell-resize`),e.isRowNum||C("div",r).addClass(`${this.cssPrefix}-header-cell-label`).text(e.label),e.description&&C("div",r).addClass("question-mark").title(e.description),this.options.allowDragDrop&&M.registerDraggableItem({element:r,scope:"gridColumnMove",data:{column:e},renderer:t=>{t.innerHTML="";const i=document.createElement("div");i.innerText=e.label,t.classList.add(`${this.cssPrefix}-sortable-helper`),t.appendChild(i)},onDragStart:e=>{e.dropEffect=t.DropEffect.Allow}}),r}renderBody(){this.bodyDiv=C("div").addClass(`${this.cssPrefix}-body`).toDOM(),this.bodyViewportDiv=C("div",this.bodyDiv).addClass(`${this.cssPrefix}-body-viewport`).attr("tabIndex","0").toDOM(),this.bodyCellContainerDiv=C("div",this.bodyViewportDiv).addClass(`${this.cssPrefix}-cell-container`).toDOM();const i=this.canShowAggregates();this.dataTable&&(this.showProgress(),this.rowsOnPagePromise=this.getRowsToRender().then((o=>{this.pagination.total=this.dataTable.getTotal(),this.hideProgress(),this.bodyCellContainerDiv.innerHTML="",this.prevRowTotals=null;let r=0;if(o.length){const t=i?this.options.aggregates.settings.getGroups():[];r=o.length<this.pagination.pageSize?o.length:this.pagination.pageSize,o.forEach(((e,o)=>{if(i&&this.updateTotalsState(t,e),o<r){const t=this.renderRow(e,o);this.bodyCellContainerDiv.appendChild(t)}}));const n=this.options.aggregates&&this.options.aggregates.showGrandTotalsOnEachPage;if(i&&(this.isLastPage()||n)){const i=new e.DataRow(this.dataTable.columns,new Array(this.dataTable.columns.count));this.updateTotalsState(t,i,!0)}}if(this.options.columnWidths.autoResize!==t.AutoResizeColumns.Never)this.resizeColumns();else{const t=this.getContainerWidth();C(this.bodyCellContainerDiv).setStyle("width",`${t}px`)}return r})).catch((t=>(console.error(t),0)))),this.bodyViewportDiv.addEventListener("scroll",(t=>{C(this.headerViewportDiv).setStyle("margin-left",`-${this.bodyViewportDiv.scrollLeft}px`)})),this.bodyViewportDiv.addEventListener("keydown",this.onViewportKeydown.bind(this))}isLastPage(){return this.dataTable.elasticChunks?this.dataTable.totalIsKnown()&&this.pagination.page*this.pagination.pageSize>=this.pagination.total:this.pagination.page*this.pagination.pageSize>=this.pagination.total}canShowAggregates(){if(!this.options||!this.options.aggregates||!this.options.aggregates.settings)return!1;const t=this.options.aggregates.settings;return(t.hasAggregates()||t.hasRecordCount())&&(t.hasGroups()||t.hasGrandTotals())}updateTotalsState(t,i,o=!1){const r=this.options.aggregates.settings;if(this.prevRowTotals&&r.hasGroups()){let o=-1;for(let e=1;e<=t.length;e++){const n=t[e-1];for(const t of n.columns)if(!r.compareValues(this.prevRowTotals.getValue(t),i.getValue(t))){o=e;break}if(-1!==o)break}if(-1!==o)for(let i=t.length;i>=o;i--){const t=new e.DataRow(this.dataTable.columns,this.prevRowTotals.toArray()),o=this.renderTotalsRow(i,t);this.bodyCellContainerDiv.appendChild(o)}}if(o&&r.hasGrandTotals()&&r.hasAggregates()){const t=this.renderTotalsRow(0,i);this.bodyCellContainerDiv.appendChild(t)}this.prevRowTotals=i}applyGroupColumnTemplate(t,e,i){let o=t.replace(/{{\s*GroupValue\s*}}/g,e?`${e}`:"-");return o=o.replace(/{{\s*GroupCount\s*}}/g,i?`${i}`:"-"),o}renderTotalsRow(t,e){const i=this.options.aggregates.settings,o=t>0?i.getGroups()[t-1]:{columns:[],aggregates:i.getAggregates()},r=C("div").addClass(`${this.cssPrefix}-row`).addClass(`${this.cssPrefix}-row-totals`).addClass(`${this.cssPrefix}-totals-lv${t}`).data("totals-level",`${t}`).attr("tabindex","-1").toDOM();this.columns.getItems().forEach(((t,i)=>{if(!t.isVisible)return;let n="";const s=t.isRowNum?-1:this.dataTable.columns.getIndex(t.dataColumn.id);!t.isRowNum&&t.dataColumn&&o.columns.indexOf(t.dataColumn.id)>=0&&(n=e.getValue(s)),s==this.dataTable.columns.count-1&&(n=".  .  .  .  .  ."),r.appendChild(this.renderCell(t,i,n,r))}));const n=this.options.aggregates.calculator.getAggrContainer(),s=i.getAggregates().map((t=>t.colId)),a=i.buildGroupKey(o,e);return n.getAggregateData(t,a).then((n=>{for(const t of s)e.setValue(t,n[t]);r.innerHTML="",this.columns.getItems().forEach(((a,l)=>{if(!a.isVisible)return;let d="";const c=a.isRowNum?-1:this.dataTable.columns.getIndex(a.dataColumn.id);if(!a.isRowNum){let h=!1;if(a.dataColumn){const i=o.columns.indexOf(a.dataColumn.id),r=s.indexOf(a.dataColumn.id);h=t>0?i==o.columns.length-1:0==c,(i>=0||r>=0)&&(d=e.getValue(c))}let u="";t>0&&(u=a.dataColumn.groupFooterColumnTemplate,!u&&i.hasRecordCount()&&h&&(u="{{GroupValue}} ({{GroupCount}})")),u&&(d=this.renderCell(a,l,d,r).firstChild.innerHTML,d=this.applyGroupColumnTemplate(u,d,n[i.COUNT_FIELD_NAME]))}const h=this.renderCell(a,l,d,r);r.appendChild(h)}))})).catch((t=>console.error(t))),r}onViewportKeydown(t){if(this.options.showActiveRow){const e=this.bodyCellContainerDiv.querySelectorAll(`.${this.cssPrefix}-row`).length;let i;switch(t.key){case"ArrowLeft":case"ArrowRight":break;case"ArrowUp":t.preventDefault(),i=this.activeRowIndex<0||this.activeRowIndex>=e?e-1:this.activeRowIndex-1,this.activeRowIndex=i>=0?i:0;break;case"ArrowDown":t.preventDefault(),i=this.activeRowIndex<0||this.activeRowIndex>=e?0:this.activeRowIndex+1,this.activeRowIndex=i<e?i:e-1}}}ensureRowVisibility(t){const e="number"==typeof t?this.getDataRow(t):t;if(e){let t=e.getBoundingClientRect();const i=this.bodyViewportDiv.getBoundingClientRect(),o=t.top-i.top,r=t.bottom-i.top,n=this.bodyViewportDiv.clientHeight,s=window.innerHeight||document.documentElement.clientHeight;if(o>0&&r<=n&&t.top>0&&t.bottom<s)return;o<0?this.bodyViewportDiv.scrollTop=this.bodyViewportDiv.scrollTop+o:r>n&&(this.bodyViewportDiv.scrollTop=this.bodyViewportDiv.scrollTop+r-n),t=e.getBoundingClientRect(),t.top<0?document.documentElement.scrollTop=document.documentElement.scrollTop+t.top:t.bottom>s&&(document.documentElement.scrollTop=document.documentElement.scrollTop+t.bottom-s)}}getRowsToRender(){return!1===this.options.paging.enabled?Promise.resolve(this.dataTable.getCachedRows()):this.dataTable.getRows({offset:(this.pagination.page-1)*this.pagination.pageSize,limit:this.pagination.pageSize+1}).catch((t=>(console.error(t),[])))}renderFooter(){this.footerDiv=C("div").addClass(`${this.cssPrefix}-footer`).toDOM(),this.rowsOnPagePromise&&this.rowsOnPagePromise.then((t=>{this.footerDiv.innerHTML="",this.footerPaginateDiv=this.renderPageNavigator(),this.footerDiv.appendChild(this.footerPaginateDiv);const e=this.renderPageInfoBlock(t);this.footerDiv.appendChild(e)}))}renderPageInfoBlock(t){const i=C("div").addClass(`${this.cssPrefix}-page-info`).toDOM();if(this.dataTable.getTotal()>0){const o=t?(this.pagination.page-1)*this.pagination.pageSize+1:0,r=t?o+t-1:0;let n=this.dataTable.getTotal().toString();this.dataTable.elasticChunks&&this.dataTable.getCachedCount()!==this.dataTable.getTotal()&&(n="?"),i.innerHTML=e.i18n.getText("GridPageInfo").replace("{FirstPageRecordNum}",`<span>${o.toString()}</span>`).replace("{LastPageRecordNum}",`<span>${r.toString()}</span>`).replace("{Total}",`<span>${n}</span>`)}return i}showProgress(){}hideProgress(){}getLocalIndexByGlobal(t){return this.pagination?t%this.pagination.pageSize:t}getGlobalIndexByLocal(t){return this.pagination?(this.pagination.page-1)*this.pagination.pageSize+t:t}renderRow(t,e){let i=this.getGlobalIndexByLocal(e),o=C("div").addClass(`${this.cssPrefix}-row`).addClass(`${this.cssPrefix}-row-${e%2==1?"odd":"even"}`).data("row-idx",`${i}`).attr("tabindex","-1").on("click",(i=>{this.activeRowIndex=e,this.fireEvent({type:"rowClick",row:t,rowIndex:e,sourceEvent:i})})).on("dblclick",(i=>{this.fireEvent({type:"rowDbClick",row:t,rowIndex:e,sourceEvent:i})}));0==e&&o.addClass(`${this.cssPrefix}-row-first`);let r=o.toDOM();return this.options.showActiveRow&&e==this.activeRowIndex&&o.addClass(`${this.cssPrefix}-row-active`),this.columns.getItems().forEach(((e,o)=>{if(!e.isVisible)return;const n=e.isRowNum?-1:this.dataTable.columns.getIndex(e.dataColumn.id);let s=e.isRowNum?i+1:t.getValue(n);r.appendChild(this.renderCell(e,o,s,r))})),r}renderCell(e,i,o,r){const n=C("div").addClass(`${this.cssPrefix}-cell`).data("col-idx",`${i}`).attr("tabindex","-1").setStyle("width",`${e.width}px`);e.align==t.GridColumnAlign.LEFT?n.addClass(`${this.cssPrefix}-cell-align-left`):e.align==t.GridColumnAlign.RIGHT?n.addClass(`${this.cssPrefix}-cell-align-right`):e.align==t.GridColumnAlign.CENTER&&n.addClass(`${this.cssPrefix}-cell-align-center`);const s=n.toDOM(),a=s.appendChild(C("div").addClass(`${this.cssPrefix}-cell-value`).toDOM()),l=this.getCellRenderer(e);return l&&l(o,e,a,r),s}getCellRenderer(e){let i;return i=e.isRowNum?this.cellRendererStore.getDefaultRendererByType(t.CellRendererType.NUMBER):this.cellRendererStore.getDefaultRenderer(e.type),this.options&&this.options.onGetCellRenderer&&(i=this.options.onGetCellRenderer(e,i)||i),i}setPage(t){this.pagination.page=t,this.fireEvent({type:"pageChanged",page:t}),this.refresh(),this.bodyViewportDiv.focus()}renderPageNavigator(){let t=document.createElement("div");t.className=`${this.cssPrefix}-pagination-wrapper`;const i=this.dataTable.getTotal();if(this.options.paging&&this.options.paging.enabled&&i>0){const i=this.paginationOptions.useBootstrap?"":`${this.cssPrefix}-`,o=t=>{const e=t.target;if(e.hasAttribute("data-page")){const t=parseInt(e.getAttribute("data-page"));this.setPage(t)}},r=(t,e,r,n,s)=>{const a=document.createElement("li");if(a.className=`${i}page-item`,!n){s&&(a.className+=" active");const r=document.createElement("a");return r.setAttribute("href","javascript:void(0)"),r.innerHTML=e||t.toString(),r.setAttribute("data-page",`${t}`),r.className=`${i}page-link`,r.addEventListener("click",o),a.appendChild(r),a}let l=document.createElement("span");if(l.setAttribute("aria-hidden","true"),l.className=`${i}page-link`,r)a.className+=" disabled";else{if(this.paginationOptions.useBootstrap)l=document.createElement("a"),l.setAttribute("href","javascript:void(0)"),l.setAttribute("data-page",`${t}`);else{let e=document.createElement("a");e.setAttribute("href","javascript:void(0)"),e.setAttribute("data-page",`${t}`),l=e}l.className=`${i}page-link`,l.addEventListener("click",o)}return l.innerHTML=e,a.appendChild(l),a};if(this.dataTable.elasticChunks){const e=this.pagination.page||1;let o=document.createElement("ul");o.className=`${i}pagination`;let n=r(e-1,"&laquo;",1==e,!0,!1);o.appendChild(n),n=r(e+1,"&raquo;",this.isLastPage(),!0,!1),o.appendChild(n),t.appendChild(o)}else if(this.pagination.total>this.pagination.pageSize){const e=this.pagination.page||1,o=Math.ceil(this.pagination.total/this.pagination.pageSize)||1,n=this.paginationOptions.maxButtonCount||10,s=e-1;let a=s-s%n+1,l=a+n-1;l>o&&(l=o);let d=document.createElement("ul");d.className=`${i}pagination`;let c=r(a-1,"&laquo;",1==a,!0,!1);d.appendChild(c);for(let t=a;t<=l;t++)c=r(t,t.toString(),!1,!1,t==e),d.appendChild(c);c=r(l+1,"&raquo;",l==o,!0,!1),d.appendChild(c),t.appendChild(d)}if(this.options.paging.allowPageSizeChange){const i=t=>{const e=parseInt(t.target.value);this.pagination.pageSize=e,this.pagination.page=1,this.refresh()},o=document.createElement("div");o.className=`${this.cssPrefix}-page-sizes`;const r=document.createElement("div");r.className=`kfrm-select ${this.cssPrefix}-page-sizes-select`,o.appendChild(r);const n=document.createElement("select"),s=this.options.paging.pageSizeItems||[],a=new Set(s);a.add(this.options.paging.pageSize||20),Array.from(a).forEach((t=>{const e=document.createElement("option");e.value=t.toString(),e.text=t.toString(),n.appendChild(e)})),n.value=(this.pagination.pageSize||20).toString(),r.appendChild(n),n.addEventListener("change",i);const l=document.createElement("div");l.className=`${this.cssPrefix}-page-sizes-label`,o.appendChild(l);const d=document.createElement("span");d.innerText=e.i18n.getText("GridItemsPerPage"),l.appendChild(d),t.appendChild(o)}}return t}addEventListener(t,e){return this.eventEmitter.subscribe(t,(t=>e(t.data)))}removeEventListener(t,e){this.eventEmitter.unsubscribe(t,e)}renderHeaderButtons(){return this.options.showPlusButton?C("div").addClass(`${this.cssPrefix}-header-btn-plus`).title(this.options.plusButtonTitle||"Add").addChild("a",(t=>t.attr("href","javascript:void(0)").on("click",(t=>{t.preventDefault(),this.fireEvent({type:"plusButtonClick",sourceEvent:t})})))).toDOM():C("span").addText("#").toDOM()}showLandingSlot(t,e){const i=this.headerRowDiv.querySelectorAll(`[class*=${this.cssPrefix}-table-col]`),o=[];for(let t=1;t<i.length;t++){const e=i[t];"none"!==e.style.display&&o.push(e)}if(0===o.length)return this.landingIndex=0,void this.headerRowDiv.appendChild(this.landingSlot);const r=p(this.landingSlot);if(t>=r.x&&t<=r.x+this.landingSlot.offsetWidth)return;let n=this.landingIndex;for(let e of o){const i=p(e),o=e.offsetWidth;t>i.x&&t<i.x+o&&(n=parseInt(e.getAttribute("data-col-idx"))-1)}n!=this.landingIndex&&(this.landingIndex=n,this.landingIndex<o.length?this.headerRowDiv.insertBefore(this.landingSlot,o[this.landingIndex]):this.headerRowDiv.appendChild(this.landingSlot))}hideLandingSlot(){this.landingIndex=-1,setTimeout((()=>{this.landingSlot.parentElement&&this.landingSlot.parentElement.removeChild(this.landingSlot)}),10)}get activeRowIndex(){return this._activeRowIndex}set activeRowIndex(t){if(t!==this._activeRowIndex){const e=this._activeRowIndex;this._activeRowIndex=t,this.updateActiveRow(),this.fireEvent({type:"activeRowChanged",oldValue:e,newValue:this.activeRowIndex,rowIndex:this.getGlobalIndexByLocal(this.activeRowIndex)})}}updateActiveRow(){if(this.options.showActiveRow){this.bodyCellContainerDiv.querySelectorAll(`[class*=${this.cssPrefix}-row-active]`).forEach((t=>{t.classList.remove(`${this.cssPrefix}-row-active`)}));const t=this.getActiveRow();t&&(t.classList.add(`${this.cssPrefix}-row-active`),this.ensureRowVisibility(this.activeRowIndex))}}getActiveRow(){return this.getDataRow(this.activeRowIndex)}getDataRow(t){const e=Array.from(this.bodyCellContainerDiv.querySelectorAll(`.${this.cssPrefix}-row:not(.${this.cssPrefix}-row-totals)`));return t>=0&&t<e.length?e[t]:null}focus(){this.bodyViewportDiv.focus()}resizeColumns(){if(this.options.columnWidths.autoResize===t.AutoResizeColumns.Never)return;const i=this.bodyCellContainerDiv.style.width;this.bodyCellContainerDiv.style.visibility="hidden",this.bodyCellContainerDiv.style.width="1px",this.headerRowDiv.style.width="1px";let o=0;const r=this.columns.getItems(),n=this.headerCellContainerDiv.querySelectorAll(`.${this.cssPrefix}-header-cell`);let s=0;for(let i=0;i<this.columns.count;i++){const a=r[i];if(!a.isVisible)continue;const l=this.options.columnWidths.autoResize!==t.AutoResizeColumns.Always&&a.dataColumn?a.dataColumn.calculatedWidth:0,d=this.bodyCellContainerDiv.querySelectorAll(`.${this.cssPrefix}-cell[data-col-idx="${i}"] > .${this.cssPrefix}-cell-value`);let c=0;if(l>0)o+=l,a.width=l,d.forEach((t=>{t.parentElement.style.width=`${l}px`})),n[s].style.width=`${l}px`;else if(0==d.length&&(n[s].style.width=null,n[s].style.whiteSpace="nowrap"),c=n[s].offsetWidth,d.length>0){d.forEach((t=>{t.parentElement.style.width=null;const e=t.parentElement.offsetWidth;e>c&&(c=e)})),c+=3;const t=a.isRowNum?this.options.columnWidths.rowNumColumn.max||500:this.options.columnWidths[a.dataColumn.type].max||2e3,i=a.isRowNum?this.options.columnWidths.rowNumColumn.min||0:this.options.columnWidths[a.dataColumn.type].min||20;c>t&&(c=t),c<i&&(c=i),e.utils.isNumericType(a.type)&&(c=Math.round(1.3*c)),o+=c,a.width=c,d.forEach((t=>{t.parentElement.style.width=`${c}px`})),n[s].style.width=`${c}px`,a.dataColumn&&(a.dataColumn.calculatedWidth=c)}else o+=c;s++}o>0?(this.bodyCellContainerDiv.style.width=`${o}px`,this.headerCellContainerDiv.style.width=`${o}px`):(this.bodyCellContainerDiv.style.width=i,this.headerCellContainerDiv.style.width=i),this.bodyCellContainerDiv.style.visibility=null,this.headerRowDiv.removeAttribute("style")}}class Q{get cssPrefix(){return"kdtp-cal"}constructor(t,e){this.slot=t,this.options=e||{},this.options.yearRange||(this.options.yearRange="c-10:c+10")}setDate(t){this.currentDate=new Date(t)}getDate(){return new Date(this.currentDate)}dateChanged(t){this.options.onDateChanged&&this.options.onDateChanged(this.currentDate,t)}}class J{get cssPrefix(){return"kdtp"}constructor(t){this.calendar=null,this.timePicker=null,this.options=t,this.render()}setDateTime(t){this.currentDateTime=new Date(t),this.calendar&&this.calendar.setDate(this.currentDateTime),this.timePicker&&this.timePicker.setTime(this.currentDateTime)}getDateTime(){return new Date(this.currentDateTime)}render(){this.options.showCalendar&&(this.calendar=this.createCalendar({yearRange:this.options.yearRange,showDateTimeInput:this.options.showDateTimeInput,timePickerIsUsed:this.options.showTimePicker,oneClickDateSelection:this.options.oneClickDateSelection,onDateChanged:(t,e)=>{this.currentDateTime=t,this.timePicker&&this.timePicker.setTime(this.currentDateTime),this.options.showTimePicker&&this.dateTimeChanged(),e&&this.apply(this.currentDateTime)}}),this.calendar&&this.calendar.render()),this.options.showTimePicker&&(this.timePicker=this.createTimePicker({onTimeChanged:t=>{this.currentDateTime.setHours(t.getHours()),this.currentDateTime.setMinutes(t.getMinutes()),this.calendar&&this.calendar.setDate(this.currentDateTime),this.dateTimeChanged()}}),this.timePicker&&this.timePicker.render()),this.setDateTime(new Date)}createCalendar(t){return null}createTimePicker(t){return null}show(t){this.options.beforeShow&&this.options.beforeShow();const e=p(t||document.body);this.slot.style.top=e.y+t.clientHeight+"px",this.slot.style.left=e.x+"px"}apply(t){this.options.onApply&&this.options.onApply(t),this.destroy()}cancel(){this.options.onCancel&&this.options.onCancel(),this.destroy()}destroy(){this.slot&&this.slot.parentElement&&this.slot.parentElement.removeChild(this.slot)}dateTimeChanged(){this.options.onDateTimeChanged&&this.options.onDateTimeChanged(this.currentDateTime)}}class $ extends Q{constructor(t,i){super(t,i),this.daysOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.calendarBody=null,this.isManualInputChanging=!1;for(let t=0;t<this.daysOfWeek.length;t++)this.daysOfWeek[t]=e.i18n.getShortWeekDayName(t+1);for(let t=0;t<this.months.length;t++)this.months[t]=e.i18n.getLongMonthName(t+1)}setDate(t){super.setDate(t),this.selectedMonth=this.currentDate.getMonth(),this.selectedYear=this.currentDate.getFullYear(),this.rerenderMonth()}render(){const t=C("div",this.slot).addClass(`${this.cssPrefix}-header`);this.options.showDateTimeInput?t.addChildElement(this.renderManualDateInput()):t.addChild("span",(t=>this.headerTextElem=t.toDOM())),C(this.slot).addChildElement(this.renderCalendarButtons()),this.calendarBody=C("div",this.slot).addClass(`${this.cssPrefix}-body`).toDOM()}getInputDateFormat(){const t=e.i18n.getLocaleSettings();return this.options.timePickerIsUsed?`${t.editDateFormat} ${t.editTimeFormat}`:t.editDateFormat}renderManualDateInput(){const t=this.getInputDateFormat(),i=C("input").attr("placeholder",t).addClass(`${this.cssPrefix}-header-input`);return i.mask(t.replace("yyyy","9999").replace("MM","99").replace("dd","99").replace("HH","99").replace("mm","99").replace("ss","99")).on("input",(o=>{i.removeClass("error");try{this.isManualInputChanging=!0;const i=e.utils.strToDateTime(this.manualInputElem.value,t);this.currentDate=i,this.jump(this.currentDate.getFullYear(),this.currentDate.getMonth()),this.dateChanged(!1)}catch(t){i.addClass("error")}finally{this.isManualInputChanging=!1}})).on("keydown",(t=>{13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.manualInputElem.className.indexOf("error")<0&&!this.isManualInputChanging&&this.dateChanged(!0))})).on("focus",(()=>{setTimeout((()=>{this.manualInputElem.selectionStart=0,this.manualInputElem.selectionEnd=0}),50)})),this.manualInputElem=i.toDOM(),this.manualInputElem}updateDisplayedDateValue(){if(this.manualInputElem){if(!this.isManualInputChanging){const t=this.getInputDateFormat();this.manualInputElem.value=e.i18n.dateTimeToStr(this.currentDate,t),this.manualInputElem.focus()}}else if(this.headerTextElem){const t=e.i18n.getCurrentLocale();this.headerTextElem.innerText=this.currentDate.toLocaleString("en"==t?void 0:t,{year:"numeric",month:"long",day:"numeric"})}}renderCalendarButtons(){return C("nav").addClass(`${this.cssPrefix}-nav`).addChild("div",(t=>t.addClass(`${this.cssPrefix}-nav-prev`).on("click",(()=>{this.prev()})).addChild("span",(t=>t.html("&lsaquo;"))))).addChild("div",(t=>t.addClass(`${this.cssPrefix}-nav-selectors`).addChild("div",(t=>t.addClass(`${this.cssPrefix}-nav-month`).addChild("select",(t=>{t.on("change",(()=>{this.jump(this.selectedYear,parseInt(this.selectMonthElem.value))}));for(let e=0;e<this.months.length;e++)t.addChild("option",(t=>t.attr("value",e.toString()).text(this.months[e])));this.selectMonthElem=t.toDOM()})))).addChild("div",(t=>t.addClass(`${this.cssPrefix}-nav-year`).addChild("select",(t=>this.selectYearElem=t.on("change",(()=>{this.jump(parseInt(this.selectYearElem.value),this.selectedMonth)})).toDOM())))))).addChild("div",(t=>t.addClass(`${this.cssPrefix}-nav-next`).on("click",(()=>{this.next()})).addChild("span",(t=>t.html("&rsaquo;"))))).toDOM()}prev(){this.selectedYear=0===this.selectedMonth?this.selectedYear-1:this.selectedYear,this.selectedMonth=0===this.selectedMonth?11:this.selectedMonth-1,this.rerenderMonth()}next(){this.selectedYear=11===this.selectedMonth?this.selectedYear+1:this.selectedYear,this.selectedMonth=(this.selectedMonth+1)%12,this.rerenderMonth()}rerenderSelectYear(){const t=/c-(\d*):c\+(\d*)/g.exec(this.options.yearRange);let e=0,i=1;null!==t&&(e=parseInt(t[1]),i=parseInt(t[2])),this.selectYearElem.innerHTML="";for(let t=0;t<=e+i;t++){let i=document.createElement("option"),o=this.selectedYear-e+t;i.value=o.toString(),i.innerText=o.toString(),this.selectYearElem.appendChild(i)}}jump(t,e){this.selectedYear=t,this.selectedMonth=e,this.rerenderMonth()}rerenderMonth(){this.updateDisplayedDateValue(),this.rerenderSelectYear();let t=new Date(this.selectedYear,this.selectedMonth).getDay(),e=new Date(this.selectedYear,this.selectedMonth+1,0).getDate();this.calendarBody.innerHTML="",this.selectYearElem.value=this.selectedYear.toString(),this.selectMonthElem.value=this.selectedMonth.toString(),this.daysOfWeek.forEach(((t,e)=>{C("div",this.calendarBody).addClass(`${this.cssPrefix}-weekday`).addClass(0==e||6==e?`${this.cssPrefix}-weekend`:"").text(t)}));for(let e=0;e<t;e++)C("div",this.calendarBody).addClass(`${this.cssPrefix}-day-empty`);const i=new Date;for(let o=1;o<=e;o++){const e=C("div",this.calendarBody).addClass(`${this.cssPrefix}-day`).attr("data-date",o.toString()).text(o.toString()).on("click",(t=>{this.currentDate.setFullYear(this.selectedYear),this.currentDate.setMonth(this.selectedMonth),this.currentDate.setDate(parseInt(t.target.getAttribute("data-date"))),this.dateChanged(this.options.oneClickDateSelection)}));o===i.getDate()&&this.selectedYear===i.getFullYear()&&this.selectedMonth===i.getMonth()&&e.addClass(`${this.cssPrefix}-day-current`),o===this.currentDate.getDate()&&this.selectedYear===this.currentDate.getFullYear()&&this.selectedMonth===this.currentDate.getMonth()&&e.addClass(`${this.cssPrefix}-day-selected`);const r=(t+o-1)%7;0!=r&&6!=r||e.addClass(`${this.cssPrefix}-weekend`),"function"==typeof this.options.onDrawDay&&this.options.onDrawDay.apply(e.toDOM(),[e.toDOM(),new Date(this.selectedYear,this.selectedMonth,o)])}const o=(t+e)%7,r=0==o?0:7-o;for(let t=0;t<r;t++)C("div",this.calendarBody).addClass(`${this.cssPrefix}-day-empty`)}dateChanged(t){super.dateChanged(t),this.rerenderMonth()}}class X{get cssPrefix(){return"kdtp-tp"}constructor(t,e){this.slot=t,this.options=e||{}}setTime(t){this.currentTime=new Date(t)}getTime(){return new Date(this.currentTime)}timeChanged(){this.options.onTimeChanged&&this.options.onTimeChanged(this.currentTime)}}class Z extends X{setTime(t){super.setTime(t),this.updateDisplayedTime(),this.hoursInput.valueAsNumber=t.getHours(),this.minutesInput.valueAsNumber=t.getMinutes()}render(){C("div",this.slot).addClass(`${this.cssPrefix}-time`).addChild("span",(t=>this.timeText=t.toDOM())).toDOM();const t=C("div",this.slot).addClass(`${this.cssPrefix}-sliders`);return t.addChild("div",(t=>t.addClass(`${this.cssPrefix}-time-row`).title("Hours").addChild("input",(t=>this.hoursInput=t.addClass(`${this.cssPrefix}-input-hours`).type("range").attr("min","0").attr("max","23").attr("step","1").on("input",(t=>{this.currentTime.setHours(this.hoursInput.valueAsNumber),this.updateDisplayedTime(),this.timeChanged()})).toDOM())))),t.addChild("div",(t=>t.addClass(`${this.cssPrefix}-time-row`).title("Minutes").addChild("input",(t=>this.minutesInput=t.addClass(`${this.cssPrefix}-input-minutes`).type("range").attr("min","0").attr("max","59").attr("step","1").on("input",(t=>{this.currentTime.setMinutes(this.minutesInput.valueAsNumber),this.updateDisplayedTime(),this.timeChanged()})).toDOM())))),this.slot}updateDisplayedTime(){const t=e.i18n.getCurrentLocale(),i=this.currentTime.toLocaleString("en"==t?void 0:t,{hour:"numeric",minute:"numeric"});this.timeText.innerText=i}}class tt extends J{render(){const t=C("div",document.body).addClass(`${this.cssPrefix}`).attr("tabIndex","0").setStyle("position","absolute").setStyle("top","-1000px").setStyle("left","-1000px").on("keydown",(t=>(27===t.keyCode?this.cancel():13===t.keyCode&&this.apply(this.getDateTime()),!1)));this.options.zIndex&&t.setStyle("z-index",`${this.options.zIndex}`),this.slot=t.toDOM(),super.render(),this.renderButtons(),this.globalMouseDownHandler=t=>{let e=window.event||t;return e.srcElement||e.target,!this.slot.contains(e.target)&&(document.removeEventListener("mousedown",this.globalMouseDownHandler,!0),this.cancel()),!0}}renderButtons(){const t=C("div",this.slot).addClass(`${this.cssPrefix}-buttons`).addChild("button",(t=>this.nowButton=t.addClass(`${this.cssPrefix}-button ${this.cssPrefix}-button-now`).text(e.i18n.getText("ButtonNow")).on("click",(()=>(this.setDateTime(new Date),this.dateTimeChanged(),!1))).toDOM()));!this.options.showTimePicker&&this.options.oneClickDateSelection||t.addChild("button",(t=>this.submitButton=t.addClass(`${this.cssPrefix}-button ${this.cssPrefix}-button-apply`).text(e.i18n.getText("ButtonApply")).on("click",(()=>(this.apply(this.getDateTime()),!1))).toDOM())),t.addChild("button",(t=>this.submitButton=t.addClass(`${this.cssPrefix}-button ${this.cssPrefix}-button-cancel`).text(e.i18n.getText("ButtonCancel")).on("click",(()=>(this.cancel(),!1))).toDOM()))}createCalendar(t){return this.calendarSlot=C("div",this.slot).addClass(`${this.cssPrefix}-cal`).toDOM(),new $(this.calendarSlot,t)}createTimePicker(t){return this.timePickerSlot=C("div",this.slot).addClass(`${this.cssPrefix}-tp`).toDOM(),new Z(this.timePickerSlot,t)}show(t){if(this.options.showDateTimeInput){this.options.beforeShow&&this.options.beforeShow();const e=p(t||document.body),i=p(t?t.parentElement||t:document.body);this.slot.style.top=i.y+"px",this.slot.style.left=e.x+"px"}else super.show(t),this.slot.focus();setTimeout((()=>{document.addEventListener("mousedown",this.globalMouseDownHandler,!0)}),1)}}var et;t.DialogFooterAlignment=void 0,(et=t.DialogFooterAlignment||(t.DialogFooterAlignment={}))[et.Left=1]="Left",et[et.Center=2]="Center",et[et.Right=3]="Right";const it="kdlg";class ot{openConfirm(t,e,i){const o={title:t,closable:!1,submitable:!0,cancelable:!0,body:`<div id="${it}-dialog-confirm">${e}</div>`};return i?(o.onSubmit=()=>{i(!0)},o.onCancel=()=>{i(!1)},void this.open(o)):new Promise((t=>{o.onSubmit=()=>{t(!0)},o.onCancel=()=>{t(!1)},this.open(o)}))}openPrompt(t,e,i,o){const r={title:t,submitable:!0,closable:!0,cancelable:!0,submitOnEnter:!0,body:`<div id="${it}-dialog-form" class="kfrm-form">\n            <div class="kfrm-fields label-above">\n                <label for="${it}-dialog-form-input" id="${it}-dialog-form-content">${e}</label>\n                <input type="text" name="${it}-dialog-form-input" id="${it}-dialog-form-input" />\n            </div>\n        </div>`,arrangeParents:!1,beforeOpen:()=>{const t=document.getElementById(`${it}-dialog-form-input`);i&&(t.value=i),t.focus()}},n=t=>{const e=document.getElementById(`${it}-dialog-form-input`),i=e.value;return i&&i.replace(/\s/g,"").length>0?(t(i),!0):(e.classList.add("eqjs-invalid"),!1)};return o?(r.onSubmit=()=>n(o),r.onCancel=()=>{o("")},void this.open(r)):new Promise((t=>{r.onSubmit=()=>n(t),r.onCancel=()=>{t("")},this.open(r)}))}open(t,e){const i=new rt(t,e),o=t.onDestroy;return t.onDestroy=t=>{this.untrack(t),o&&o(t)},i.open(),this.track(i),i}createSet(t){return new st(t,this)}untrack(t){const e=ot.openDialogs.indexOf(t);e>=0&&ot.openDialogs.splice(e,1)}track(t){ot.openDialogs.push(t)}openProgress(t){const e=new nt(t),i=t.onDestroy;return t.onDestroy=t=>{this.untrack(t),i&&i(t)},e.open(),this.track(e),e}getAllDialogs(){return Array.from(ot.openDialogs)}closeAllDialogs(){for(const t of Array.from(ot.openDialogs))t.close()}}ot.openDialogs=[];class rt{constructor(i,o){this.options=i,this.submitHandler=t=>!(this.options.onSubmit&&!1===this.options.onSubmit(this,t)||(this.destroy(),0)),this.cancelHandler=()=>{this.options.onCancel&&this.options.onCancel(this),this.destroy()},this.keydownHandler=t=>13!=t.keyCode||!this.isActiveDialog()||(t.preventDefault(),t.stopPropagation(),!this.submitHandler())||(window.removeEventListener("keydown",this.keydownHandler,!1),!1),this.dialogId=e.utils.generateId("dlg"),this.data=o,this.slot=C("div",document.body).attr("tab-index","-1").data("dialog-id",this.dialogId).addClass(`${it}-modal`,"is-active").focus().addChild("div",(t=>t.addClass("kdlg-modal-background"))).addChild("div",(r=>this.windowElement=r.addClass(`${it}-modal-window`).addChild("header",(t=>{this.headerElement=t.addClass(`${it}-header`).addChild("p",(t=>t.addClass(`${it}-header-title`).addText(i.title))).toDOM(),!1!==i.closable&&t.addChild("button",(t=>t.addClass(`${it}-modal-close`).on("click",(()=>{this.cancelHandler()})).focus()))})).addChild("div",(t=>{t.addClass(`${it}-alert-container`),this.alertElement=t.toDOM()})).addChild("section",(t=>{if(this.bodyElement=t.addClass(`${it}-body`).toDOM(),"string"==typeof i.body){const r=e.liquid.renderLiquidTemplate(i.body,o);t.addHtml(r)}else t.addChildElement(i.body)})).addChild("footer",(o=>{let r=null;r=i.footerAlignment&&i.footerAlignment==t.DialogFooterAlignment.Center?"align-center":"align-right",this.footerElement=o.addClass(`${it}-footer`).toDOM(),o.addClass(r),!1!==i.submitable&&(o.addChild("button",(t=>{t.id(this.dialogId+"-btn-submit").addClass("kfrm-button","is-info").addText(i.submitButtonText||e.i18n.getText("ButtonOK")),i.recaptchaSiteKey?(t.data("sitekey",i.recaptchaSiteKey),t.addClass("g-recaptcha"),t.on("click",(t=>{grecaptcha?grecaptcha.ready((()=>{grecaptcha.execute(i.recaptchaSiteKey,{action:"submit"}).then((t=>{this.submitHandler(t)}))})):this.submitHandler()}))):t.on("click",(t=>{this.submitHandler()})),t.focus()})),!1!==i.cancelable&&o.addChild("button",(t=>t.id(this.dialogId+"-btn-cancel").addClass("kfrm-button").addText(i.cancelButtonText||e.i18n.getText("ButtonCancel")).on("click",(t=>{this.cancelHandler()})))))})).toDOM())).toDOM()}getData(){return this.data}getRootElement(){return this.slot}getSubmitButtonElement(){return document.getElementById(this.dialogId+"-btn-submit")}getCancelButtonElement(){return document.getElementById(this.dialogId+"-btn-cancel")}open(){this.options.beforeOpen&&this.options.beforeOpen(this),C(this.slot).show(),this.options.arrangeParents&&this.arrangeParents(!0);const t=this.slot.querySelector(`.${it}-modal-window`);this.options.height&&(t.style.height="string"==typeof this.options.height?this.options.height:`${this.options.height}px`),this.options.width&&(t.style.width="string"==typeof this.options.width?this.options.width:`${this.options.width}px`),this.options.submitOnEnter&&window.addEventListener("keydown",this.keydownHandler,!1),this.slot.querySelectorAll("input").forEach((t=>t.addEventListener("input",(()=>{this.clearAlert(),this.options.onInput&&this.options.onInput(this)})))),this.options.onShow&&this.options.onShow(this)}submit(){this.submitHandler()}cancel(){this.cancelHandler()}close(){this.destroy()}disableButtons(){this.slot.querySelectorAll("button").forEach((t=>t.disabled=!0))}enableButtons(){this.slot.querySelectorAll("button").forEach((t=>t.disabled=!1))}showAlert(t,e,i){let o=C("div").addClass(`${it}-alert ${e||""}`).addChild("span",(t=>t.addClass(`${it}-alert-closebtn`).text("×").on("click",(t=>{const e=t.target.parentElement;e.parentElement.removeChild(e)})))).addText(t).toDOM();!0===i&&this.clearAlert(),this.alertElement.appendChild(o)}clearAlert(){this.alertElement.innerHTML=""}destroy(){document.querySelectorAll(`[data-dialog-id="${this.dialogId}"]`).length<=0||(this.options.arrangeParents&&this.arrangeParents(!1),document.body.removeChild(this.slot),this.options.submitOnEnter&&window.removeEventListener("keydown",this.keydownHandler,!1),this.options.onDestroy&&this.options.onDestroy(this))}isActiveDialog(){const t=document.documentElement.querySelectorAll(".kdlg-modal");return t[t.length-1]===this.slot}arrangeParents(t){const e=document.documentElement.querySelectorAll(".kdlg-modal-window");for(let i=0;i<e.length-1;i++)if(t){const t=0==i?20:40*i+20;C(e[i]).setStyle("margin-top",`${t}px`).setStyle("margin-left",`${t}px`)}else C(e[i]).removeStyle("margin-top").removeStyle("margin-left")}}class nt extends rt{constructor(t,e){let i,o;const r=C("div").addChild("div",(e=>i=e.text(t.content||"").toDOM())).addChild("div",(e=>{e.addClass(`${it}-progress-line`).addChild("div",(e=>{o=e.addClass("fill").toDOM(),t.determinated?e.setStyle("width","0%"):e.addClass("indeterminate")}))})).toDOM();super({title:t.title,body:r,beforeOpen:t.beforeOpen,onSubmit:t.onSubmit,width:t.width,height:t.height,submitable:!1,cancelable:!1,closable:!1,onDestroy:t.onDestroy},e),this.contentElement=i,this.progressElement=o}updateContent(t){this.contentElement.innerText=t}updateProgress(t){t=this.in01(t),this.progressElement.style.width=100*t+"%",1===t&&setTimeout((()=>{this.submit()}),500)}in01(t){return t>1?1:t<0?0:t}}class st{constructor(t,e){this.options=t,this.dialogService=e,this.currentDialog=null,this.currentIndex=0,this.options=t,this.dialogService=e}getCurrent(){return this.currentDialog}openNext(t){return this.open(this.currentIndex+1,t)}openPrev(t){return this.open(this.currentIndex-1,t)}open(t,e){if(t<0?this.currentIndex=0:t>=this.options.length?this.currentIndex=this.options.length-1:this.currentIndex=t,this.currentDialog)try{this.currentDialog.close()}catch(t){}const i=this.options[this.currentIndex];return this.currentDialog=this.dialogService.open(i,e),this.currentDialog}close(){this.currentDialog&&(this.currentDialog.close(),this.currentDialog=null)}}function at(){e.i18n.updateDefaultTexts({GridPageInfo:"{FirstPageRecordNum} - {LastPageRecordNum} of {Total} records",GridItemsPerPage:"items per page",ButtonOK:"OK",ButtonCancel:"Cancel",ButtonApply:"Apply",ButtonNow:"Now",LblTotal:"Total"})}var lt,dt;at(),t.PRE_SELECT=void 0,(dt=t.PRE_SELECT||(t.PRE_SELECT={}))[dt.THIS_WEEK=0]="THIS_WEEK",dt[dt.LAST_WEEK=1]="LAST_WEEK",dt[dt.THIS_MONTH=2]="THIS_MONTH",dt[dt.FIRST_MONTH=3]="FIRST_MONTH",dt[dt.LAST_MONTH=4]="LAST_MONTH",dt[dt.THIS_YEAR=5]="THIS_YEAR",dt[dt.QUARTER_1=6]="QUARTER_1",dt[dt.QUARTER_2=7]="QUARTER_2",dt[dt.QUARTER_3=8]="QUARTER_3",dt[dt.QUARTER_4=9]="QUARTER_4",t.JUMP_TO=void 0,(lt=t.JUMP_TO||(t.JUMP_TO={})).UNDEF="-1",lt.TODAY="1",lt.YESTERDAY="2",lt.TOMORROW="3",lt.WEEK_START="4",lt.WEEK_END="5",lt.MONTH_START="6",lt.MONTH_END="7",lt.YEAR_START="8",lt.YEAR_END="9";const ct=0;class ht extends rt{constructor(t){super({title:t.title||"Select a period",body:"",submitButtonText:t.submitButtonText||"OK",cancelButtonText:t.cancelButtonText||"Cancel",submitable:!0,closable:!0,cancelable:!0,beforeOpen:t=>{this.setupDialog()},onSubmit:e=>{"function"==typeof t.onSubmit&&t.onSubmit.apply(e,[this.result(this.from),this.result(this.to)])}}),this.yearRange=t.yearRange,this.weekStart=t.weekStart||ct,this.bodyElement.append(this.drawDialog()),this.calendar1.render(),this.calendar2.render(),this.from=this.alignDate(t.start?t.start:new Date),this.to=this.alignDate(t.finish&&this.alignDate(t.finish)>this.from?t.finish:new Date(this.from.getFullYear(),this.from.getMonth(),this.from.getDate()+1)),this.represent()}alignDate(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}drawDialog(){return C("div").addClass("tsp__container").addChild("div",(e=>{e.addClass("tsp__intervals").addChild("button",(e=>e.addClass("tsp__button").addText("This Week").on("click",(()=>{this.select(t.PRE_SELECT.THIS_WEEK)})))).addChild("button",(e=>e.addClass("tsp__button").addText("Last Week").on("click",(()=>{this.select(t.PRE_SELECT.LAST_WEEK)})))).addChild("button",(e=>e.addClass("tsp__button").addText("This Month").on("click",(()=>{this.select(t.PRE_SELECT.THIS_MONTH)})))).addChild("button",(e=>e.addClass("tsp__button").addText("First Month").on("click",(()=>{this.select(t.PRE_SELECT.FIRST_MONTH)})))).addChild("button",(e=>e.addClass("tsp__button").addText("Last Month").on("click",(()=>{this.select(t.PRE_SELECT.LAST_MONTH)})))).addChild("button",(e=>e.addClass("tsp__button").addText("This Year").on("click",(()=>{this.select(t.PRE_SELECT.THIS_YEAR)})))).addChild("button",(e=>e.addClass("tsp__button").addText("Quarter 1").on("click",(()=>{this.select(t.PRE_SELECT.QUARTER_1)})))).addChild("button",(e=>e.addClass("tsp__button").addText("Quarter 2").on("click",(()=>{this.select(t.PRE_SELECT.QUARTER_2)})))).addChild("button",(e=>e.addClass("tsp__button").addText("Quarter 3").on("click",(()=>{this.select(t.PRE_SELECT.QUARTER_3)})))).addChild("button",(e=>e.addClass("tsp__button").addText("Quarter 4").on("click",(()=>{this.select(t.PRE_SELECT.QUARTER_4)}))))})).addChild("div",(e=>{e.addClass("tsp__form").addChild("div",(e=>{e.addClass("tsp__date").addChild("div",(e=>{e.addClass("tsp__label").addChild("label",(t=>{t.addText("Start")})).addChild("select",(e=>{e.addOption({value:t.JUMP_TO.UNDEF,title:"Jump To"}).addOption({value:t.JUMP_TO.TODAY,title:"Today"}).addOption({value:t.JUMP_TO.YESTERDAY,title:"Yesterday"}).addOption({value:t.JUMP_TO.TOMORROW,title:"Tomorrow"}).addOption({value:t.JUMP_TO.WEEK_START,title:"Week Start"}).addOption({value:t.JUMP_TO.WEEK_END,title:"Week End"}).addOption({value:t.JUMP_TO.MONTH_START,title:"Month Start"}).addOption({value:t.JUMP_TO.MONTH_END,title:"Month End"}).addOption({value:t.JUMP_TO.YEAR_START,title:"Year Start"}).addOption({value:t.JUMP_TO.YEAR_END,title:"Year End"}),e.on("change",(t=>{this.jump(1,t.target.value,t.target)}))}))})).addChild("div",(t=>{t.addClass("tsp__calendar"),this.calendar1=new $(t.toDOM(),{yearRange:this.yearRange,showDateTimeInput:!0,onDateChanged:t=>{this.from=this.alignDate(t),this.calendar1.setDate(this.from),this.to<this.from&&(this.to=this.from),this.represent()},onDrawDay:(t,e)=>{this.alignDate(e)>=this.from&&this.alignDate(e)<=this.to?t.classList.add("day-in-range"):t.classList.remove("day-in-range")}})}))})).addChild("div",(e=>{e.addClass("tsp__date").addChild("div",(e=>{e.addClass("tsp__label").addChild("label",(t=>{t.addText("Finish")})).addChild("select",(e=>{e.addOption({value:t.JUMP_TO.UNDEF,title:"Jump To"}).addOption({value:t.JUMP_TO.TODAY,title:"Today"}).addOption({value:t.JUMP_TO.YESTERDAY,title:"Yesterday"}).addOption({value:t.JUMP_TO.TOMORROW,title:"Tomorrow"}).addOption({value:t.JUMP_TO.WEEK_START,title:"Week Start"}).addOption({value:t.JUMP_TO.WEEK_END,title:"Week End"}).addOption({value:t.JUMP_TO.MONTH_START,title:"Month Start"}).addOption({value:t.JUMP_TO.MONTH_END,title:"Month End"}).addOption({value:t.JUMP_TO.YEAR_START,title:"Year Start"}).addOption({value:t.JUMP_TO.YEAR_END,title:"Year End"}),e.on("change",(t=>{this.jump(2,t.target.value,t.target)}))}))})).addChild("div",(t=>{t.addClass("tsp__calendar"),this.calendar2=new $(t.toDOM(),{yearRange:this.yearRange,showDateTimeInput:!0,onDateChanged:t=>{this.alignDate(t)>=this.from?this.to=this.alignDate(t):this.calendar2.setDate(this.to),this.represent()},onDrawDay:(t,e)=>{this.alignDate(e)>=this.from&&this.alignDate(e)<=this.to?t.classList.add("day-in-range"):t.classList.remove("day-in-range")}})}))}))})).toDOM()}setupDialog(){}jump(e,i,o){let r,n=1===e?"from":"to";const s=new Date;switch(i){case t.JUMP_TO.TODAY:r=s;break;case t.JUMP_TO.YESTERDAY:r=new Date(s.getFullYear(),s.getMonth(),s.getDate()-1);break;case t.JUMP_TO.TOMORROW:r=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1);break;case t.JUMP_TO.WEEK_START:r=new Date(s.setDate(s.getDate()-s.getDay()+this.weekStart));break;case t.JUMP_TO.WEEK_END:r=new Date(s.setDate(s.getDate()-s.getDay()+6+this.weekStart));break;case t.JUMP_TO.MONTH_START:r=new Date(s.getFullYear(),s.getMonth(),1);break;case t.JUMP_TO.MONTH_END:r=new Date(s.getFullYear(),s.getMonth()+1,0);break;case t.JUMP_TO.YEAR_START:r=new Date(s.getFullYear(),0,1);break;case t.JUMP_TO.YEAR_END:r=new Date(s.getFullYear(),12,0)}r=this.alignDate(r),o.value=t.JUMP_TO.UNDEF,"from"===n?(this.from=r,this.to<this.from&&(this.to=this.from)):r>=this.from&&(this[n]=r),this.represent()}represent(){this.calendar1.setDate(this.from),this.calendar2.setDate(this.to)}select(e){switch(e){case t.PRE_SELECT.THIS_WEEK:{const t=new Date;this.from=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()),this.to=new Date(this.from.getFullYear(),this.from.getMonth(),this.from.getDate()+6);break}case t.PRE_SELECT.LAST_WEEK:{const t=new Date;this.from=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()-7),this.to=new Date(this.from.getFullYear(),this.from.getMonth(),this.from.getDate()+6);break}case t.PRE_SELECT.THIS_MONTH:{const t=new Date;this.from=new Date(t.getFullYear(),t.getMonth(),1),this.to=new Date(t.getFullYear(),t.getMonth()+1,0);break}case t.PRE_SELECT.FIRST_MONTH:{const t=new Date;this.from=new Date(t.getFullYear(),0,1),this.to=new Date(t.getFullYear(),1,0);break}case t.PRE_SELECT.LAST_MONTH:{const t=new Date;this.from=new Date(t.getFullYear(),t.getMonth()-1,1),this.to=new Date(t.getFullYear(),t.getMonth(),0);break}case t.PRE_SELECT.THIS_YEAR:{const t=new Date;this.from=new Date(t.getFullYear(),0,1),this.to=new Date(t.getFullYear(),12,0);break}case t.PRE_SELECT.QUARTER_1:{const t=new Date;this.from=new Date(t.getFullYear(),0,1),this.to=new Date(t.getFullYear(),3,0);break}case t.PRE_SELECT.QUARTER_2:{const t=new Date;this.from=new Date(t.getFullYear(),3,1),this.to=new Date(t.getFullYear(),6,0);break}case t.PRE_SELECT.QUARTER_3:{const t=new Date;this.from=new Date(t.getFullYear(),6,1),this.to=new Date(t.getFullYear(),9,0);break}case t.PRE_SELECT.QUARTER_4:{const t=new Date;this.from=new Date(t.getFullYear(),9,1),this.to=new Date(t.getFullYear(),12,0);break}}this.represent()}result(t){const i=this.alignDate(new Date),o={Today:this.alignDate(new Date),Yesterday:this.alignDate(new Date(i.getFullYear(),i.getMonth(),i.getDate()-1)),Tomorrow:this.alignDate(new Date(i.getFullYear(),i.getMonth(),i.getDate()+1)),FirstDayOfMonth:this.alignDate(new Date(i.getFullYear(),i.getMonth(),1)),LastDayOfMonth:this.alignDate(new Date(i.getFullYear(),i.getMonth()+1,0)),FirstDayOfWeek:this.alignDate(new Date(i.setDate(i.getDate()-i.getDay()+this.weekStart))),FirstDayOfYear:this.alignDate(new Date(i.getFullYear(),0,1)),FirstDayOfNextWeek:this.alignDate(new Date(i.setDate(i.getDate()-i.getDay()+this.weekStart+7))),FirstDayOfNextMonth:this.alignDate(new Date(i.getFullYear(),i.getMonth()+1,1)),FirstDayOfNextYear:this.alignDate(new Date(i.getFullYear()+1,0,1))};for(let e in o)if(console.log(o[e],t),o[e].getTime()===t.getTime())return`\${{${e}}}`;return e.i18n.dateTimeToStr(t,e.i18n.getLocaleSettings().editDateFormat)}}const ut=t=>new ht(t).open(),pt=new ot;t.Calendar=Q,t.DFMT_REGEX=_,t.DateTimePicker=J,t.DefaultCalendar=$,t.DefaultDateTimePicker=tt,t.DefaultDialog=rt,t.DefaultDialogService=ot,t.DefaultDialogSet=st,t.DefaultProgressDialog=nt,t.DefaultTimePicker=Z,t.DomElementBuilder=w,t.DomInputElementBuilder=D,t.DomSelectElementBuilder=T,t.DomTextAreaElementBuilder=v,t.DragManager=R,t.EasyGrid=q,t.EqDragEvent=S,t.GridCellRendererStore=W,t.GridColumn=F,t.GridColumnList=B,t.TimePicker=X,t.TimeSpanPicker=ht,t.addCssClass=r,t.addElement=o,t.createBrowserEvent=d,t.dialogs=pt,t.domel=C,t.eqCssMobile=y,t.eqCssPrefix=k,t.eqDragManager=M,t.getDocSize=h,t.getElementAbsolutePos=p,t.getScrollPos=u,t.getViewportSize=c,t.getWinSize=g,t.hideElement=n,t.isVisible=l,t.mask=x,t.showElement=s,t.showTimeSpanPicker=ut,t.slideDown=f,t.slideUp=b,t.toggleVisibility=a,t.wrapInner=i}(e,n())}(0,o.exports);var s=o.exports,a={exports:{}};!function(t,e){
/*!
  	 * EasyData.JS CRUD v1.4.20
  	 * Copyright 2024 Korzh.com
  	 * Licensed under MIT
  	 */
!function(t,e,i){class o{constructor(t,e,i,o=!1){this.loader=t,this.sourceTable=e,this.sourceId=i,this.isLookup=o,this.filterValue="",this.justServerSide=!1}getValue(){return this.filterValue}apply(t){return this.filterValue=t,this.filterValue?this.applyCore():this.clear()}clear(){return this.filterValue="",Promise.resolve(this.sourceTable)}applyCore(){if(this.sourceTable.getTotal()!=this.sourceTable.getCachedCount()||this.justServerSide){const t=[{class:"__substring",value:this.filterValue}];return this.loader.loadChunk({offset:0,limit:this.sourceTable.chunkSize,needTotal:!0,filters:t,sourceId:this.sourceId,lookup:this.isLookup}).then((i=>{const o=new e.EasyDataTable({chunkSize:this.sourceTable.chunkSize,loader:{loadChunk:e=>this.loader.loadChunk(Object.assign(Object.assign({},e),{filters:t,sourceId:this.sourceId,lookup:this.isLookup}))}});for(const t of this.sourceTable.columns.getItems())o.columns.add(t);o.setTotal(i.total);for(const t of i.table.getCachedRows())o.addRow(t);return o}))}return this.applyInMemoryFilter()}applyInMemoryFilter(){return new Promise(((t,i)=>{const o=new e.EasyDataTable({chunkSize:this.sourceTable.chunkSize,inMemory:!0});for(const t of this.sourceTable.columns.getItems())o.columns.add(t);const r=this.filterValue.split("||").map((t=>t.trim().toLowerCase())),n=this.sourceTable.columns.getItems().filter((t=>e.utils.isNumericType(t.type)||e.utils.getStringDataTypes().indexOf(t.type)>=0)),s=t=>{for(const e of n){const i=t.getValue(e.id);if(i){const t=i.toString().toLowerCase();for(const e of r)if(t.indexOf(e)>=0)return!0}}return!1};for(const t of this.sourceTable.getCachedRows())s(t)&&o.addRow(t);o.setTotal(o.getCachedCount()),t(o)}))}}const r="yyyy-MM-dd",n="HH:mm",s=t=>t==e.DataType.Date?r:t==e.DataType.Time?n:`${r}T${n}`,a=t=>{const i=e.i18n.getLocaleSettings();return t==e.DataType.Date?i.editDateFormat:t==e.DataType.Time?i.editTimeFormat:`${i.editDateFormat} ${i.editTimeFormat}`},l=t=>{const e=window.history.state;history.pushState(e,document.title,t),window.dispatchEvent(new Event("ed_set_location"))};class d{}class c extends d{constructor(){super(),this.name="DateTime"}validate(t,i){if(!e.utils.IsDefinedAndNotNull(i)||""==i)return{successed:!0};if(e.utils.getDateDataTypes().indexOf(t.dataType)>=0)try{const o=a(t.dataType);e.utils.strToDateTime(i,o)}catch(t){return{successed:!1,messages:[e.i18n.getText("DateTimeError")]}}return{successed:!0}}}class h{constructor(t){this.context=t,this.validators=[new c]}getHtml(){return this.html}setHtmlInt(t){this.html=t,this.errorsDiv=this.html.querySelector(".errors-block")}validate(){this.clearErrors();const t=Array.from(this.html.querySelectorAll("input, select"));let e=!0;for(const o of t){const t=this.context.getMetaData().getAttributeById(o.name);if("checkbox"===o.type)continue;const r=this.validateValue(t,o.value);if(!r.successed){e&&i.domel(this.errorsDiv).addChild("ul"),e=!1;for(const e of r.messages)this.errorsDiv.firstElementChild.innerHTML+=`<li>${t.caption}: ${e}</li>`}this.markInputValid(o,r.successed)}return e}getData(){return new Promise(((t,e)=>{const i=[],o=Array.from(this.html.querySelectorAll("input, select, textarea"));let r={};for(const t of o){const e=t.name.substring(t.name.lastIndexOf(".")+1),o=this.context.getMetaData().getAttributeById(t.name);"checkbox"===t.type?r[e]=t.checked:"file"===t.type?i.push(this.fileToBase64(t.files[0]).then((t=>r[e]=t))):r[e]=this.mapValue(o.dataType,t.value)}Promise.all(i).then((()=>t(r))).catch((t=>e(t)))}))}fileToBase64(t){return new Promise(((e,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=()=>{const t=o.result.toString();e(t.substring(t.indexOf(",")+1))},o.onerror=t=>i(t)}))}useValidator(...t){this.useValidators(t)}useValidators(t){this.validators=this.validators.concat(t)}mapValue(t,i){if(e.utils.getDateDataTypes().indexOf(t)>=0){if(t!==e.DataType.Time&&i&&i.length){const o=a(t),r=s(t),n=e.utils.strToDateTime(i,o);return e.i18n.dateTimeToStr(n,r)}return i&&i.length?i:null}return e.utils.isIntType(t)?parseInt(i):e.utils.isNumericType(t)?parseFloat(i):i}clearErrors(){this.errorsDiv.innerHTML="",this.html.querySelectorAll("input, select").forEach((t=>{t.classList.remove("is-valid"),t.classList.remove("is-invalid")}))}markInputValid(t,e){t.classList.add(e?"is-valid":"is-invalid")}validateValue(t,e){const i={successed:!0,messages:[]};for(const o of this.validators){const r=o.validate(t,e);r.successed||(i.successed=!1,i.messages=i.messages.concat(r.messages))}return i}}class u{constructor(t,o,r,n){this.slot=t,this.grid=o,this.filter=r,this.options={focus:!1,instantMode:!1,instantTimeout:1e3},this.options=e.utils.assignDeep(this.options,n||{});const s=this.grid.cellRendererStore.getDefaultRendererByType(i.CellRendererType.STRING);this.grid.cellRendererStore.setDefaultRenderer(i.CellRendererType.STRING,((t,e,i,o)=>this.highlightCellRenderer(s,t,e,i,o)));const a=this.grid.cellRendererStore.getDefaultRendererByType(i.CellRendererType.NUMBER);this.grid.cellRendererStore.setDefaultRenderer(i.CellRendererType.NUMBER,((t,e,i,o)=>this.highlightCellRenderer(a,t,e,i,o))),this.render()}render(){const t=i.browserUtils.IsIE()?"kfrm-fields-ie is-horizontal":"kfrm-fields is-horizontal",o=i.browserUtils.IsIE()||i.browserUtils.IsEdge();i.domel(this.slot).addClass(t).addChild("div",(t=>{t.addClass("control").addChild("input",(t=>{this.filterInput=t.toDOM(),t.attr("placeholder",e.i18n.getText("SearchInputPlaceholder")).type("text"),t.on("keydown",this.inputKeydownHandler.bind(this)),this.options.instantMode&&t.on("keyup",this.inputKeyupHandler.bind(this))})),o||t.addClass("has-icons-right").addChild("span",(t=>{t.addClass("icon").addClass("is-right").addClass("is-clickable").html("&#x1F5D9;").on("click",this.clearButtonClickHander.bind(this))}))})),this.options.instantMode||i.domel(this.slot).addChild("button",(t=>t.addClass("kfrm-button").addText(e.i18n.getText("SearchBtn")).on("click",this.searchButtonClickHandler.bind(this)))),this.options.focus&&this.filterInput.focus()}inputKeydownHandler(t){13==t.keyCode&&this.applyFilter(!0)}inputKeyupHandler(){this.applyFilterTimeout&&clearTimeout(this.applyFilterTimeout),this.applyFilterTimeout=setTimeout((()=>{this.applyFilter(!0)}),this.options.instantTimeout)}clearButtonClickHander(){this.filterInput.value="",this.filterInput.focus(),this.applyFilter(!0)}searchButtonClickHandler(){this.applyFilter(!0)}applyFilter(t){this.applyFilterTimeout&&clearTimeout(this.applyFilterTimeout);const e=this.filter.getValue();return!(t&&e==this.filterInput.value||(this.filter.apply(this.filterInput.value).then((t=>{this.grid.setData(t)})),0))}highlightCellRenderer(t,o,r,n,s){if((e.utils.isNumericType(r.type)||e.utils.getStringDataTypes().indexOf(r.type)>=0)&&o){o=r.dataColumn&&r.dataColumn.displayFormat&&i.DFMT_REGEX.test(r.dataColumn.displayFormat)?r.dataColumn.displayFormat.replace(i.DFMT_REGEX,((t,i)=>e.i18n.numberToStr(o,i))):o.toLocaleString();const t=this.highlightText(o.toString());if(t instanceof HTMLElement)return n.title=o,void n.appendChild(t)}t(o,r,n,s)}highlightText(t){const e=t.toLowerCase(),i=this.filter.getValue().toString();if(i&&i.length>0&&t&&t.length>0){const o=[],r=i.split("||").map((t=>t.trim().toLowerCase()));for(let i=0;i<r.length;i++){let n=0;const s=r[i];if(s.length){if(s===e){const e=document.createElement("span");return e.style.backgroundColor="yellow",e.innerText=t,e}for(;n<t.length-1;){const t=e.indexOf(s,n);t>=0?(o.push({index:t,length:r[i].length}),n=t+s.length):n++}}}if(o.length>0){o.sort(((t,e)=>t.index>e.index?1:t.index==e.index2?0:-1));for(let t=0;t<o.length-1;){const e=o[t+1].index-(o[t].index+o[t].length);if(e<0){const i=o[t+1].length+e;i>0&&(o[t].length+=i),o.splice(t+1,1)}else t++}const e=document.createElement("div");for(let i=0;i<o.length;i++){if(0===i){const r=document.createTextNode(t.substring(0,o[i].index));e.appendChild(r)}const r=document.createElement("span");r.style.backgroundColor="yellow",r.innerText=t.substring(o[i].index,o[i].index+o[i].length),e.appendChild(r);const n=i<o.length-1?document.createTextNode(t.substring(o[i].index+o[i].length,o[i+1].index)):document.createTextNode(t.substring(o[i].index+o[i].length));e.appendChild(n)}return e}}return t}}const p=i.browserUtils.IsIE();class m{constructor(t,e){this.context=t,this.params=e,this.params=e||{},this.reset()}reset(){this.form=new h(this.context)}setupLookupField(t,o,r,n){const s=this.context.getMetaData().getRootEntity().subEntities.filter((t=>t.id==o.lookupEntity))[0],a=this.context.getMetaData().getAttributeById(o.dataAttr);if(!a)return;r=r||!a.isEditable,n=this.params.values?this.params.values.getValue(a.id):void 0;const l=p?"kfrm-fields-ie is-horizontal":"kfrm-fields is-horizontal";let d;i.domel(t).addChild("div",(t=>{t.addClass(l).addChild("input",(t=>{d=t.toDOM(),t.attr("readonly",""),t.name(a.id),t.type(this.resolveInputType(a.dataType)),t.value(e.utils.IsDefinedAndNotNull(n)?n.toString():"")})),r||t.addChild("button",(t=>t.addClass("kfrm-button").attr("title",e.i18n.getText("NavigationBtnTitle")).addText("...").on("click",(r=>{const n=new e.EasyDataTable({loader:{loadChunk:t=>this.context.getDataLoader().loadChunk(Object.assign(Object.assign({},t),{id:s.id}))}});this.context.getDataLoader().loadChunk({offset:0,limit:1e3,needTotal:!0,sourceId:s.id}).then((r=>{for(const t of r.table.columns.getItems()){const e=s.attributes.filter((e=>e.id==t.id&&(e.isPrimaryKey||e.showInLookup)));e.length&&n.columns.add(t)}n.setTotal(r.total);for(const t of r.table.getCachedRows())n.addRow(t);const a=new i.DefaultDialogService;let l,c=null,h=null;const p=i.domel("div").addClass("kfrm-form").addChild("div",(t=>t.addClass("kfrm-field").addChild("label",(t=>t.addText(e.i18n.getText("LookupSelectedItem")).toDOM())).addChild("div",(t=>h=t.addText("None").toDOM())))).addChild("div",(t=>l=t.toDOM())).addChild("div",(t=>t.addClass("kfrm-control").addChild("div",(t=>c=t.toDOM())))).toDOM();let m=d.value;const g=(t,i)=>t instanceof e.DataRow?t.getValue(i):t[i.substring(i.lastIndexOf(".")+1)],f=t=>{h.innerHTML=n.columns.getItems().map((e=>`<b>${e.label}:</b> ${g(t,e.id)}`)).join(", ")};if(m){const t=s.getFirstPrimaryAttr(),e=t.id.substring(t.id.lastIndexOf(".")+1);this.context.fetchRecord({[e]:m},s.id).then((t=>{t.entity&&f(t.entity)})).catch((t=>{console.error(t)}))}const b=new i.EasyGrid({slot:c,dataTable:n,fixHeightOnFirstRender:!0,paging:{pageSize:10},onActiveRowChanged:t=>{b.getData().getRow(t.rowIndex).then((t=>{m=t.getValue(o.lookupDataAttr),f(t)}))}});a.open({title:e.i18n.getText("LookupDlgCaption").replace("{entity}",s.caption),body:p,arrangeParents:!0,beforeOpen:()=>{const t=this.context.createFilter(s.id,b.getData(),!0);new u(l,b,t,{instantMode:!0,focus:!0})},onSubmit:()=>(d.value=m,!0),onDestroy:()=>{b.destroy(),t.toDOM().focus()}})}))}))))}))}setupDateTimeField(t,o,r,n,s){const l=p?"kfrm-fields-ie is-horizontal":"kfrm-fields is-horizontal",d=a(o.dataType);let c;const h=d.replace("yyyy","9999").replace("MM","99").replace("dd","99").replace("HH","99").replace("mm","99").replace("ss","99");i.domel(t).addChild("div",(t=>{t.addClass(l).addChild("input",(t=>{c=t.toDOM(),t.name(o.id),t.type(s?"hidden":this.resolveInputType(o.dataType)),n?t.attr("readonly",""):(t.mask(h),t.on("keypress",(t=>this.applySumbit(t))).on("input",(i=>{t.removeClass("is-invalid");try{e.utils.strToDateTime(c.value,d)}catch(e){t.addClass("is-invalid")}})).on("blur",(t=>{c.value===h.replace(/[9]/g,"_")&&(c.value="")}))),t.value(e.utils.IsDefinedAndNotNull(r)?e.i18n.dateTimeToStr(r,d):"")})),n||t.addChild("button",(t=>t.addClass("kfrm-button").attr("title",e.i18n.getText(o.dataType!==e.DataType.Time?"CalendarBtnTitle":"TimerBtnTitle")).addChild("i",(t=>t.addClass(o.dataType!==e.DataType.Time?"ed-calendar-icon":"ed-timer-icon"))).on("click",(t=>{let r;try{r=c.value.length?o.dataType!==e.DataType.Time?e.utils.strToDateTime(c.value,d):e.utils.strToTime(c.value):new Date((new Date).setSeconds(0))}catch(t){r=new Date((new Date).setSeconds(0))}const n={zIndex:9999999999,showCalendar:o.dataType!==e.DataType.Time,showTimePicker:o.dataType!==e.DataType.Date,onApply:t=>{t.setSeconds(0),t.setMilliseconds(0),c.value=e.i18n.dateTimeToStr(t,d)}},s=new i.DefaultDateTimePicker(n);s.setDateTime(r),s.show(t.target)})).toDOM()))}))}setupListField(t,e,o,r,n){i.domel(t).addChild("div",(t=>t.addClass("kfrm-select full-width").addChild("select",(t=>{if(n&&t.attr("readonly",""),t.attr("name",e.id),t.on("keypress",(t=>this.applySumbit(t))),r)for(let e=0;e<r.length;e++){const i=r[e];t.addOption({value:i.id,title:i.text,selected:0===e})}t.value(o)}))))}setupFileField(t,e,o,r){i.domel(t).addChild("input",(t=>{o&&t.attr("readonly",""),t.name(e.id).type(this.resolveInputType(e.dataType)),t.attr("accept",r)}))}setupTextField(t,o,r,n,s){i.domel(t).addChild("input",(t=>{n&&t.attr("readonly",""),t.type(s?"hidden":this.resolveInputType(o.dataType)),t.name(o.id).type(this.resolveInputType(o.dataType)),o.dataType==e.DataType.Bool?r&&t.attr("checked",""):t.on("keypress",(t=>this.applySumbit(t))).value(e.utils.IsDefinedAndNotNull(r)?r.toString():"")}))}setupTextArea(t,o,r,n){i.domel(t).addChild("textarea",(t=>{n&&t.attr("readonly",""),t.attr("name",o.id),t.setStyle("height","120px"),t.value(e.utils.IsDefinedAndNotNull(r)?r.toString():"")}))}addFormField(t,o){const r=this.params.values&&o.kind!==e.EntityAttrKind.Lookup?this.params.values.getValue(o.id):this.params.isEditForm?void 0:o.defaultValue,n=this.resolveEditor(o),s=this.params.isEditForm&&(o.isPrimaryKey||!o.isEditable),a=!o.isNullable;p&&(t=i.domel("div",t).addClass("kfrm-field-ie").toDOM()),i.domel(t).addChild("label",(t=>{t.attr("for",o.id),t.addHtml(`${o.caption} ${a?'<sup style="color: red">*</sup>':""}: `),o.description&&t.addChild("div",(t=>t.attr("title",o.description).addClass("question-mark").setStyle("vertical-align","middle").setStyle("display","inline-block")))}));const l=o.isPrimaryKey;if(o.kind!==e.EntityAttrKind.Lookup)switch(n.tag){case e.EditorTag.DateTime:this.setupDateTimeField(t,o,r,s,l);break;case e.EditorTag.List:this.setupListField(t,o,r,n.values,s);break;case e.EditorTag.File:this.setupFileField(t,o,s,n.accept);break;case e.EditorTag.Edit:default:n.multiline?this.setupTextArea(t,o,r,s):this.setupTextField(t,o,r,s,l)}else this.setupLookupField(t,o,s,r)}resolveInputType(t){return t===e.DataType.Bool?"checkbox":t===e.DataType.Blob?"file":"text"}resolveEditor(t){let i=t.defaultEditor||new e.ValueEditor;return i.tag==e.EditorTag.Unknown&&(e.utils.getDateDataTypes().indexOf(t.dataType)>=0?i.tag=e.EditorTag.DateTime:i.tag=e.EditorTag.Edit),i}applySumbit(t){return 13===t.keyCode&&(this.sumbitCallback&&this.sumbitCallback(),!1)}onSubmit(t){return this.sumbitCallback=t,this}build(){let t;const e=i.domel("div").addClass("kfrm-form").addChild("div",(t=>t.addClass("errors-block").toDOM())).addChild("div",(e=>{e.addClass(p?"kfrm-fields-ie col-ie-1-4 label-align-right":"kfrm-fields col-a-1 label-align-right"),t=e})).toDOM();this.form.setHtmlInt(e);for(const e of this.context.getActiveEntity().attributes)(this.params.isEditForm||e.showOnCreate)&&(e.isPrimaryKey||!this.params.isEditForm||e.showOnEdit)&&this.addFormField(t.toDOM(),e);return this.form}}class g{constructor(t){this.slot=t,this.hide(),this.slot.classList.add("ed-progress-bar")}show(){this.slot.style.removeProperty("display")}hide(){this.slot.style.display="none"}}class f{constructor(t){this.context=t}loadChunk(t){const i=this.context.resolveEndpoint("FetchDataset",{sourceId:t.sourceId||this.context.getActiveEntity().id});return delete t.sourceId,this.context.startProcess(),this.context.getHttpClient().post(i,t).then((i=>{const o=new e.EasyDataTable({chunkSize:1e3}),r=i.resultSet;for(const t of r.cols)o.columns.add(t);for(const t of r.rows)o.addRow(t);let n=0;return i.meta&&i.meta.totalRecords&&(n=i.meta.totalRecords),{table:o,total:n,hasNext:!t.needTotal||t.offset+t.limit<n}})).finally((()=>{this.context.endProcess()}))}}class b{constructor(t){this.endpoints=new Map,this.endpointVarsRegex=/\{.*?\}/g,this.options=t||{},this.http=new e.HttpClient,this.model=new e.MetaData,this.model.id=t.metaDataId||"__default",this.dataLoader=new f(this);const i=Object.assign({loader:this.dataLoader},t.dataTable);this.data=new e.EasyDataTable(i),this.setDefaultEndpoints(this.options.endpoint||"/api/easydata")}getActiveEntity(){return this.activeEntity}setActiveSource(t){this.activeEntity=this.model.getRootEntity().subEntities.filter((e=>e.id==t))[0]}getMetaData(){return this.model}getData(){return this.data}getDataLoader(){return this.dataLoader}createFilter(t,e,i){return new o(this.dataLoader,e||this.getData(),t||this.activeEntity.id,i)}loadMetaData(){const t=this.resolveEndpoint("GetMetaData");return this.startProcess(),this.http.get(t).then((t=>(t.model&&this.model.loadFromData(t.model),this.model))).catch((t=>(console.error(`Error: ${t.message}. Source: ${t.sourceError}`),null))).finally((()=>{this.endProcess()}))}getHttpClient(){return this.http}fetchDataset(){return this.data.clear(),this.dataLoader.loadChunk({offset:0,limit:this.data.chunkSize,needTotal:!0}).then((t=>{for(const e of t.table.columns.getItems())this.data.columns.add(e);this.data.setTotal(t.total);for(const e of t.table.getCachedRows())this.data.addRow(e);return this.data}))}fetchRecord(t,e){const i=this.resolveEndpoint("FetchRecord",{sourceId:e||this.activeEntity.id});return this.startProcess(),this.http.get(i,{queryParams:t}).finally((()=>this.endProcess()))}createRecord(t,e){const i=this.resolveEndpoint("CreateRecord",{sourceId:e||this.activeEntity.id});return this.startProcess(),this.http.post(i,t,{dataType:"json"}).finally((()=>this.endProcess()))}updateRecord(t,e){const i=this.resolveEndpoint("UpdateRecord",{sourceId:e||this.activeEntity.id});return this.startProcess(),this.http.post(i,t,{dataType:"json"}).finally((()=>this.endProcess()))}deleteRecord(t,e){const i=this.resolveEndpoint("DeleteRecord",{sourceId:e||this.activeEntity.id});return this.startProcess(),this.http.post(i,t,{dataType:"json"}).finally((()=>this.endProcess()))}setEndpoint(t,e){this.endpoints.set(t,e)}setEnpointIfNotExist(t,e){this.endpoints.has(t)||this.endpoints.set(t,e)}resolveEndpoint(t,e){e=e||{};let i=this.endpoints.get(t);if(!i)throw t+" endpoint is not defined";let o=i.match(this.endpointVarsRegex);if(o)for(let t of o){let o=t.substring(1,t.length-1),r=e[o];if(!r)if("modelId"==o)r=this.model.getId();else{if("sourceId"!=o)throw`Parameter [${o}] is not defined`;r=this.activeEntity.id}i=i.replace(t,r)}return i}startProcess(){this.options.onProcessStart&&this.options.onProcessStart()}endProcess(){this.options.onProcessEnd&&this.options.onProcessEnd()}setDefaultEndpoints(t){this.setEnpointIfNotExist("GetMetaData",e.combinePath(t,"models/{modelId}")),this.setEnpointIfNotExist("FetchDataset",e.combinePath(t,"models/{modelId}/sources/{sourceId}/fetch")),this.setEnpointIfNotExist("FetchRecord",e.combinePath(t,"models/{modelId}/sources/{sourceId}/fetch")),this.setEnpointIfNotExist("CreateRecord",e.combinePath(t,"models/{modelId}/sources/{sourceId}/create")),this.setEnpointIfNotExist("UpdateRecord",e.combinePath(t,"models/{modelId}/sources/{sourceId}/update")),this.setEnpointIfNotExist("DeleteRecord",e.combinePath(t,"models/{modelId}/sources/{sourceId}/delete"))}}class k extends d{constructor(){super(),this.name="Type"}validate(t,i){if(!e.utils.IsDefinedAndNotNull(i)||""==i)return{successed:!0};if(e.utils.isNumericType(t.dataType)){if(!e.utils.isNumeric(i))return{successed:!1,messages:[e.i18n.getText("NumberError")]};if(e.utils.isIntType(t.dataType)&&!Number.isInteger(Number.parseFloat(i)))return{successed:!1,messages:[e.i18n.getText("IntNumberError")]}}return{successed:!0}}}class y extends d{constructor(){super(),this.name="Required"}validate(t,i){return t.isNullable||e.utils.IsDefinedAndNotNull(i)&&""!==i?{successed:!0}:{successed:!1,messages:[e.i18n.getText("RequiredError")]}}}class x{constructor(t,o,r,n){this.slot=t,this.context=o,this.basePath=r,this.options={showFilterBox:!0,showBackToEntities:!0},this.defaultValidators=[new y,new k],this.options=e.utils.assignDeep(this.options,n||{}),this.dlg=new i.DefaultDialogService;const s=this.context.getActiveEntity();if(!s)throw"Can't find active entity for "+window.location.pathname;this.slot.innerHTML+=`<h1>${s.captionPlural||s.caption}</h1>`,this.options.showBackToEntities&&i.domel(this.slot).addChild("a",(t=>t.attr("href","javascript:void(0)").text(`← ${e.i18n.getText("BackToEntities")}`).on("click",(t=>{t.preventDefault(),l(this.basePath)})))),this.renderGrid()}syncGridColumnHandler(t){if(t.dataColumn){const e=this.context.getMetaData().getAttributeById(t.dataColumn.id);e&&(t.isVisible=e.showOnView)}}renderGrid(){this.context.fetchDataset().then((t=>{const o=document.createElement("div");if(this.slot.appendChild(o),o.id="Grid",this.grid=new i.EasyGrid(e.utils.assignDeep({slot:o,dataTable:t,paging:{pageSize:15,allowPageSizeChange:!0,pageSizeItems:[15,30,50,100,200]},showPlusButton:this.context.getActiveEntity().isEditable,plusButtonTitle:e.i18n.getText("AddRecordBtnTitle"),showActiveRow:!1,onPlusButtonClick:this.addClickHandler.bind(this),onGetCellRenderer:this.manageCellRenderer.bind(this),onRowDbClick:this.rowDbClickHandler.bind(this),onSyncGridColumn:this.syncGridColumnHandler.bind(this)},this.options.grid||{})),this.options.showFilterBox){let t;const e=i.domel("div").addClass("kfrm-form").setStyle("margin","10px 0px").addChild("div",(e=>t=e.toDOM())).toDOM();this.slot.insertBefore(e,o);const r=this.context.createFilter();this.filterWidget=new u(t,this.grid,r)}}))}manageCellRenderer(t,o){if(t.isRowNum)return t.width=110,(t,o,r,n)=>{const s=i.domel("div",r).addClass("keg-cell-value");this.context.getActiveEntity().isEditable&&s.addChild("a",(t=>t.attr("href","javascript:void(0)").text(e.i18n.getText("EditBtn")).on("click",(t=>this.editClickHandler(t,parseInt(n.getAttribute("data-row-idx"))))))).addChild("span",(t=>t.text(" | "))).addChild("a",(t=>t.attr("href","javascript:void(0)").text(e.i18n.getText("DeleteBtn")).on("click",(t=>this.deleteClickHandler(t,parseInt(n.getAttribute("data-row-idx")))))))}}addClickHandler(){const t=this.context.getActiveEntity(),i=new m(this.context).onSubmit((()=>o.submit())).build();i.useValidators(this.defaultValidators);const o=this.dlg.open({title:e.i18n.getText("AddDlgCaption").replace("{entity}",t.caption),body:i.getHtml(),onSubmit:()=>{if(!i.validate())return!1;i.getData().then((t=>this.context.createRecord(t))).then((()=>this.refreshData())).catch((t=>{this.processError(t)}))}})}editClickHandler(t,e){this.grid.getData().getRow(e).then((t=>{t&&this.showEditForm(t)}))}showEditForm(t){const i=this.context.getActiveEntity(),o=new m(this.context,{isEditForm:!0,values:t}).onSubmit((()=>r.submit())).build();o.useValidators(this.defaultValidators);const r=this.dlg.open({title:e.i18n.getText("EditDlgCaption").replace("{entity}",i.caption),body:o.getHtml(),onSubmit:()=>{if(!o.validate())return!1;o.getData().then((t=>this.context.updateRecord(t))).then((()=>this.refreshData())).catch((t=>{this.processError(t)}))}})}rowDbClickHandler(t){this.context.getActiveEntity().isEditable&&this.showEditForm(t.row)}deleteClickHandler(t,i){this.grid.getData().getRow(i).then((t=>{if(t){const i=this.context.getActiveEntity(),o=i.getPrimaryAttrs(),r=o.map((e=>t.getValue(e.id))),n=o.reduce(((t,e,i)=>(t[e.id.substring(e.id.lastIndexOf(".")+1)]=r[i],t)),{});this.dlg.openConfirm(e.i18n.getText("DeleteDlgCaption").replace("{entity}",i.caption),e.i18n.getText("DeleteDlgMessage").replace("{recordId}",Object.keys(n).map((t=>`${t}:${n[t]}`)).join(";"))).then((t=>{t&&this.context.deleteRecord(n).then((()=>this.refreshData())).catch((t=>{this.processError(t)}))}))}}))}processError(t){this.dlg.open({title:"Ooops, something went wrong",body:t.message,closable:!0,cancelable:!1})}refreshData(){return this.context.fetchDataset().then((()=>{let t=!1;this.filterWidget&&(t=this.filterWidget.applyFilter(!1)),t||this.grid.refresh()}))}}class w{constructor(t,i,o){this.slot=t,this.context=i,this.basePath=o,this.metaData=this.context.getMetaData(),this.slot.innerHTML+=`<h1>${e.i18n.getText("RootViewTitle")}</h1>`,this.renderEntitySelector()}renderEntitySelector(){const t=this.metaData.getRootEntity().subEntities;this.slot&&i.domel(this.slot).addChild("div",(i=>i.addClass("ed-root").addChild("div",(t=>t.addClass("ed-menu-description").addText(e.i18n.getText(this.metaData.isEmpty()?"ModelIsEmpty":"EntityMenuDesc")))).addChild("ul",(e=>{e.addClass("ed-entity-menu"),t.forEach((t=>{e.addChild("li",(e=>{e.addClass("ed-entity-item").on("click",(()=>{l(`${this.basePath}/${decodeURIComponent(t.id)}`)})).addChild("div",(e=>{e.addClass("ed-entity-item-caption").addText(t.captionPlural||t.caption)})),t.description&&e.addChild("div",(e=>{e.addClass("ed-entity-item-descr").addText(`${t.description}`)}))}))}))}))))}}class v{constructor(t){this.options={container:"#EasyDataContainer",basePath:"easydata"},this.onSetLocation=()=>{this.setActiveView()},this.attach=()=>{window.addEventListener("ed_set_location",this.onSetLocation),window.addEventListener("popstate",this.onSetLocation)},this.options=e.utils.assign(this.options,t||{}),this.options.rootEntity?(this.options.showBackToEntities=!1,this.basePath="/"):this.basePath=this.normalizeBasePath(this.options.basePath),this.setContainer(this.options.container);const i=document.createElement("div"),o=new g(i),r=this.container.parentElement;r.insertBefore(i,r.firstElementChild),this.context=new b({endpoint:this.options.endpoint,dataTable:this.options.dataTable,onProcessStart:()=>o.show(),onProcessEnd:()=>o.hide()})}normalizeBasePath(t){t=this.trimSlashes(t);const e=decodeURIComponent(window.location.pathname),i=e.toLocaleLowerCase().indexOf(t);return i>=0?e.substring(0,i+t.length):"/"}trimSlashes(t){return t.replace(/^\/|\/$/g,"")}setContainer(t){if(!t)throw"Container is undefined";if("string"==typeof t){if(t.length){if("."===t[0]){const e=document.getElementsByClassName(t.substring(1));e.length&&(this.container=e[0])}else"#"===t[0]&&(t=t.substring(1)),this.container=document.getElementById(t);if(!this.container)throw Error("Unrecognized `container` parameter: "+t+"\nIt must be an element ID, a class name (starting with .) or an HTMLElement object itself.")}}else this.container=t}getActiveSourceId(){if(this.options.rootEntity)return this.options.rootEntity;const t=decodeURIComponent(window.location.pathname),e=this.basePath.length+1;return e<t.length?t.substring(e):null}run(){return this.attach(),this.context.loadMetaData().then((()=>{this.setActiveView()})).catch((t=>console.error(t)))}setActiveView(){this.clear();const t=this.getActiveSourceId();t?(this.context.setActiveSource(t),window.EDView=new x(this.container,this.context,this.basePath,this.options)):window.EDView=new w(this.container,this.context,this.basePath)}clear(){this.container.innerHTML="",this.context.getData().clear()}detach(){window.removeEventListener("ed_set_location",this.onSetLocation),window.removeEventListener("popstate",this.onSetLocation)}}function D(){e.i18n.updateDefaultTexts({RequiredError:"Value is required.",NumberError:"Value should be a number",IntNumberError:"Value should be an integer number",DateTimeError:"Invalid date or time value",LookupSelectedItem:"Selected item: ",LookupDlgCaption:"Select {entity}",None:"None",NavigationBtnTitle:"Navigation values",CalendarBtnTitle:"Open calendar",TimerBtnTitle:"Open timer",AddBtnTitle:"Add",AddRecordBtnTitle:"Add record",EditBtn:"Edit",DeleteBtn:"Delete",SelectLink:"[ select ]",AddDlgCaption:"Create {entity}",EditDlgCaption:"Edit {entity}",DeleteDlgCaption:"Delete {entity}",DeleteDlgMessage:"Are you sure you want to remove this record: {{recordId}}?",EntityMenuDesc:"Click on an entity to view/edit its content",BackToEntities:"Back to entities",SearchBtn:"Search",SearchInputPlaceholder:"Search...",RootViewTitle:"Entities",ModelIsEmpty:"No entity was found."})}D(),t.DataContext=b,t.EasyDataServerLoader=f,t.EasyDataViewDispatcher=v,t.EntityDataView=x,t.EntityEditForm=h,t.EntityEditFormBuilder=m,t.ProgressBar=g,t.RequiredValidator=y,t.RootDataView=w,t.TextDataFilter=o,t.TextFilterWidget=u,t.TypeValidator=k,t.Validator=d}(e,n(),s)}(0,a.exports);var l=a.exports;return window.addEventListener("load",(function(){console.log(s.showTimeSpanPicker)})),globalThis.showPicker=function(){s.showTimeSpanPicker({title:"Select Period",submitButtonText:"Ok",cancelButtonText:"Cancel",onSubmit:function(t,e){return alert("\n            You select interval with\n\n            Start: ".concat(t,"\n\n            Finish: ").concat(e,"\n        "))}})},globalThis.showPickerWithPreset=function(){s.showTimeSpanPicker({start:new Date(2023,7,11),finish:new Date(2023,7,21),onSubmit:function(t,e){return alert("\n            You select interval with\n\n            Start: ".concat(t,"\n\n            Finish: ").concat(e,"\n        "))}})},t.runDispatcher=function(t){new l.EasyDataViewDispatcher(t).run()},t}({});
